/*! For license information please see chart-a5f333c2.8fd49be240c2e952cee4.js.LICENSE.txt */
(self.webpackChunknicefish_react=self.webpackChunknicefish_react||[]).push([[783],{70596:(e,t,a)=>{var o=a(70492);!function(){for(var e in o){if(null==o||!o.hasOwnProperty(e)||"default"===e||"__esModule"===e)return;t[e]=o[e]}}();var i=a(34151);!function(){for(var e in i){if(null==i||!i.hasOwnProperty(e)||"default"===e||"__esModule"===e)return;t[e]=i[e]}}(),a(81768),a(46295),a(40451),a(94859),a(42213),a(48927),a(10064),a(81052),a(17831),a(44553),a(27539),a(66614),a(28571),a(90474),a(31978),a(83760),a(52755),a(64771),a(40055),a(59314),a(90110),a(13594),a(81741),a(78644),a(82601),a(77139),a(83062),a(52528),a(49225),a(48807),a(75781),a(84066),a(17817),a(58362),a(21865),a(53665),a(88067),a(74482),a(34563),a(35598),a(56913),a(76093),a(62227),a(31663)},95899:(e,t,a)=>{var o=a(33051),i={};function n(){this._coordinateSystems=[]}n.prototype={constructor:n,create:function(e,t){var a=[];o.each(i,(function(o,i){var n=o.create(e,t);a=a.concat(n||[])})),this._coordinateSystems=a},update:function(e,t){o.each(this._coordinateSystems,(function(a){a.update&&a.update(e,t)}))},getCoordinateSystems:function(){return this._coordinateSystems.slice()}},n.register=function(e,t){i[e]=t},n.get=function(e){return i[e]};var r=n;e.exports=r},59935:(e,t,a)=>{var o=a(33051),i=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isDisposed","on","off","getDataURL","getConnectedDataURL","getModel","getOption","getViewOfComponentModel","getViewOfSeriesModel"];e.exports=function(e){o.each(i,(function(t){this[t]=o.bind(e[t],e)}),this)}},75324:(e,t,a)=>{var o=a(70492),i=a(33051);e.exports=function(e,t){i.each(t,(function(t){t.update="updateView",o.registerAction(t,(function(a,o){var i={};return o.eachComponent({mainType:"series",subType:e,query:a},(function(e){e[t.method]&&e[t.method](a.name,a.dataIndex);var o=e.getData();o.each((function(t){var a=o.getName(t);i[a]=e.isSelected(a)||!1}))})),{name:a.name,selected:i}}))}))}},28401:(e,t,a)=>{var o=a(70492),i=a(33051),n=a(60553).updateCenterAndZoom;o.registerAction({type:"geoRoam",event:"geoRoam",update:"updateTransform"},(function(e,t){var a=e.componentType||"series";t.eachComponent({mainType:a,query:e},(function(t){var o=t.coordinateSystem;if("geo"===o.type){var r=n(o,e,t.get("scaleLimit"));t.setCenter&&t.setCenter(r.center),t.setZoom&&t.setZoom(r.zoom),"series"===a&&i.each(t.seriesGroup,(function(e){e.setCenter(r.center),e.setZoom(r.zoom)}))}}))}))},60553:(e,t)=>{t.updateCenterAndZoom=function(e,t,a){var o=e.getZoom(),i=e.getCenter(),n=t.zoom,r=e.dataToPoint(i);if(null!=t.dx&&null!=t.dy&&(r[0]-=t.dx,r[1]-=t.dy,i=e.pointToData(r),e.setCenter(i)),null!=n){if(a){var s=a.min||0,l=a.max||1/0;n=Math.max(Math.min(o*n,l),s)/o}e.scale[0]*=n,e.scale[1]*=n;var u=e.position,d=(t.originX-u[0])*(n-1),c=(t.originY-u[1])*(n-1);u[0]-=d,u[1]-=c,e.updateTransform(),i=e.pointToData(r),e.setCenter(i),e.setZoom(n*o)}return{center:e.getCenter(),zoom:e.getZoom()}}},40451:(e,t,a)=>{var o=a(70492),i=a(33051),n=a(79093),r=n.layout,s=n.largeLayout;a(77532),a(90791),a(33207),a(84617),o.registerLayout(i.curry(r,"bar")),o.registerLayout(s),o.registerVisual({seriesType:"bar",reset:function(e){e.getData().setVisual("legendSymbol","roundRect")}})},90791:(e,t,a)=>{var o=a(489).extend({type:"series.bar",dependencies:["grid","polar"],brushSelector:"rect",getProgressive:function(){return!!this.get("large")&&this.get("progressive")},getProgressiveThreshold:function(){var e=this.get("progressiveThreshold"),t=this.get("largeThreshold");return t>e&&(e=t),e}});e.exports=o},33207:(e,t,a)=>{a(38175).__DEV__;var o=a(70492),i=a(33051),n=a(51177),r=a(7905).setLabel,s=a(4272),l=a(98378),u=a(10712),d=["itemStyle","barBorderWidth"];i.extend(s.prototype,l);var c=o.extendChartView({type:"bar",render:function(e,t,a){this._updateDrawMode(e);var o=e.get("coordinateSystem");return"cartesian2d"!==o&&"polar"!==o||(this._isLargeDraw?this._renderLarge(e,t,a):this._renderNormal(e,t,a)),this.group},incrementalPrepareRender:function(e,t,a){this._clear(),this._updateDrawMode(e)},incrementalRender:function(e,t,a,o){this._incrementalRenderLarge(e,t)},_updateDrawMode:function(e){var t=e.pipelineContext.large;(null==this._isLargeDraw||t^this._isLargeDraw)&&(this._isLargeDraw=t,this._clear())},_renderNormal:function(e,t,a){var o,i=this.group,r=e.getData(),s=this._data,l=e.coordinateSystem,u=l.getBaseAxis();"cartesian2d"===l.type?o=u.isHorizontal():"polar"===l.type&&(o="angle"===u.dim);var d=e.isAnimationEnabled()?e:null;r.diff(s).add((function(t){if(r.hasValue(t)){var a=r.getItemModel(t),n=f[l.type](r,t,a),s=h[l.type](r,t,a,n,o,d);r.setItemGraphicEl(t,s),i.add(s),m(s,r,t,a,n,e,o,"polar"===l.type)}})).update((function(t,a){var u=s.getItemGraphicEl(a);if(r.hasValue(t)){var c=r.getItemModel(t),p=f[l.type](r,t,c);u?n.updateProps(u,{shape:p},d,t):u=h[l.type](r,t,c,p,o,d,!0),r.setItemGraphicEl(t,u),i.add(u),m(u,r,t,c,p,e,o,"polar"===l.type)}else i.remove(u)})).remove((function(e){var t=s.getItemGraphicEl(e);"cartesian2d"===l.type?t&&p(e,d,t):t&&g(e,d,t)})).execute(),this._data=r},_renderLarge:function(e,t,a){this._clear(),v(e,this.group)},_incrementalRenderLarge:function(e,t){v(t,this.group,!0)},dispose:i.noop,remove:function(e){this._clear(e)},_clear:function(e){var t=this.group,a=this._data;e&&e.get("animation")&&a&&!this._isLargeDraw?a.eachItemGraphicEl((function(t){"sector"===t.type?g(t.dataIndex,e,t):p(t.dataIndex,e,t)})):t.removeAll(),this._data=null}}),h={cartesian2d:function(e,t,a,o,r,s,l){var u=new n.Rect({shape:i.extend({},o)});if(s){var d=r?"height":"width",c={};u.shape[d]=0,c[d]=o[d],n[l?"updateProps":"initProps"](u,{shape:c},s,t)}return u},polar:function(e,t,a,o,r,s,l){var u=o.startAngle<o.endAngle,d=new n.Sector({shape:i.defaults({clockwise:u},o)});if(s){var c=r?"r":"endAngle",h={};d.shape[c]=r?0:o.startAngle,h[c]=o[c],n[l?"updateProps":"initProps"](d,{shape:h},s,t)}return d}};function p(e,t,a){a.style.text=null,n.updateProps(a,{shape:{width:0}},t,e,(function(){a.parent&&a.parent.remove(a)}))}function g(e,t,a){a.style.text=null,n.updateProps(a,{shape:{r:a.shape.r0}},t,e,(function(){a.parent&&a.parent.remove(a)}))}var f={cartesian2d:function(e,t,a){var o=e.getItemLayout(t),i=function(e,t){var a=e.get(d)||0;return Math.min(a,Math.abs(t.width),Math.abs(t.height))}(a,o),n=o.width>0?1:-1,r=o.height>0?1:-1;return{x:o.x+n*i/2,y:o.y+r*i/2,width:o.width-n*i,height:o.height-r*i}},polar:function(e,t,a){var o=e.getItemLayout(t);return{cx:o.cx,cy:o.cy,r0:o.r0,r:o.r,startAngle:o.startAngle,endAngle:o.endAngle}}};function m(e,t,a,o,s,l,u,d){var c=t.getItemVisual(a,"color"),h=t.getItemVisual(a,"opacity"),p=o.getModel("itemStyle"),g=o.getModel("emphasis.itemStyle").getBarItemStyle();d||e.setShape("r",p.get("barBorderRadius")||0),e.useStyle(i.defaults({fill:c,opacity:h},p.getBarItemStyle()));var f=o.getShallow("cursor");f&&e.attr("cursor",f);var m=u?s.height>0?"bottom":"top":s.width>0?"left":"right";d||r(e.style,g,o,c,l,a,m),n.setHoverStyle(e,g)}var y=u.extend({type:"largeBar",shape:{points:[]},buildPath:function(e,t){for(var a=t.points,o=this.__startPoint,i=this.__valueIdx,n=0;n<a.length;n+=2)o[this.__valueIdx]=a[n+i],e.moveTo(o[0],o[1]),e.lineTo(a[n],a[n+1])}});function v(e,t,a){var o=e.getData(),i=[],n=o.getLayout("valueAxisHorizontal")?1:0;i[1-n]=o.getLayout("valueAxisStart");var r=new y({shape:{points:o.getLayout("largePoints")},incremental:!!a,__startPoint:i,__valueIdx:n});t.add(r),function(e,t,a){var o=a.getVisual("borderColor")||a.getVisual("color"),i=t.getModel("itemStyle").getItemStyle(["color","borderColor"]);e.useStyle(i),e.style.fill=null,e.style.stroke=o,e.style.lineWidth=a.getLayout("barWidth")}(r,e,o)}e.exports=c},489:(e,t,a)=>{var o=a(93321),i=a(40488),n=o.extend({type:"series.__base_bar__",getInitialData:function(e,t){return i(this.getSource(),this)},getMarkerPosition:function(e){var t=this.coordinateSystem;if(t){var a=t.dataToPoint(t.clampData(e)),o=this.getData(),i=o.getLayout("offset"),n=o.getLayout("size");return a[t.getBaseAxis().isHorizontal()?0:1]+=i+n/2,a}return[NaN,NaN]},defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,large:!1,largeThreshold:400,progressive:3e3,progressiveChunkMode:"mod",itemStyle:{},emphasis:{}}});e.exports=n},77346:(e,t,a)=>{var o=a(489).extend({type:"series.pictorialBar",dependencies:["grid"],defaultOption:{symbol:"circle",symbolSize:null,symbolRotate:null,symbolPosition:null,symbolOffset:null,symbolMargin:null,symbolRepeat:!1,symbolRepeatDirection:"end",symbolClip:!1,symbolBoundingData:null,symbolPatternSize:400,barGap:"-100%",progressive:0,hoverAnimation:!1},getInitialData:function(e){return e.stack=null,o.superApply(this,"getInitialData",arguments)}}),i=o;e.exports=i},25874:(e,t,a)=>{var o=a(70492),i=a(33051),n=a(51177),r=a(41525).createSymbol,s=a(85669),l=s.parsePercent,u=s.isNumeric,d=a(7905).setLabel,c=["itemStyle","borderWidth"],h=[{xy:"x",wh:"width",index:0,posDesc:["left","right"]},{xy:"y",wh:"height",index:1,posDesc:["top","bottom"]}],p=new n.Circle;function g(e,t,a,o){var n=e.getItemLayout(t),r=a.get("symbolRepeat"),s=a.get("symbolClip"),d=a.get("symbolPosition")||"start",h=(a.get("symbolRotate")||0)*Math.PI/180||0,g=a.get("symbolPatternSize")||2,m=a.isAnimationEnabled(),y={dataIndex:t,layout:n,itemModel:a,symbolType:e.getItemVisual(t,"symbol")||"circle",color:e.getItemVisual(t,"color"),symbolClip:s,symbolRepeat:r,symbolRepeatDirection:a.get("symbolRepeatDirection"),symbolPatternSize:g,rotation:h,animationModel:m?a:null,hoverAnimation:m&&a.get("hoverAnimation"),z2:a.getShallow("z",!0)||0};!function(e,t,a,o,n){var r,s=o.valueDim,l=e.get("symbolBoundingData"),u=o.coordSys.getOtherAxis(o.coordSys.getBaseAxis()),d=u.toGlobalCoord(u.dataToCoord(0)),c=1-+(a[s.wh]<=0);if(i.isArray(l)){var h=[f(u,l[0])-d,f(u,l[1])-d];h[1]<h[0]&&h.reverse(),r=h[c]}else r=null!=l?f(u,l)-d:t?o.coordSysExtent[s.index][c]-d:a[s.wh];n.boundingLength=r,t&&(n.repeatCutLength=a[s.wh]),n.pxSign=r>0?1:r<0?-1:0}(a,r,n,o,y),function(e,t,a,o,n,r,s,u,d,c){var h=d.valueDim,p=d.categoryDim,g=Math.abs(a[p.wh]),f=e.getItemVisual(t,"symbolSize");i.isArray(f)?f=f.slice():(null==f&&(f="100%"),f=[f,f]),f[p.index]=l(f[p.index],g),f[h.index]=l(f[h.index],o?g:Math.abs(r)),c.symbolSize=f,(c.symbolScale=[f[0]/u,f[1]/u])[h.index]*=(d.isHorizontal?-1:1)*s}(e,t,n,r,0,y.boundingLength,y.pxSign,g,o,y),function(e,t,a,o,i){var n=e.get(c)||0;n&&(p.attr({scale:t.slice(),rotation:a}),p.updateTransform(),n/=p.getLineScale(),n*=t[o.valueDim.index]),i.valueLineWidth=n}(a,y.symbolScale,h,o,y);var v=y.symbolSize,x=a.get("symbolOffset");return i.isArray(x)&&(x=[l(x[0],v[0]),l(x[1],v[1])]),function(e,t,a,o,n,r,s,d,c,h,p,g){var f=p.categoryDim,m=p.valueDim,y=g.pxSign,v=Math.max(t[m.index]+d,0),x=v;if(o){var _=Math.abs(c),S=i.retrieve(e.get("symbolMargin"),"15%")+"",b=!1;S.lastIndexOf("!")===S.length-1&&(b=!0,S=S.slice(0,S.length-1)),S=l(S,t[m.index]);var I=Math.max(v+2*S,0),w=b?0:2*S,M=u(o),L=M?o:C((_+w)/I);I=v+2*(S=(_-L*v)/2/(b?L:L-1)),w=b?0:2*S,M||"fixed"===o||(L=h?C((Math.abs(h)+w)/I):0),x=L*I-w,g.repeatTimes=L,g.symbolMargin=S}var D=y*(x/2),A=g.pathPosition=[];A[f.index]=a[f.wh]/2,A[m.index]="start"===s?D:"end"===s?c-D:c/2,r&&(A[0]+=r[0],A[1]+=r[1]);var N=g.bundlePosition=[];N[f.index]=a[f.xy],N[m.index]=a[m.xy];var P=g.barRectShape=i.extend({},a);P[m.wh]=y*Math.max(Math.abs(a[m.wh]),Math.abs(A[m.index]+D)),P[f.wh]=a[f.wh];var T=g.clipShape={};T[f.xy]=-a[f.xy],T[f.wh]=p.ecSize[f.wh],T[m.xy]=0,T[m.wh]=a[m.wh]}(a,v,n,r,0,x,d,y.valueLineWidth,y.boundingLength,y.repeatCutLength,o,y),y}function f(e,t){return e.toGlobalCoord(e.dataToCoord(e.scale.parse(t)))}function m(e){var t=e.symbolPatternSize,a=r(e.symbolType,-t/2,-t/2,t,t,e.color);return a.attr({culling:!0}),"image"!==a.type&&a.setStyle({strokeNoScale:!0}),a}function y(e,t,a,o){var i=e.__pictorialBundle,n=a.symbolSize,r=a.valueLineWidth,s=a.pathPosition,l=t.valueDim,u=a.repeatTimes||0,d=0,c=n[t.valueDim.index]+r+2*a.symbolMargin;for(A(e,(function(e){e.__pictorialAnimationIndex=d,e.__pictorialRepeatTimes=u,d<u?N(e,null,g(d),a,o):N(e,null,{scale:[0,0]},a,o,(function(){i.remove(e)})),w(e,a),d++}));d<u;d++){var h=m(a);h.__pictorialAnimationIndex=d,h.__pictorialRepeatTimes=u,i.add(h);var p=g(d);N(h,{position:p.position,scale:[0,0]},{scale:p.scale,rotation:p.rotation},a,o),h.on("mouseover",f).on("mouseout",y),w(h,a)}function g(e){var t=s.slice(),o=a.pxSign,i=e;return("start"===a.symbolRepeatDirection?o>0:o<0)&&(i=u-1-e),t[l.index]=c*(i-u/2+.5)+s[l.index],{position:t,scale:a.symbolScale.slice(),rotation:a.rotation}}function f(){A(e,(function(e){e.trigger("emphasis")}))}function y(){A(e,(function(e){e.trigger("normal")}))}}function v(e,t,a,o){var i=e.__pictorialBundle,n=e.__pictorialMainPath;n?N(n,null,{position:a.pathPosition.slice(),scale:a.symbolScale.slice(),rotation:a.rotation},a,o):(n=e.__pictorialMainPath=m(a),i.add(n),N(n,{position:a.pathPosition.slice(),scale:[0,0],rotation:a.rotation},{scale:a.symbolScale.slice()},a,o),n.on("mouseover",(function(){this.trigger("emphasis")})).on("mouseout",(function(){this.trigger("normal")}))),w(n,a)}function x(e,t,a){var o=i.extend({},t.barRectShape),r=e.__pictorialBarRect;r?N(r,null,{shape:o},t,a):(r=e.__pictorialBarRect=new n.Rect({z2:2,shape:o,silent:!0,style:{stroke:"transparent",fill:"transparent",lineWidth:0}}),e.add(r))}function _(e,t,a,o){if(a.symbolClip){var r=e.__pictorialClipPath,s=i.extend({},a.clipShape),l=t.valueDim,u=a.animationModel,d=a.dataIndex;if(r)n.updateProps(r,{shape:s},u,d);else{s[l.wh]=0,r=new n.Rect({shape:s}),e.__pictorialBundle.setClipPath(r),e.__pictorialClipPath=r;var c={};c[l.wh]=a.clipShape[l.wh],n[o?"updateProps":"initProps"](r,{shape:c},u,d)}}}function S(e,t){var a=e.getItemModel(t);return a.getAnimationDelayParams=b,a.isAnimationEnabled=I,a}function b(e){return{index:e.__pictorialAnimationIndex,count:e.__pictorialRepeatTimes}}function I(){return this.parentModel.isAnimationEnabled()&&!!this.getShallow("animation")}function w(e,t){e.off("emphasis").off("normal");var a=t.symbolScale.slice();t.hoverAnimation&&e.on("emphasis",(function(){this.animateTo({scale:[1.1*a[0],1.1*a[1]]},400,"elasticOut")})).on("normal",(function(){this.animateTo({scale:a.slice()},400,"elasticOut")}))}function M(e,t,a,o){var i=new n.Group,r=new n.Group;return i.add(r),i.__pictorialBundle=r,r.attr("position",a.bundlePosition.slice()),a.symbolRepeat?y(i,t,a):v(i,0,a),x(i,a,o),_(i,t,a,o),i.__pictorialShapeStr=D(e,a),i.__pictorialSymbolMeta=a,i}function L(e,t,a,o){var r=o.__pictorialBarRect;r&&(r.style.text=null);var s=[];A(o,(function(e){s.push(e)})),o.__pictorialMainPath&&s.push(o.__pictorialMainPath),o.__pictorialClipPath&&(a=null),i.each(s,(function(e){n.updateProps(e,{scale:[0,0]},a,t,(function(){o.parent&&o.parent.remove(o)}))})),e.setItemGraphicEl(t,null)}function D(e,t){return[e.getItemVisual(t.dataIndex,"symbol")||"none",!!t.symbolRepeat,!!t.symbolClip].join(":")}function A(e,t,a){i.each(e.__pictorialBundle.children(),(function(o){o!==e.__pictorialBarRect&&t.call(a,o)}))}function N(e,t,a,o,i,r){t&&e.attr(t),o.symbolClip&&!i?a&&e.attr(a):a&&n[i?"updateProps":"initProps"](e,a,o.animationModel,o.dataIndex,r)}function P(e,t,a){var o=a.color,r=a.dataIndex,s=a.itemModel,l=s.getModel("itemStyle").getItemStyle(["color"]),u=s.getModel("emphasis.itemStyle").getItemStyle(),c=s.getShallow("cursor");A(e,(function(e){e.setColor(o),e.setStyle(i.defaults({fill:o,opacity:a.opacity},l)),n.setHoverStyle(e,u),c&&(e.cursor=c),e.z2=a.z2}));var h={},p=t.valueDim.posDesc[+(a.boundingLength>0)],g=e.__pictorialBarRect;d(g.style,h,s,o,t.seriesModel,r,p),n.setHoverStyle(g,h)}function C(e){var t=Math.round(e);return Math.abs(e-t)<1e-4?t:Math.ceil(e)}var T=o.extendChartView({type:"pictorialBar",render:function(e,t,a){var o=this.group,i=e.getData(),r=this._data,s=e.coordinateSystem,l=!!s.getBaseAxis().isHorizontal(),u=s.grid.getRect(),d={ecSize:{width:a.getWidth(),height:a.getHeight()},seriesModel:e,coordSys:s,coordSysExtent:[[u.x,u.x+u.width],[u.y,u.y+u.height]],isHorizontal:l,valueDim:h[+l],categoryDim:h[1-l]};return i.diff(r).add((function(e){if(i.hasValue(e)){var t=S(i,e),a=g(i,e,t,d),n=M(i,d,a);i.setItemGraphicEl(e,n),o.add(n),P(n,d,a)}})).update((function(e,t){var a=r.getItemGraphicEl(t);if(i.hasValue(e)){var s=S(i,e),l=g(i,e,s,d),u=D(i,l);a&&u!==a.__pictorialShapeStr&&(o.remove(a),i.setItemGraphicEl(e,null),a=null),a?function(e,t,a){var o=a.animationModel,i=a.dataIndex,r=e.__pictorialBundle;n.updateProps(r,{position:a.bundlePosition.slice()},o,i),a.symbolRepeat?y(e,t,a,!0):v(e,0,a,!0),x(e,a,!0),_(e,t,a,!0)}(a,d,l):a=M(i,d,l,!0),i.setItemGraphicEl(e,a),a.__pictorialSymbolMeta=l,o.add(a),P(a,d,l)}else o.remove(a)})).remove((function(e){var t=r.getItemGraphicEl(e);t&&L(r,e,t.__pictorialSymbolMeta.animationModel,t)})).execute(),this._data=i,this.group},dispose:i.noop,remove:function(e,t){var a=this.group,o=this._data;e.get("animation")?o&&o.eachItemGraphicEl((function(t){L(o,t.dataIndex,e,t)})):a.removeAll()}});e.exports=T},98378:(e,t,a)=>{var o=a(59066)([["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["stroke","barBorderColor"],["lineWidth","barBorderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),i={getBarItemStyle:function(e){var t=o(this,e);if(this.getBorderLineDash){var a=this.getBorderLineDash();a&&(t.lineDash=a)}return t}};e.exports=i},7905:(e,t,a)=>{var o=a(51177),i=a(33140).getDefaultLabel;function n(e,t){"outside"===e.textPosition&&(e.textPosition=t)}t.setLabel=function(e,t,a,r,s,l,u){var d=a.getModel("label"),c=a.getModel("emphasis.label");o.setLabelStyle(e,t,d,c,{labelFetcher:s,labelDataIndex:l,defaultText:i(s.getData(),l),isRectText:!0,autoColor:r}),n(e),n(t)}},31978:(e,t,a)=>{var o=a(70492);a(57932),a(6010);var i=a(82655),n=a(42274);o.registerVisual(i),o.registerLayout(n)},57932:(e,t,a)=>{var o=a(33051),i=a(93321),n=a(4993).seriesModelMixin,r=i.extend({type:"series.boxplot",dependencies:["xAxis","yAxis","grid"],defaultValueDimensions:[{name:"min",defaultTooltip:!0},{name:"Q1",defaultTooltip:!0},{name:"median",defaultTooltip:!0},{name:"Q3",defaultTooltip:!0},{name:"max",defaultTooltip:!0}],dimensions:null,defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,hoverAnimation:!0,layout:null,boxWidth:[7,50],itemStyle:{color:"#fff",borderWidth:1},emphasis:{itemStyle:{borderWidth:2,shadowBlur:5,shadowOffsetX:2,shadowOffsetY:2,shadowColor:"rgba(0,0,0,0.4)"}},animationEasing:"elasticOut",animationDuration:800}});o.mixin(r,n,!0);var s=r;e.exports=s},6010:(e,t,a)=>{var o=a(33051),i=a(75797),n=a(51177),r=a(10712),s=["itemStyle"],l=["emphasis","itemStyle"],u=i.extend({type:"boxplot",render:function(e,t,a){var o=e.getData(),i=this.group,n=this._data;this._data||i.removeAll();var r="horizontal"===e.get("layout")?1:0;o.diff(n).add((function(e){if(o.hasValue(e)){var t=c(o.getItemLayout(e),o,e,r,!0);o.setItemGraphicEl(e,t),i.add(t)}})).update((function(e,t){var a=n.getItemGraphicEl(t);if(o.hasValue(e)){var s=o.getItemLayout(e);a?h(s,a,o,e):a=c(s,o,e,r),i.add(a),o.setItemGraphicEl(e,a)}else i.remove(a)})).remove((function(e){var t=n.getItemGraphicEl(e);t&&i.remove(t)})).execute(),this._data=o},remove:function(e){var t=this.group,a=this._data;this._data=null,a&&a.eachItemGraphicEl((function(e){e&&t.remove(e)}))},dispose:o.noop}),d=r.extend({type:"boxplotBoxPath",shape:{},buildPath:function(e,t){var a=t.points,o=0;for(e.moveTo(a[o][0],a[o][1]),o++;o<4;o++)e.lineTo(a[o][0],a[o][1]);for(e.closePath();o<a.length;o++)e.moveTo(a[o][0],a[o][1]),o++,e.lineTo(a[o][0],a[o][1])}});function c(e,t,a,o,i){var n=e.ends,r=new d({shape:{points:i?p(n,o,e):n}});return h(e,r,t,a,i),r}function h(e,t,a,o,i){var r=a.hostModel;(0,n[i?"initProps":"updateProps"])(t,{shape:{points:e.ends}},r,o);var u=a.getItemModel(o),d=u.getModel(s),c=a.getItemVisual(o,"color"),h=d.getItemStyle(["borderColor"]);h.stroke=c,h.strokeNoScale=!0,t.useStyle(h),t.z2=100;var p=u.getModel(l).getItemStyle();n.setHoverStyle(t,p)}function p(e,t,a){return o.map(e,(function(e){return(e=e.slice())[t]=a.initBaseline,e}))}var g=u;e.exports=g},42274:(e,t,a)=>{var o=a(33051),i=a(85669).parsePercent,n=o.each;e.exports=function(e){var t=function(e){var t=[],a=[];return e.eachSeriesByType("boxplot",(function(e){var i=e.getBaseAxis(),n=o.indexOf(a,i);n<0&&(n=a.length,a[n]=i,t[n]={axis:i,seriesModels:[]}),t[n].seriesModels.push(e)})),t}(e);n(t,(function(e){var t=e.seriesModels;t.length&&(function(e){var t,a,r=e.axis,s=e.seriesModels,l=s.length,u=e.boxWidthList=[],d=e.boxOffsetList=[],c=[];if("category"===r.type)a=r.getBandWidth();else{var h=0;n(s,(function(e){h=Math.max(h,e.getData().count())})),t=r.getExtent(),Math.abs(t[1]-t[0])}n(s,(function(e){var t=e.get("boxWidth");o.isArray(t)||(t=[t,t]),c.push([i(t[0],a)||0,i(t[1],a)||0])}));var p=.8*a-2,g=p/l*.3,f=(p-g*(l-1))/l,m=f/2-p/2;n(s,(function(e,t){d.push(m),m+=g+f,u.push(Math.min(Math.max(f,c[t][0]),c[t][1]))}))}(e),n(t,(function(t,a){!function(e,t,a){var o=e.coordinateSystem,i=e.getData(),n=a/2,r="horizontal"===e.get("layout")?0:1,s=1-r,l=["x","y"],u=i.mapDimension(l[r]),d=i.mapDimension(l[s],!0);if(!(null==u||d.length<5))for(var c=0;c<i.count();c++){var h=i.get(u,c),p=x(h,d[2],c),g=x(h,d[0],c),f=x(h,d[1],c),m=x(h,d[3],c),y=x(h,d[4],c),v=[];_(v,f,0),_(v,m,1),v.push(g,f,y,m),S(v,g),S(v,y),S(v,p),i.setItemLayout(c,{initBaseline:p[s],ends:v})}function x(e,a,n){var l,u=i.get(a,n),d=[];return d[r]=e,d[s]=u,isNaN(e)||isNaN(u)?l=[NaN,NaN]:(l=o.dataToPoint(d))[r]+=t,l}function _(e,t,a){var o=t.slice(),i=t.slice();o[r]+=n,i[r]-=n,a?e.push(o,i):e.push(i,o)}function S(e,t){var a=t.slice(),o=t.slice();a[r]-=n,o[r]+=n,e.push(a,o)}}(t,e.boxOffsetList[a],e.boxWidthList[a])})))}))}},82655:e=>{var t=["itemStyle","borderColor"];e.exports=function(e,a){var o=e.get("color");e.eachRawSeriesByType("boxplot",(function(a){var i=o[a.seriesIndex%o.length],n=a.getData();n.setVisual({legendSymbol:"roundRect",color:a.get(t)||i}),e.isSeriesFiltered(a)||n.each((function(e){var a=n.getItemModel(e);n.setItemVisual(e,{color:a.get(t,!0)})}))}))}},83760:(e,t,a)=>{var o=a(70492);a(27125),a(54835);var i=a(34470),n=a(45506),r=a(57018);o.registerPreprocessor(i),o.registerVisual(n),o.registerLayout(r)},27125:(e,t,a)=>{var o=a(33051),i=a(93321),n=a(4993).seriesModelMixin,r=i.extend({type:"series.candlestick",dependencies:["xAxis","yAxis","grid"],defaultValueDimensions:[{name:"open",defaultTooltip:!0},{name:"close",defaultTooltip:!0},{name:"lowest",defaultTooltip:!0},{name:"highest",defaultTooltip:!0}],dimensions:null,defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,hoverAnimation:!0,layout:null,itemStyle:{color:"#c23531",color0:"#314656",borderWidth:1,borderColor:"#c23531",borderColor0:"#314656"},emphasis:{itemStyle:{borderWidth:2}},barMaxWidth:null,barMinWidth:null,barWidth:null,large:!0,largeThreshold:600,progressive:3e3,progressiveThreshold:1e4,progressiveChunkMode:"mod",animationUpdate:!1,animationEasing:"linear",animationDuration:300},getShadowDim:function(){return"open"},brushSelector:function(e,t,a){var o=t.getItemLayout(e);return o&&a.rect(o.brushRect)}});o.mixin(r,n,!0);var s=r;e.exports=s},54835:(e,t,a)=>{var o=a(33051),i=a(75797),n=a(51177),r=a(10712),s=["itemStyle"],l=["emphasis","itemStyle"],u=["color","color0","borderColor","borderColor0"],d=i.extend({type:"candlestick",render:function(e,t,a){this._updateDrawMode(e),this._isLargeDraw?this._renderLarge(e):this._renderNormal(e)},incrementalPrepareRender:function(e,t,a){this._clear(),this._updateDrawMode(e)},incrementalRender:function(e,t,a,o){this._isLargeDraw?this._incrementalRenderLarge(e,t):this._incrementalRenderNormal(e,t)},_updateDrawMode:function(e){var t=e.pipelineContext.large;(null==this._isLargeDraw||t^this._isLargeDraw)&&(this._isLargeDraw=t,this._clear())},_renderNormal:function(e){var t=e.getData(),a=this._data,o=this.group,i=t.getLayout("isSimpleBox");this._data||o.removeAll(),t.diff(a).add((function(a){if(t.hasValue(a)){var r,s=t.getItemLayout(a);r=h(s,0,!0),n.initProps(r,{shape:{points:s.ends}},e,a),p(r,t,a,i),o.add(r),t.setItemGraphicEl(a,r)}})).update((function(r,s){var l=a.getItemGraphicEl(s);if(t.hasValue(r)){var u=t.getItemLayout(r);l?n.updateProps(l,{shape:{points:u.ends}},e,r):l=h(u),p(l,t,r,i),o.add(l),t.setItemGraphicEl(r,l)}else o.remove(l)})).remove((function(e){var t=a.getItemGraphicEl(e);t&&o.remove(t)})).execute(),this._data=t},_renderLarge:function(e){this._clear(),m(e,this.group)},_incrementalRenderNormal:function(e,t){for(var a,o=t.getData(),i=o.getLayout("isSimpleBox");null!=(a=e.next());){var n;p(n=h(o.getItemLayout(a)),o,a,i),n.incremental=!0,this.group.add(n)}},_incrementalRenderLarge:function(e,t){m(t,this.group,!0)},remove:function(e){this._clear()},_clear:function(){this.group.removeAll(),this._data=null},dispose:o.noop}),c=r.extend({type:"normalCandlestickBox",shape:{},buildPath:function(e,t){var a=t.points;this.__simpleBox?(e.moveTo(a[4][0],a[4][1]),e.lineTo(a[6][0],a[6][1])):(e.moveTo(a[0][0],a[0][1]),e.lineTo(a[1][0],a[1][1]),e.lineTo(a[2][0],a[2][1]),e.lineTo(a[3][0],a[3][1]),e.closePath(),e.moveTo(a[4][0],a[4][1]),e.lineTo(a[5][0],a[5][1]),e.moveTo(a[6][0],a[6][1]),e.lineTo(a[7][0],a[7][1]))}});function h(e,t,a){var o=e.ends;return new c({shape:{points:a?g(o,e):o},z2:100})}function p(e,t,a,o){var i=t.getItemModel(a),r=i.getModel(s),d=t.getItemVisual(a,"color"),c=t.getItemVisual(a,"borderColor")||d,h=r.getItemStyle(u);e.useStyle(h),e.style.strokeNoScale=!0,e.style.fill=d,e.style.stroke=c,e.__simpleBox=o;var p=i.getModel(l).getItemStyle();n.setHoverStyle(e,p)}function g(e,t){return o.map(e,(function(e){return(e=e.slice())[1]=t.initBaseline,e}))}var f=r.extend({type:"largeCandlestickBox",shape:{},buildPath:function(e,t){for(var a=t.points,o=0;o<a.length;)if(this.__sign===a[o++]){var i=a[o++];e.moveTo(i,a[o++]),e.lineTo(i,a[o++])}else o+=3}});function m(e,t,a){var o=e.getData(),i=o.getLayout("largePoints"),n=new f({shape:{points:i},__sign:1});t.add(n);var r=new f({shape:{points:i},__sign:-1});t.add(r),y(1,n,e,o),y(-1,r,e,o),a&&(n.incremental=!0,r.incremental=!0)}function y(e,t,a,o){var i=e>0?"P":"N",n=o.getVisual("borderColor"+i)||o.getVisual("color"+i),r=a.getModel(s).getItemStyle(u);t.useStyle(r),t.style.fill=null,t.style.stroke=n}var v=d;e.exports=v},57018:(e,t,a)=>{var o=a(51177).subPixelOptimize,i=a(95682),n=a(85669).parsePercent,r=a(33051).retrieve2,s="undefined"!=typeof Float32Array?Float32Array:Array,l={seriesType:"candlestick",plan:i(),reset:function(e){var t=e.coordinateSystem,a=e.getData(),i=function(e,t){var a,o=e.getBaseAxis(),i="category"===o.type?o.getBandWidth():(a=o.getExtent(),Math.abs(a[1]-a[0])/t.count()),s=n(r(e.get("barMaxWidth"),i),i),l=n(r(e.get("barMinWidth"),1),i),u=e.get("barWidth");return null!=u?n(u,i):Math.max(Math.min(i/2,s),l)}(e,a),l=["x","y"],d=a.mapDimension(l[0]),c=a.mapDimension(l[1],!0),h=c[0],p=c[1],g=c[2],f=c[3];if(a.setLayout({candleWidth:i,isSimpleBox:i<=1.3}),!(null==d||c.length<4))return{progress:e.pipelineContext.large?function(e,a){for(var o,i,n=new s(5*e.count),r=0,l=[],c=[];null!=(i=e.next());){var m=a.get(d,i),y=a.get(h,i),v=a.get(p,i),x=a.get(g,i),_=a.get(f,i);isNaN(m)||isNaN(x)||isNaN(_)?(n[r++]=NaN,r+=4):(n[r++]=u(a,i,y,v,p),l[0]=m,l[1]=x,o=t.dataToPoint(l,null,c),n[r++]=o?o[0]:NaN,n[r++]=o?o[1]:NaN,l[1]=_,o=t.dataToPoint(l,null,c),n[r++]=o?o[1]:NaN)}a.setLayout("largePoints",n)}:function(e,a){for(var n;null!=(n=e.next());){var r=a.get(d,n),s=a.get(h,n),l=a.get(p,n),c=a.get(g,n),m=a.get(f,n),y=Math.min(s,l),v=Math.max(s,l),x=w(y,r),_=w(v,r),S=w(c,r),b=w(m,r),I=[];M(I,_,0),M(I,x,1),I.push(D(b),D(_),D(S),D(x)),a.setItemLayout(n,{sign:u(a,n,s,l,p),initBaseline:s>l?_[1]:x[1],ends:I,brushRect:L(c,m,r)})}function w(e,a){var o=[];return o[0]=a,o[1]=e,isNaN(a)||isNaN(e)?[NaN,NaN]:t.dataToPoint(o)}function M(e,t,a){var n=t.slice(),r=t.slice();n[0]=o(n[0]+i/2,1,!1),r[0]=o(r[0]-i/2,1,!0),a?e.push(n,r):e.push(r,n)}function L(e,t,a){var o=w(e,a),n=w(t,a);return o[0]-=i/2,n[0]-=i/2,{x:o[0],y:o[1],width:i,height:n[1]-o[1]}}function D(e){return e[0]=o(e[0],1),e}}}}};function u(e,t,a,o,i){return a>o?-1:a<o?1:t>0?e.get(i,t-1)<=o?1:-1:1}e.exports=l},45506:(e,t,a)=>{var o=a(95682),i=["itemStyle","borderColor"],n=["itemStyle","borderColor0"],r=["itemStyle","color"],s=["itemStyle","color0"],l={seriesType:"candlestick",plan:o(),performRawSeries:!0,reset:function(e,t){var a=e.getData(),o=e.pipelineContext.large;if(a.setVisual({legendSymbol:"roundRect",colorP:l(1,e),colorN:l(-1,e),borderColorP:u(1,e),borderColorN:u(-1,e)}),!t.isSeriesFiltered(e))return!o&&{progress:function(e,t){for(var a;null!=(a=e.next());){var o=t.getItemModel(a),i=t.getItemLayout(a).sign;t.setItemVisual(a,{color:l(i,o),borderColor:u(i,o)})}}};function l(e,t){return t.get(e>0?r:s)}function u(e,t){return t.get(e>0?i:n)}}};e.exports=l},34470:(e,t,a)=>{var o=a(33051);e.exports=function(e){e&&o.isArray(e.series)&&o.each(e.series,(function(e){o.isObject(e)&&"k"===e.type&&(e.type="candlestick")}))}},81741:(e,t,a)=>{a(38175).__DEV__;var o=a(33051),i=a(51177),n=a(33140).getDefaultLabel,r=a(40488),s=a(79093).getLayoutOnAxis,l=a(4130),u=a(93321),d=a(75797),c=a(7409),h=a(55389),p=a(50878),g=a(54649),f=a(64888),m=["itemStyle"],y=["emphasis","itemStyle"],v=["label"],x=["emphasis","label"],_={cartesian2d:c,geo:h,singleAxis:p,polar:g,calendar:f};function S(e,t,a,o,i){null==a[e]||i||(t[e]=a[e],a[e]=o[e])}function b(e,t,a,r){var l=e.get("renderItem"),u=e.coordinateSystem,d={};u&&(d=u.prepareCustoms?u.prepareCustoms():_[u.type](u));var c,h,p,g,f,S=o.defaults({getWidth:r.getWidth,getHeight:r.getHeight,getZr:r.getZr,getDevicePixelRatio:r.getDevicePixelRatio,value:function(e,a){return null==a&&(a=c),t.get(t.getDimension(e||0),a)},style:function(a,r){null==r&&(r=c),M(r);var s=h.getModel(m).getItemStyle();null!=f&&(s.fill=f);var l=t.getItemVisual(r,"opacity");return null!=l&&(s.opacity=l),i.setTextStyle(s,p,null,{autoColor:f,isRectText:!0}),s.text=p.getShallow("show")?o.retrieve2(e.getFormattedLabel(r,"normal"),n(t,r)):null,a&&o.extend(s,a),s},styleEmphasis:function(a,r){null==r&&(r=c),M(r);var s=h.getModel(y).getItemStyle();return i.setTextStyle(s,g,null,{isRectText:!0},!0),s.text=g.getShallow("show")?o.retrieve3(e.getFormattedLabel(r,"emphasis"),e.getFormattedLabel(r,"normal"),n(t,r)):null,a&&o.extend(s,a),s},visual:function(e,a){return null==a&&(a=c),t.getItemVisual(a,e)},barLayout:function(e){if(u.getBaseAxis){var t=u.getBaseAxis();return s(o.defaults({axis:t},e),r)}},currentSeriesIndices:function(){return a.getCurrentSeriesIndices()},font:function(e){return i.getFont(e,a)}},d.api||{}),b={context:{},seriesId:e.id,seriesName:e.name,seriesIndex:e.seriesIndex,coordSys:d.coordSys,dataInsideLength:t.count(),encode:I(e.getData())},w=!0;return function(e,a){return c=e,w=!0,l&&l(o.defaults({dataIndexInside:e,dataIndex:t.getRawIndex(e),actionType:a?a.type:null},b),S)};function M(e){null==e&&(e=c),w&&(h=t.getItemModel(e),p=h.getModel(v),g=h.getModel(x),f=t.getItemVisual(e,"color"),w=!1)}}function I(e){var t={};return o.each(e.dimensions,(function(a,o){var i=e.getDimensionInfo(a);if(!i.isExtraCoord){var n=i.coordDim;(t[n]=t[n]||[])[i.coordDimIndex]=o}})),t}function w(e,t,a,o,i,n){return(e=M(e,t,a,o,i,n,!0))&&n.setItemGraphicEl(t,e),e}function M(e,t,a,n,r,s,u){var d,c=!a,h=(a=a||{}).type,p=a.shape,g=a.style;if(e&&(c||null!=h&&h!==e.__customGraphicType||"path"===h&&(d=p)&&(d.hasOwnProperty("pathData")||d.hasOwnProperty("d"))&&N(p)!==e.__customPathData||"image"===h&&P(g,"image")&&g.image!==e.__customImagePath||"text"===h&&P(p,"text")&&g.text!==e.__customText)&&(r.remove(e),e=null),!c){var f=!e;return!e&&(e=function(e){var t,a=e.type;if("path"===a){var o=e.shape,n=null!=o.width&&null!=o.height?{x:o.x||0,y:o.y||0,width:o.width,height:o.height}:null,r=N(o);(t=i.makePath(r,null,n,o.layout||"center")).__customPathData=r}else"image"===a?(t=new i.Image({})).__customImagePath=e.style.image:"text"===a?(t=new i.Text({})).__customText=e.style.text:t=new(0,i[a.charAt(0).toUpperCase()+a.slice(1)]);return t.__customGraphicType=a,t.name=e.name,t}(a)),function(e,t,a,n,r,s,l){var u={},d=a.style||{};if(a.shape&&(u.shape=o.clone(a.shape)),a.position&&(u.position=a.position.slice()),a.scale&&(u.scale=a.scale.slice()),a.origin&&(u.origin=a.origin.slice()),a.rotation&&(u.rotation=a.rotation),"image"===e.type&&a.style){var c=u.style={};o.each(["x","y","width","height"],(function(t){S(t,c,d,e.style,s)}))}if("text"===e.type&&a.style&&(c=u.style={},o.each(["x","y"],(function(t){S(t,c,d,e.style,s)})),!d.hasOwnProperty("textFill")&&d.fill&&(d.textFill=d.fill),!d.hasOwnProperty("textStroke")&&d.stroke&&(d.textStroke=d.stroke)),"group"!==e.type&&(e.useStyle(d),s)){e.style.opacity=0;var h=d.opacity;null==h&&(h=1),i.initProps(e,{style:{opacity:h}},n,t)}s?e.attr(u):i.updateProps(e,u,n,t),a.hasOwnProperty("z2")&&e.attr("z2",a.z2||0),a.hasOwnProperty("silent")&&e.attr("silent",a.silent),a.hasOwnProperty("invisible")&&e.attr("invisible",a.invisible),a.hasOwnProperty("ignore")&&e.attr("ignore",a.ignore),a.hasOwnProperty("info")&&e.attr("info",a.info);var p=a.styleEmphasis,g=!1===p;e.__cusHasEmphStl&&null==p||!e.__cusHasEmphStl&&g||(i.setElementHoverStyle(e,p),e.__cusHasEmphStl=!g),l&&i.setAsHoverStyleTrigger(e,!g)}(e,t,a,n,0,f,u),"group"===h&&function(e,t,a,o,i){var n=a.children,r=n?n.length:0,s=a.$mergeChildren,u="byName"===s||a.diffChildrenByName,d=!1===s;if(r||u||d){if(u)return c={oldChildren:e.children()||[],newChildren:n||[],dataIndex:t,animatableModel:o,group:e,data:i},void new l(c.oldChildren,c.newChildren,L,L,c).add(D).update(D).remove(A).execute();var c;d&&e.removeAll();for(var h=0;h<r;h++)n[h]&&M(e.childAt(h),t,n[h],o,e,i)}}(e,t,a,n,s),r.add(e),e}}function L(e,t){var a=e&&e.name;return null!=a?a:"e\0\0"+t}function D(e,t){var a=this.context,o=null!=e?a.newChildren[e]:null;M(null!=t?a.oldChildren[t]:null,a.dataIndex,o,a.animatableModel,a.group,a.data)}function A(e){var t=this.context,a=t.oldChildren[e];a&&t.group.remove(a)}function N(e){return e&&(e.pathData||e.d)}function P(e,t){return e&&e.hasOwnProperty(t)}u.extend({type:"series.custom",dependencies:["grid","polar","geo","singleAxis","calendar"],defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:!0,useTransform:!0},getInitialData:function(e,t){return r(this.getSource(),this)},getDataParams:function(e,t,a){var o=u.prototype.getDataParams.apply(this,arguments);return a&&(o.info=a.info),o}}),d.extend({type:"custom",_data:null,render:function(e,t,a,o){var i=this._data,n=e.getData(),r=this.group,s=b(e,n,t,a);n.diff(i).add((function(t){w(null,t,s(t,o),e,r,n)})).update((function(t,a){w(i.getItemGraphicEl(a),t,s(t,o),e,r,n)})).remove((function(e){var t=i.getItemGraphicEl(e);t&&r.remove(t)})).execute(),this._data=n},incrementalPrepareRender:function(e,t,a){this.group.removeAll(),this._data=null},incrementalRender:function(e,t,a,o,i){var n=t.getData(),r=b(t,n,a,o);function s(e){e.isGroup||(e.incremental=!0,e.useHoverLayer=!0)}for(var l=e.start;l<e.end;l++)w(null,l,r(l,i),t,this.group,n).traverse(s)},dispose:o.noop,filterForExposedEvent:function(e,t,a,o){var i=t.element;if(null==i||a.name===i)return!0;for(;(a=a.parent)&&a!==this.group;)if(a.name===i)return!0;return!1}})},52755:(e,t,a)=>{var o=a(70492);a(6344),a(11243);var i=a(34586),n=a(21149);o.registerVisual(i("effectScatter","circle")),o.registerLayout(n("effectScatter"))},6344:(e,t,a)=>{var o=a(40488),i=a(93321).extend({type:"series.effectScatter",dependencies:["grid","polar"],getInitialData:function(e,t){return o(this.getSource(),this)},brushSelector:"point",defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:!0,effectType:"ripple",progressive:0,showEffectOn:"render",rippleEffect:{period:4,scale:2.5,brushType:"fill"},symbolSize:10}});e.exports=i},11243:(e,t,a)=>{var o=a(70492),i=a(68162),n=a(53036),r=a(32892),s=a(21149),l=o.extendChartView({type:"effectScatter",init:function(){this._symbolDraw=new i(n)},render:function(e,t,a){var o=e.getData(),i=this._symbolDraw;i.updateData(o),this.group.add(i.group)},updateTransform:function(e,t,a){var o=e.getData();this.group.dirty();var i=s().reset(e);i.progress&&i.progress({start:0,end:o.count()},o),this._symbolDraw.updateLayout(o)},_updateGroupTransform:function(e){var t=e.coordinateSystem;t&&t.getRoamTransform&&(this.group.transform=r.clone(t.getRoamTransform()),this.group.decomposeTransform())},remove:function(e,t){this._symbolDraw&&this._symbolDraw.remove(t)},dispose:function(){}});e.exports=l},66614:(e,t,a)=>{var o=a(70492);a(51711),a(54260);var i=a(69274),n=a(95378),r=a(22528);o.registerVisual(i("funnel")),o.registerLayout(n),o.registerProcessor(r("funnel"))},51711:(e,t,a)=>{var o=a(70492),i=a(23263),n=a(32234).defaultEmphasis,r=o.extendSeriesModel({type:"series.funnel",init:function(e){r.superApply(this,"init",arguments),this.legendDataProvider=function(){return this.getRawData()},this._defaultLabelLine(e)},getInitialData:function(e,t){return i(this,["value"])},_defaultLabelLine:function(e){n(e,"labelLine",["show"]);var t=e.labelLine,a=e.emphasis.labelLine;t.show=t.show&&e.label.show,a.show=a.show&&e.emphasis.label.show},getDataParams:function(e){var t=this.getData(),a=r.superCall(this,"getDataParams",e),o=t.mapDimension("value"),i=t.getSum(o);return a.percent=i?+(t.get(o,e)/i*100).toFixed(2):0,a.$vars.push("percent"),a},defaultOption:{zlevel:0,z:2,legendHoverLink:!0,left:80,top:60,right:80,bottom:60,minSize:"0%",maxSize:"100%",sort:"descending",gap:0,funnelAlign:"center",label:{show:!0,position:"outer"},labelLine:{show:!0,length:20,lineStyle:{width:1,type:"solid"}},itemStyle:{borderColor:"#fff",borderWidth:1},emphasis:{label:{show:!0}}}}),s=r;e.exports=s},54260:(e,t,a)=>{var o=a(51177),i=a(33051),n=a(75797);function r(e,t){o.Group.call(this);var a=new o.Polygon,i=new o.Polyline,n=new o.Text;function r(){i.ignore=i.hoverIgnore,n.ignore=n.hoverIgnore}function s(){i.ignore=i.normalIgnore,n.ignore=n.normalIgnore}this.add(a),this.add(i),this.add(n),this.updateData(e,t,!0),this.on("emphasis",r).on("normal",s).on("mouseover",r).on("mouseout",s)}var s=r.prototype,l=["itemStyle","opacity"];s.updateData=function(e,t,a){var n=this.childAt(0),r=e.hostModel,s=e.getItemModel(t),u=e.getItemLayout(t),d=e.getItemModel(t).get(l);d=null==d?1:d,n.useStyle({}),a?(n.setShape({points:u.points}),n.setStyle({opacity:0}),o.initProps(n,{style:{opacity:d}},r,t)):o.updateProps(n,{style:{opacity:d},shape:{points:u.points}},r,t);var c=s.getModel("itemStyle"),h=e.getItemVisual(t,"color");n.setStyle(i.defaults({lineJoin:"round",fill:h},c.getItemStyle(["opacity"]))),n.hoverStyle=c.getModel("emphasis").getItemStyle(),this._updateLabel(e,t),o.setHoverStyle(this)},s._updateLabel=function(e,t){var a=this.childAt(1),i=this.childAt(2),n=e.hostModel,r=e.getItemModel(t),s=e.getItemLayout(t).label,l=e.getItemVisual(t,"color");o.updateProps(a,{shape:{points:s.linePoints||s.linePoints}},n,t),o.updateProps(i,{style:{x:s.x,y:s.y}},n,t),i.attr({rotation:s.rotation,origin:[s.x,s.y],z2:10});var u=r.getModel("label"),d=r.getModel("emphasis.label"),c=r.getModel("labelLine"),h=r.getModel("emphasis.labelLine");l=e.getItemVisual(t,"color"),o.setLabelStyle(i.style,i.hoverStyle={},u,d,{labelFetcher:e.hostModel,labelDataIndex:t,defaultText:e.getName(t),autoColor:l,useInsideStyle:!!s.inside},{textAlign:s.textAlign,textVerticalAlign:s.verticalAlign}),i.ignore=i.normalIgnore=!u.get("show"),i.hoverIgnore=!d.get("show"),a.ignore=a.normalIgnore=!c.get("show"),a.hoverIgnore=!h.get("show"),a.setStyle({stroke:l}),a.setStyle(c.getModel("lineStyle").getLineStyle()),a.hoverStyle=h.getModel("lineStyle").getLineStyle()},i.inherits(r,o.Group);var u=n.extend({type:"funnel",render:function(e,t,a){var o=e.getData(),i=this._data,n=this.group;o.diff(i).add((function(e){var t=new r(o,e);o.setItemGraphicEl(e,t),n.add(t)})).update((function(e,t){var a=i.getItemGraphicEl(t);a.updateData(o,e),n.add(a),o.setItemGraphicEl(e,a)})).remove((function(e){var t=i.getItemGraphicEl(e);n.remove(t)})).execute(),this._data=o},remove:function(){this.group.removeAll(),this._data=null},dispose:function(){}});e.exports=u},95378:(e,t,a)=>{var o=a(76172),i=a(85669),n=i.parsePercent,r=i.linearMap;e.exports=function(e,t,a){e.eachSeriesByType("funnel",(function(e){var a=e.getData(),i=a.mapDimension("value"),s=e.get("sort"),l=function(e,t){return o.getLayoutRect(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}(e,t),u=function(e,t){for(var a=e.mapDimension("value"),o=e.mapArray(a,(function(e){return e})),i=[],n="ascending"===t,r=0,s=e.count();r<s;r++)i[r]=r;return"function"==typeof t?i.sort(t):"none"!==t&&i.sort((function(e,t){return n?o[e]-o[t]:o[t]-o[e]})),i}(a,s),d=[n(e.get("minSize"),l.width),n(e.get("maxSize"),l.width)],c=a.getDataExtent(i),h=e.get("min"),p=e.get("max");null==h&&(h=Math.min(c[0],0)),null==p&&(p=c[1]);var g=e.get("funnelAlign"),f=e.get("gap"),m=(l.height-f*(a.count()-1))/a.count(),y=l.y,v=function(e,t){var o,n=a.get(i,e)||0,s=r(n,[h,p],d,!0);switch(g){case"left":o=l.x;break;case"center":o=l.x+(l.width-s)/2;break;case"right":o=l.x+l.width-s}return[[o,t],[o+s,t]]};"ascending"===s&&(m=-m,f=-f,y+=l.height,u=u.reverse());for(var x=0;x<u.length;x++){var _=u[x],S=u[x+1],b=a.getItemModel(_).get("itemStyle.height");null==b?b=m:(b=n(b,l.height),"ascending"===s&&(b=-b));var I=v(_,y),w=v(S,y+b);y+=b+f,a.setItemLayout(_,{points:I.concat(w.slice().reverse())})}!function(e){e.each((function(t){var a,o,i,n,r=e.getItemModel(t),s=r.getModel("label").get("position"),l=r.getModel("labelLine"),u=e.getItemLayout(t),d=u.points,c="inner"===s||"inside"===s||"center"===s;if(c)a="center",n=[[o=(d[0][0]+d[1][0]+d[2][0]+d[3][0])/4,i=(d[0][1]+d[1][1]+d[2][1]+d[3][1])/4],[o,i]];else{var h,p,g,f=l.get("length");"left"===s?(h=(d[3][0]+d[0][0])/2,p=(d[3][1]+d[0][1])/2,o=(g=h-f)-5,a="right"):(h=(d[1][0]+d[2][0])/2,p=(d[1][1]+d[2][1])/2,o=(g=h+f)+5,a="left"),n=[[h,p],[g,p]],i=p}u.label={linePoints:n,x:o,y:i,verticalAlign:"middle",textAlign:a,inside:c}}))}(a)}))}},27539:(e,t,a)=>{a(37860),a(72826)},37860:(e,t,a)=>{var o=a(23263),i=a(93321),n=a(33051),r=i.extend({type:"series.gauge",getInitialData:function(e,t){var a=e.data||[];return n.isArray(a)||(a=[a]),e.data=a,o(this,["value"])},defaultOption:{zlevel:0,z:2,center:["50%","50%"],legendHoverLink:!0,radius:"75%",startAngle:225,endAngle:-45,clockwise:!0,min:0,max:100,splitNumber:10,axisLine:{show:!0,lineStyle:{color:[[.2,"#91c7ae"],[.8,"#63869e"],[1,"#c23531"]],width:30}},splitLine:{show:!0,length:30,lineStyle:{color:"#eee",width:2,type:"solid"}},axisTick:{show:!0,splitNumber:5,length:8,lineStyle:{color:"#eee",width:1,type:"solid"}},axisLabel:{show:!0,distance:5,color:"auto"},pointer:{show:!0,length:"80%",width:8},itemStyle:{color:"auto"},title:{show:!0,offsetCenter:[0,"-40%"],color:"#333",fontSize:15},detail:{show:!0,backgroundColor:"rgba(0,0,0,0)",borderWidth:0,borderColor:"#ccc",width:100,height:null,padding:[5,10],offsetCenter:[0,"40%"],color:"auto",fontSize:30}}});e.exports=r},72826:(e,t,a)=>{var o=a(30931),i=a(51177),n=a(75797),r=a(85669),s=r.parsePercent,l=r.round,u=r.linearMap;function d(e,t){return t&&("string"==typeof t?e=t.replace("{value}",null!=e?e:""):"function"==typeof t&&(e=t(e))),e}var c=2*Math.PI,h=n.extend({type:"gauge",render:function(e,t,a){this.group.removeAll();var o=e.get("axisLine.lineStyle.color"),i=function(e,t){var a=e.get("center"),o=t.getWidth(),i=t.getHeight(),n=Math.min(o,i);return{cx:s(a[0],t.getWidth()),cy:s(a[1],t.getHeight()),r:s(e.get("radius"),n/2)}}(e,a);this._renderMain(e,t,a,o,i)},dispose:function(){},_renderMain:function(e,t,a,o,n){for(var r=this.group,s=e.getModel("axisLine").getModel("lineStyle"),l=e.get("clockwise"),u=-e.get("startAngle")/180*Math.PI,d=((f=-e.get("endAngle")/180*Math.PI)-u)%c,h=u,p=s.get("width"),g=0;g<o.length;g++){var f=u+d*Math.min(Math.max(o[g][0],0),1),m=new i.Sector({shape:{startAngle:h,endAngle:f,cx:n.cx,cy:n.cy,clockwise:l,r0:n.r-p,r:n.r},silent:!0});m.setStyle({fill:o[g][1]}),m.setStyle(s.getLineStyle(["color","borderWidth","borderColor"])),r.add(m),h=f}var y=function(e){if(e<=0)return o[0][1];for(var t=0;t<o.length;t++)if(o[t][0]>=e&&(0===t?0:o[t-1][0])<e)return o[t][1];return o[t-1][1]};if(!l){var v=u;u=f,f=v}this._renderTicks(e,t,a,y,n,u,f,l),this._renderPointer(e,t,a,y,n,u,f,l),this._renderTitle(e,t,a,y,n),this._renderDetail(e,t,a,y,n)},_renderTicks:function(e,t,a,o,n,r,u,c){for(var h=this.group,p=n.cx,g=n.cy,f=n.r,m=+e.get("min"),y=+e.get("max"),v=e.getModel("splitLine"),x=e.getModel("axisTick"),_=e.getModel("axisLabel"),S=e.get("splitNumber"),b=x.get("splitNumber"),I=s(v.get("length"),f),w=s(x.get("length"),f),M=r,L=(u-r)/S,D=L/b,A=v.getModel("lineStyle").getLineStyle(),N=x.getModel("lineStyle").getLineStyle(),P=0;P<=S;P++){var C=Math.cos(M),T=Math.sin(M);if(v.get("show")){var R=new i.Line({shape:{x1:C*f+p,y1:T*f+g,x2:C*(f-I)+p,y2:T*(f-I)+g},style:A,silent:!0});"auto"===A.stroke&&R.setStyle({stroke:o(P/S)}),h.add(R)}if(_.get("show")){var E=d(l(P/S*(y-m)+m),_.get("formatter")),V=_.get("distance"),O=o(P/S);h.add(new i.Text({style:i.setTextStyle({},_,{text:E,x:C*(f-I-V)+p,y:T*(f-I-V)+g,textVerticalAlign:T<-.4?"top":T>.4?"bottom":"middle",textAlign:C<-.4?"left":C>.4?"right":"center"},{autoColor:O}),silent:!0}))}if(x.get("show")&&P!==S){for(var z=0;z<=b;z++){C=Math.cos(M),T=Math.sin(M);var G=new i.Line({shape:{x1:C*f+p,y1:T*f+g,x2:C*(f-w)+p,y2:T*(f-w)+g},silent:!0,style:N});"auto"===N.stroke&&G.setStyle({stroke:o((P+z/b)/S)}),h.add(G),M+=D}M-=D}else M+=L}},_renderPointer:function(e,t,a,n,r,l,d,c){var h=this.group,p=this._data;if(e.get("pointer.show")){var g=[+e.get("min"),+e.get("max")],f=[l,d],m=e.getData(),y=m.mapDimension("value");m.diff(p).add((function(t){var a=new o({shape:{angle:l}});i.initProps(a,{shape:{angle:u(m.get(y,t),g,f,!0)}},e),h.add(a),m.setItemGraphicEl(t,a)})).update((function(t,a){var o=p.getItemGraphicEl(a);i.updateProps(o,{shape:{angle:u(m.get(y,t),g,f,!0)}},e),h.add(o),m.setItemGraphicEl(t,o)})).remove((function(e){var t=p.getItemGraphicEl(e);h.remove(t)})).execute(),m.eachItemGraphicEl((function(e,t){var a=m.getItemModel(t),o=a.getModel("pointer");e.setShape({x:r.cx,y:r.cy,width:s(o.get("width"),r.r),r:s(o.get("length"),r.r)}),e.useStyle(a.getModel("itemStyle").getItemStyle()),"auto"===e.style.fill&&e.setStyle("fill",n(u(m.get(y,t),g,[0,1],!0))),i.setHoverStyle(e,a.getModel("emphasis.itemStyle").getItemStyle())})),this._data=m}else p&&p.eachItemGraphicEl((function(e){h.remove(e)}))},_renderTitle:function(e,t,a,o,n){var r=e.getData(),l=r.mapDimension("value"),d=e.getModel("title");if(d.get("show")){var c=d.get("offsetCenter"),h=n.cx+s(c[0],n.r),p=n.cy+s(c[1],n.r),g=+e.get("min"),f=+e.get("max"),m=e.getData().get(l,0),y=o(u(m,[g,f],[0,1],!0));this.group.add(new i.Text({silent:!0,style:i.setTextStyle({},d,{x:h,y:p,text:r.getName(0),textAlign:"center",textVerticalAlign:"middle"},{autoColor:y,forceRich:!0})}))}},_renderDetail:function(e,t,a,o,n){var r=e.getModel("detail"),l=+e.get("min"),c=+e.get("max");if(r.get("show")){var h=r.get("offsetCenter"),p=n.cx+s(h[0],n.r),g=n.cy+s(h[1],n.r),f=s(r.get("width"),n.r),m=s(r.get("height"),n.r),y=e.getData(),v=y.get(y.mapDimension("value"),0),x=o(u(v,[l,c],[0,1],!0));this.group.add(new i.Text({silent:!0,style:i.setTextStyle({},r,{x:p,y:g,text:d(v,r.get("formatter")),textWidth:isNaN(f)?null:f,textHeight:isNaN(m)?null:m,textAlign:"center",textVerticalAlign:"middle"},{autoColor:x,forceRich:!0})}))}}});e.exports=h},30931:(e,t,a)=>{var o=a(10712).extend({type:"echartsGaugePointer",shape:{angle:0,width:10,r:10,x:0,y:0},buildPath:function(e,t){var a=Math.cos,o=Math.sin,i=t.r,n=t.width,r=t.angle,s=t.x-a(r)*n*(n>=i/3?1:2),l=t.y-o(r)*n*(n>=i/3?1:2);r=t.angle-Math.PI/2,e.moveTo(s,l),e.lineTo(t.x+a(r)*n,t.y+o(r)*n),e.lineTo(t.x+a(t.angle)*i,t.y+o(t.angle)*i),e.lineTo(t.x-a(r)*n,t.y-o(r)*n),e.lineTo(s,l)}});e.exports=o},44553:(e,t,a)=>{var o=a(70492);a(55269),a(39107),a(89562);var i=a(60548),n=a(34586),r=a(19918),s=a(86733),l=a(41241),u=a(36846),d=a(6921),c=a(53081);o.registerProcessor(i),o.registerVisual(n("graph","circle",null)),o.registerVisual(r),o.registerVisual(s),o.registerLayout(l),o.registerLayout(u),o.registerLayout(d),o.registerCoordinateSystem("graphView",{create:c})},55269:(e,t,a)=>{var o=a(70492),i=a(87587),n=a(33051),r=a(32234).defaultEmphasis,s=a(4272),l=a(78988).encodeHTML,u=a(19638),d=o.extendSeriesModel({type:"series.graph",init:function(e){d.superApply(this,"init",arguments),this.legendDataProvider=function(){return this._categoriesData},this.fillDataTextStyle(e.edges||e.links),this._updateCategoriesData()},mergeOption:function(e){d.superApply(this,"mergeOption",arguments),this.fillDataTextStyle(e.edges||e.links),this._updateCategoriesData()},mergeDefaultAndTheme:function(e){d.superApply(this,"mergeDefaultAndTheme",arguments),r(e,["edgeLabel"],["show"])},getInitialData:function(e,t){var a=e.edges||e.links||[],o=e.data||e.nodes||[],i=this;if(o&&a)return u(o,a,this,!0,(function(e,a){e.wrapMethod("getItemModel",(function(e){var t=i._categoriesModels[e.getShallow("category")];return t&&(t.parentModel=e.parentModel,e.parentModel=t),e}));var o=i.getModel("edgeLabel"),n=new s({label:o.option},o.parentModel,t),r=i.getModel("emphasis.edgeLabel"),l=new s({emphasis:{label:r.option}},r.parentModel,t);function u(e){return(e=this.parsePath(e))&&"label"===e[0]?n:e&&"emphasis"===e[0]&&"label"===e[1]?l:this.parentModel}a.wrapMethod("getItemModel",(function(e){return e.customizeGetParent(u),e}))})).data},getGraph:function(){return this.getData().graph},getEdgeData:function(){return this.getGraph().edgeData},getCategoriesData:function(){return this._categoriesData},formatTooltip:function(e,t,a){if("edge"===a){var o=this.getData(),i=this.getDataParams(e,a),n=o.graph.getEdgeByIndex(e),r=o.getName(n.node1.dataIndex),s=o.getName(n.node2.dataIndex),u=[];return null!=r&&u.push(r),null!=s&&u.push(s),u=l(u.join(" > ")),i.value&&(u+=" : "+l(i.value)),u}return d.superApply(this,"formatTooltip",arguments)},_updateCategoriesData:function(){var e=n.map(this.option.categories||[],(function(e){return null!=e.value?e:n.extend({value:0},e)})),t=new i(["value"],this);t.initData(e),this._categoriesData=t,this._categoriesModels=t.mapArray((function(e){return t.getItemModel(e,!0)}))},setZoom:function(e){this.option.zoom=e},setCenter:function(e){this.option.center=e},isAnimationEnabled:function(){return d.superCall(this,"isAnimationEnabled")&&!("force"===this.get("layout")&&this.get("force.layoutAnimation"))},defaultOption:{zlevel:0,z:2,coordinateSystem:"view",legendHoverLink:!0,hoverAnimation:!0,layout:null,focusNodeAdjacency:!1,circular:{rotateLabel:!1},force:{initLayout:null,repulsion:[0,50],gravity:.1,edgeLength:30,layoutAnimation:!0},left:"center",top:"center",symbol:"circle",symbolSize:10,edgeSymbol:["none","none"],edgeSymbolSize:10,edgeLabel:{position:"middle"},draggable:!1,roam:!1,center:null,zoom:1,nodeScaleRatio:.6,label:{show:!1,formatter:"{b}"},itemStyle:{},lineStyle:{color:"#aaa",width:1,curveness:0,opacity:.5},emphasis:{label:{show:!0}}}}),c=d;e.exports=c},39107:(e,t,a)=>{var o=a(70492),i=a(33051),n=a(68162),r=a(47145),s=a(9176),l=a(31194),u=a(61485).onIrrelevantElement,d=a(51177),c=a(13328),h="__focusNodeAdjacency",p="__unfocusNodeAdjacency",g=["itemStyle","opacity"],f=["lineStyle","opacity"];function m(e,t){return e.getVisual("opacity")||e.getModel().get(t)}function y(e,t,a){var o=e.getGraphicEl(),i=m(e,t);null!=a&&(null==i&&(i=1),i*=a),o.downplay&&o.downplay(),o.traverse((function(e){if("group"!==e.type){var t=e.lineLabelOriginalOpacity;null!=t&&null==a||(t=i),e.setStyle("opacity",t)}}))}function v(e,t){var a=m(e,t),o=e.getGraphicEl();o.highlight&&o.highlight(),o.traverse((function(e){"group"!==e.type&&e.setStyle("opacity",a)}))}var x=o.extendChartView({type:"graph",init:function(e,t){var a=new n,o=new r,i=this.group;this._controller=new s(t.getZr()),this._controllerHost={target:i},i.add(a.group),i.add(o.group),this._symbolDraw=a,this._lineDraw=o,this._firstRender=!0},render:function(e,t,a){var o=e.coordinateSystem;this._model=e,this._nodeScaleRatio=e.get("nodeScaleRatio");var i=this._symbolDraw,n=this._lineDraw,r=this.group;if("view"===o.type){var s={position:o.position,scale:o.scale};this._firstRender?r.attr(s):d.updateProps(r,s,e)}c(e.getGraph(),this._getNodeGlobalScale(e));var l=e.getData();i.updateData(l);var u=e.getEdgeData();n.updateData(u),this._updateNodeAndLinkScale(),this._updateController(e,t,a),clearTimeout(this._layoutTimeout);var g=e.forceLayout,f=e.get("force.layoutAnimation");g&&this._startForceLayoutIteration(g,f),l.eachItemGraphicEl((function(t,o){var i=l.getItemModel(o);t.off("drag").off("dragend");var n=i.get("draggable");n&&t.on("drag",(function(){g&&(g.warmUp(),!this._layouting&&this._startForceLayoutIteration(g,f),g.setFixed(o),l.setItemLayout(o,t.position))}),this).on("dragend",(function(){g&&g.setUnfixed(o)}),this),t.setDraggable(n&&g),t[h]&&t.off("mouseover",t[h]),t[p]&&t.off("mouseout",t[p]),i.get("focusNodeAdjacency")&&(t.on("mouseover",t[h]=function(){a.dispatchAction({type:"focusNodeAdjacency",seriesId:e.id,dataIndex:t.dataIndex})}),t.on("mouseout",t[p]=function(){a.dispatchAction({type:"unfocusNodeAdjacency",seriesId:e.id})}))}),this),l.graph.eachEdge((function(t){var o=t.getGraphicEl();o[h]&&o.off("mouseover",o[h]),o[p]&&o.off("mouseout",o[p]),t.getModel().get("focusNodeAdjacency")&&(o.on("mouseover",o[h]=function(){a.dispatchAction({type:"focusNodeAdjacency",seriesId:e.id,edgeDataIndex:t.dataIndex})}),o.on("mouseout",o[p]=function(){a.dispatchAction({type:"unfocusNodeAdjacency",seriesId:e.id})}))}));var m="circular"===e.get("layout")&&e.get("circular.rotateLabel"),y=l.getLayout("cx"),v=l.getLayout("cy");l.eachItemGraphicEl((function(e,t){var a=e.getSymbolPath();if(m){var o=l.getItemLayout(t),i=Math.atan2(o[1]-v,o[0]-y);i<0&&(i=2*Math.PI+i);var n=o[0]<y;n&&(i-=Math.PI);var r=n?"left":"right";a.setStyle({textRotation:-i,textPosition:r,textOrigin:"center"}),a.hoverStyle&&(a.hoverStyle.textPosition=r)}else a.setStyle({textRotation:0})})),this._firstRender=!1},dispose:function(){this._controller&&this._controller.dispose(),this._controllerHost={}},focusNodeAdjacency:function(e,t,a,o){var n=this._model.getData().graph,r=o.dataIndex,s=o.edgeDataIndex,l=n.getNodeByIndex(r),u=n.getEdgeByIndex(s);(l||u)&&(n.eachNode((function(e){y(e,g,.1)})),n.eachEdge((function(e){y(e,f,.1)})),l&&(v(l,g),i.each(l.edges,(function(e){e.dataIndex<0||(v(e,f),v(e.node1,g),v(e.node2,g))}))),u&&(v(u,f),v(u.node1,g),v(u.node2,g)))},unfocusNodeAdjacency:function(e,t,a,o){var i=this._model.getData().graph;i.eachNode((function(e){y(e,g)})),i.eachEdge((function(e){y(e,f)}))},_startForceLayoutIteration:function(e,t){var a=this;!function o(){e.step((function(e){a.updateLayout(a._model),(a._layouting=!e)&&(t?a._layoutTimeout=setTimeout(o,16):o())}))}()},_updateController:function(e,t,a){var o=this._controller,i=this._controllerHost,n=this.group;o.setPointerChecker((function(t,o,i){var r=n.getBoundingRect();return r.applyTransform(n.transform),r.contain(o,i)&&!u(t,a,e)})),"view"===e.coordinateSystem.type?(o.enable(e.get("roam")),i.zoomLimit=e.get("scaleLimit"),i.zoom=e.coordinateSystem.getZoom(),o.off("pan").off("zoom").on("pan",(function(t){l.updateViewOnPan(i,t.dx,t.dy),a.dispatchAction({seriesId:e.id,type:"graphRoam",dx:t.dx,dy:t.dy})})).on("zoom",(function(t){l.updateViewOnZoom(i,t.scale,t.originX,t.originY),a.dispatchAction({seriesId:e.id,type:"graphRoam",zoom:t.scale,originX:t.originX,originY:t.originY}),this._updateNodeAndLinkScale(),c(e.getGraph(),this._getNodeGlobalScale(e)),this._lineDraw.updateLayout()}),this)):o.disable()},_updateNodeAndLinkScale:function(){var e=this._model,t=e.getData(),a=this._getNodeGlobalScale(e),o=[a,a];t.eachItemGraphicEl((function(e,t){e.attr("scale",o)}))},_getNodeGlobalScale:function(e){var t=e.coordinateSystem;if("view"!==t.type)return 1;var a=this._nodeScaleRatio,o=t.scale,i=o&&o[0]||1;return((t.getZoom()-1)*a+1)/i},updateLayout:function(e){c(e.getGraph(),this._getNodeGlobalScale(e)),this._symbolDraw.updateLayout(),this._lineDraw.updateLayout()},remove:function(e,t){this._symbolDraw&&this._symbolDraw.remove(),this._lineDraw&&this._lineDraw.remove()}});e.exports=x},13328:(e,t,a)=>{var o=a(18554),i=a(45280),n=[],r=[],s=[],l=o.quadraticAt,u=i.distSquare,d=Math.abs;function c(e,t,a){for(var o,i=e[0],c=e[1],h=e[2],p=1/0,g=a*a,f=.1,m=.1;m<=.9;m+=.1)n[0]=l(i[0],c[0],h[0],m),n[1]=l(i[1],c[1],h[1],m),(x=d(u(n,t)-g))<p&&(p=x,o=m);for(var y=0;y<32;y++){var v=o+f;r[0]=l(i[0],c[0],h[0],o),r[1]=l(i[1],c[1],h[1],o),s[0]=l(i[0],c[0],h[0],v),s[1]=l(i[1],c[1],h[1],v);var x=u(r,t)-g;if(d(x)<.01)break;var _=u(s,t)-g;f/=2,x<0?_>=0?o+=f:o-=f:_>=0?o-=f:o+=f}return o}e.exports=function(e,t){var a=[],n=o.quadraticSubdivide,r=[[],[],[]],s=[[],[]],l=[];function u(e){var t=e.getVisual("symbolSize");return t instanceof Array&&(t=(t[0]+t[1])/2),t}t/=2,e.eachEdge((function(e,o){var d=e.getLayout(),h=e.getVisual("fromSymbol"),p=e.getVisual("toSymbol");d.__original||(d.__original=[i.clone(d[0]),i.clone(d[1])],d[2]&&d.__original.push(i.clone(d[2])));var g=d.__original;if(null!=d[2]){if(i.copy(r[0],g[0]),i.copy(r[1],g[2]),i.copy(r[2],g[1]),h&&"none"!==h){var f=u(e.node1),m=c(r,g[0],f*t);n(r[0][0],r[1][0],r[2][0],m,a),r[0][0]=a[3],r[1][0]=a[4],n(r[0][1],r[1][1],r[2][1],m,a),r[0][1]=a[3],r[1][1]=a[4]}p&&"none"!==p&&(f=u(e.node2),m=c(r,g[1],f*t),n(r[0][0],r[1][0],r[2][0],m,a),r[1][0]=a[1],r[2][0]=a[2],n(r[0][1],r[1][1],r[2][1],m,a),r[1][1]=a[1],r[2][1]=a[2]),i.copy(d[0],r[0]),i.copy(d[1],r[2]),i.copy(d[2],r[1])}else i.copy(s[0],g[0]),i.copy(s[1],g[1]),i.sub(l,s[1],s[0]),i.normalize(l,l),h&&"none"!==h&&(f=u(e.node1),i.scaleAndAdd(s[0],s[0],l,f*t)),p&&"none"!==p&&(f=u(e.node2),i.scaleAndAdd(s[1],s[1],l,-f*t)),i.copy(d[0],s[0]),i.copy(d[1],s[1])}))}},60548:e=>{e.exports=function(e){var t=e.findComponents({mainType:"legend"});t&&t.length&&e.eachSeriesByType("graph",(function(e){var a=e.getCategoriesData(),o=e.getGraph().data,i=a.mapArray(a.getName);o.filterSelf((function(e){var a=o.getItemModel(e).getShallow("category");if(null!=a){"number"==typeof a&&(a=i[a]);for(var n=0;n<t.length;n++)if(!t[n].isSelected(a))return!1}return!0}))}),this)}},19918:e=>{e.exports=function(e){var t={};e.eachSeriesByType("graph",(function(e){var a=e.getCategoriesData(),o=e.getData(),i={};a.each((function(o){var n=a.getName(o);i["ec-"+n]=o;var r=a.getItemModel(o).get("itemStyle.color")||e.getColorFromPalette(n,t);a.setItemVisual(o,"color",r)})),a.count()&&o.each((function(e){var t=o.getItemModel(e).getShallow("category");null!=t&&("string"==typeof t&&(t=i["ec-"+t]),o.getItemVisual(e,"color",!0)||o.setItemVisual(e,"color",a.getItemVisual(t,"color")))}))}))}},36846:(e,t,a)=>{var o=a(22663).circularLayout;e.exports=function(e){e.eachSeriesByType("graph",(function(e){"circular"===e.get("layout")&&o(e)}))}},22663:(e,t,a)=>{var o=a(45280);t.circularLayout=function(e){var t=e.coordinateSystem;if(!t||"view"===t.type){var a=t.getBoundingRect(),i=e.getData(),n=i.graph,r=0,s=i.getSum("value"),l=2*Math.PI/(s||i.count()),u=a.width/2+a.x,d=a.height/2+a.y,c=Math.min(a.width,a.height)/2;n.eachNode((function(e){var t=e.getValue("value");r+=l*(s?t:1)/2,e.setLayout([c*Math.cos(r)+u,c*Math.sin(r)+d]),r+=l*(s?t:1)/2})),i.setLayout({cx:u,cy:d}),n.eachEdge((function(e){var t,a=e.getModel().get("lineStyle.curveness")||0,i=o.clone(e.node1.getLayout()),n=o.clone(e.node2.getLayout()),r=(i[0]+n[0])/2,s=(i[1]+n[1])/2;+a&&(t=[u*(a*=3)+r*(1-a),d*a+s*(1-a)]),e.setLayout([i,n,t])}))}}},53081:(e,t,a)=>{var o=a(23845),i=a(76172).getLayoutRect,n=a(3726);e.exports=function(e,t){var a=[];return e.eachSeriesByType("graph",(function(e){var r=e.get("coordinateSystem");if(!r||"view"===r){var s=e.getData(),l=s.mapArray((function(e){var t=s.getItemModel(e);return[+t.get("x"),+t.get("y")]})),u=[],d=[];n.fromPoints(l,u,d),d[0]-u[0]==0&&(d[0]+=1,u[0]-=1),d[1]-u[1]==0&&(d[1]+=1,u[1]-=1);var c=(d[0]-u[0])/(d[1]-u[1]),h=function(e,t,a){var o=e.getBoxLayoutParams();return o.aspect=a,i(o,{width:t.getWidth(),height:t.getHeight()})}(e,t,c);isNaN(c)&&(u=[h.x,h.y],d=[h.x+h.width,h.y+h.height]);var p=d[0]-u[0],g=d[1]-u[1],f=h.width,m=h.height,y=e.coordinateSystem=new o;y.zoomLimit=e.get("scaleLimit"),y.setBoundingRect(u[0],u[1],p,g),y.setViewRect(h.x,h.y,f,m),y.setCenter(e.get("center")),y.setZoom(e.get("zoom")),a.push(y)}})),a}},86733:e=>{function t(e){return e instanceof Array||(e=[e,e]),e}e.exports=function(e){e.eachSeriesByType("graph",(function(e){var a=e.getGraph(),o=e.getEdgeData(),i=t(e.get("edgeSymbol")),n=t(e.get("edgeSymbolSize")),r="lineStyle.color".split("."),s="lineStyle.opacity".split(".");o.setVisual("fromSymbol",i&&i[0]),o.setVisual("toSymbol",i&&i[1]),o.setVisual("fromSymbolSize",n&&n[0]),o.setVisual("toSymbolSize",n&&n[1]),o.setVisual("color",e.get(r)),o.setVisual("opacity",e.get(s)),o.each((function(e){var i=o.getItemModel(e),n=a.getEdgeByIndex(e),l=t(i.getShallow("symbol",!0)),u=t(i.getShallow("symbolSize",!0)),d=i.get(r),c=i.get(s);switch(d){case"source":d=n.node1.getVisual("color");break;case"target":d=n.node2.getVisual("color")}l[0]&&n.setVisual("fromSymbol",l[0]),l[1]&&n.setVisual("toSymbol",l[1]),u[0]&&n.setVisual("fromSymbolSize",u[0]),u[1]&&n.setVisual("toSymbolSize",u[1]),n.setVisual("color",d),n.setVisual("opacity",c)}))}))}},33586:(e,t,a)=>{var o=a(45280),i=o.scaleAndAdd;t.forceLayout=function(e,t,a){for(var n=a.rect,r=n.width,s=n.height,l=[n.x+r/2,n.y+s/2],u=null==a.gravity?.1:a.gravity,d=0;d<e.length;d++){var c=e[d];c.p||(c.p=o.create(r*(Math.random()-.5)+l[0],s*(Math.random()-.5)+l[1])),c.pp=o.clone(c.p),c.edges=null}var h=.6;return{warmUp:function(){h=.5},setFixed:function(t){e[t].fixed=!0},setUnfixed:function(t){e[t].fixed=!1},step:function(a){for(var n=[],r=e.length,s=0;s<t.length;s++){var d=t[s],c=d.n1,p=d.n2;o.sub(n,p.p,c.p);var g=o.len(n)-d.d,f=p.w/(c.w+p.w);isNaN(f)&&(f=0),o.normalize(n,n),!c.fixed&&i(c.p,c.p,n,f*g*h),!p.fixed&&i(p.p,p.p,n,-(1-f)*g*h)}for(s=0;s<r;s++)(x=e[s]).fixed||(o.sub(n,l,x.p),i(x.p,x.p,n,u*h));for(s=0;s<r;s++){c=e[s];for(var m=s+1;m<r;m++){p=e[m],o.sub(n,p.p,c.p),0===(g=o.len(n))&&(o.set(n,Math.random()-.5,Math.random()-.5),g=1);var y=(c.rep+p.rep)/g/g;!c.fixed&&i(c.pp,c.pp,n,y),!p.fixed&&i(p.pp,p.pp,n,-y)}}var v=[];for(s=0;s<r;s++){var x;(x=e[s]).fixed||(o.sub(v,x.p,x.pp),i(x.p,x.p,v,h),o.copy(x.pp,x.p))}h*=.992,a&&a(e,t,h<.01)}}}},6921:(e,t,a)=>{var o=a(33586).forceLayout,i=a(74107).simpleLayout,n=a(22663).circularLayout,r=a(85669).linearMap,s=a(45280),l=a(33051);e.exports=function(e){e.eachSeriesByType("graph",(function(e){if(!(y=e.coordinateSystem)||"view"===y.type)if("force"===e.get("layout")){var t=e.preservedPoints||{},a=e.getGraph(),u=a.data,d=a.edgeData,c=e.getModel("force"),h=c.get("initLayout");e.preservedPoints?u.each((function(e){var a=u.getId(e);u.setItemLayout(e,t[a]||[NaN,NaN])})):h&&"none"!==h?"circular"===h&&n(e):i(e);var p=u.getDataExtent("value"),g=d.getDataExtent("value"),f=c.get("repulsion"),m=c.get("edgeLength");l.isArray(f)||(f=[f,f]),l.isArray(m)||(m=[m,m]),m=[m[1],m[0]];var y,v=u.mapArray("value",(function(e,t){var a=u.getItemLayout(t),o=r(e,p,f);return isNaN(o)&&(o=(f[0]+f[1])/2),{w:o,rep:o,fixed:u.getItemModel(t).get("fixed"),p:!a||isNaN(a[0])||isNaN(a[1])?null:a}})),x=d.mapArray("value",(function(e,t){var o=a.getEdgeByIndex(t),i=r(e,g,m);return isNaN(i)&&(i=(m[0]+m[1])/2),{n1:v[o.node1.dataIndex],n2:v[o.node2.dataIndex],d:i,curveness:o.getModel().get("lineStyle.curveness")||0}})),_=(y=e.coordinateSystem).getBoundingRect(),S=o(v,x,{rect:_,gravity:c.get("gravity")}),b=S.step;S.step=function(e){for(var o=0,i=v.length;o<i;o++)v[o].fixed&&s.copy(v[o].p,a.getNodeByIndex(o).getLayout());b((function(o,i,n){for(var r=0,l=o.length;r<l;r++)o[r].fixed||a.getNodeByIndex(r).setLayout(o[r].p),t[u.getId(r)]=o[r].p;for(r=0,l=i.length;r<l;r++){var d=i[r],c=a.getEdgeByIndex(r),h=d.n1.p,p=d.n2.p,g=c.getLayout();(g=g?g.slice():[])[0]=g[0]||[],g[1]=g[1]||[],s.copy(g[0],h),s.copy(g[1],p),+d.curveness&&(g[2]=[(h[0]+p[0])/2-(h[1]-p[1])*d.curveness,(h[1]+p[1])/2-(p[0]-h[0])*d.curveness]),c.setLayout(g)}e&&e(n)}))},e.forceLayout=S,e.preservedPoints=t,S.step()}else e.forceLayout=null}))}},89562:(e,t,a)=>{var o=a(70492),i=a(60553).updateCenterAndZoom;a(35540),o.registerAction({type:"graphRoam",event:"graphRoam",update:"none"},(function(e,t){t.eachComponent({mainType:"series",query:e},(function(t){var a=t.coordinateSystem,o=i(a,e);t.setCenter&&t.setCenter(o.center),t.setZoom&&t.setZoom(o.zoom)}))}))},41241:(e,t,a)=>{var o=a(33051).each,i=a(74107),n=i.simpleLayout,r=i.simpleLayoutEdge;e.exports=function(e,t){e.eachSeriesByType("graph",(function(e){var t=e.get("layout"),a=e.coordinateSystem;if(a&&"view"!==a.type){var i=e.getData(),s=[];o(a.dimensions,(function(e){s=s.concat(i.mapDimension(e,!0))}));for(var l=0;l<i.count();l++){for(var u=[],d=!1,c=0;c<s.length;c++){var h=i.get(s[c],l);isNaN(h)||(d=!0),u.push(h)}d?i.setItemLayout(l,a.dataToPoint(u)):i.setItemLayout(l,[NaN,NaN])}r(i.graph)}else t&&"none"!==t||n(e)}))}},74107:(e,t,a)=>{var o=a(45280);function i(e){e.eachEdge((function(e){var t=e.getModel().get("lineStyle.curveness")||0,a=o.clone(e.node1.getLayout()),i=o.clone(e.node2.getLayout()),n=[a,i];+t&&n.push([(a[0]+i[0])/2-(a[1]-i[1])*t,(a[1]+i[1])/2-(i[0]-a[0])*t]),e.setLayout(n)}))}t.simpleLayout=function(e){var t=e.coordinateSystem;if(!t||"view"===t.type){var a=e.getGraph();a.eachNode((function(e){var t=e.getModel();e.setLayout([+t.get("x"),+t.get("y")])})),i(a)}},t.simpleLayoutEdge=i},40055:(e,t,a)=>{a(72404),a(55883)},93189:(e,t,a)=>{var o=a(33051);function i(){var e=o.createCanvas();this.canvas=e,this.blurSize=30,this.pointSize=20,this.maxOpacity=1,this.minOpacity=0,this._gradientPixels={}}i.prototype={update:function(e,t,a,o,i,n){var r=this._getBrush(),s=this._getGradient(e,i,"inRange"),l=this._getGradient(e,i,"outOfRange"),u=this.pointSize+this.blurSize,d=this.canvas,c=d.getContext("2d"),h=e.length;d.width=t,d.height=a;for(var p=0;p<h;++p){var g=e[p],f=g[0],m=g[1],y=o(g[2]);c.globalAlpha=y,c.drawImage(r,f-u,m-u)}if(!d.width||!d.height)return d;for(var v=c.getImageData(0,0,d.width,d.height),x=v.data,_=0,S=x.length,b=this.minOpacity,I=this.maxOpacity-b;_<S;){y=x[_+3]/256;var w=4*Math.floor(255*y);if(y>0){var M=n(y)?s:l;y>0&&(y=y*I+b),x[_++]=M[w],x[_++]=M[w+1],x[_++]=M[w+2],x[_++]=M[w+3]*y*256}else _+=4}return c.putImageData(v,0,0),d},_getBrush:function(){var e=this._brushCanvas||(this._brushCanvas=o.createCanvas()),t=this.pointSize+this.blurSize,a=2*t;e.width=a,e.height=a;var i=e.getContext("2d");return i.clearRect(0,0,a,a),i.shadowOffsetX=a,i.shadowBlur=this.blurSize,i.shadowColor="#000",i.beginPath(),i.arc(-t,t,this.pointSize,0,2*Math.PI,!0),i.closePath(),i.fill(),e},_getGradient:function(e,t,a){for(var o=this._gradientPixels,i=o[a]||(o[a]=new Uint8ClampedArray(1024)),n=[0,0,0,0],r=0,s=0;s<256;s++)t[a](s/255,!0,n),i[r++]=n[0],i[r++]=n[1],i[r++]=n[2],i[r++]=n[3];return i}};var n=i;e.exports=n},72404:(e,t,a)=>{var o=a(93321),i=a(40488),n=a(95899),r=o.extend({type:"series.heatmap",getInitialData:function(e,t){return i(this.getSource(),this,{generateCoord:"value"})},preventIncremental:function(){var e=n.get(this.get("coordinateSystem"));if(e&&e.dimensions)return"lng"===e.dimensions[0]&&"lat"===e.dimensions[1]},defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,geoIndex:0,blurSize:30,pointSize:20,maxOpacity:1,minOpacity:0}});e.exports=r},55883:(e,t,a)=>{a(38175).__DEV__;var o=a(70492),i=a(51177),n=a(93189),r=a(33051),s=o.extendChartView({type:"heatmap",render:function(e,t,a){var o;t.eachComponent("visualMap",(function(t){t.eachTargetSeries((function(a){a===e&&(o=t)}))})),this.group.removeAll(),this._incrementalDisplayable=null;var i=e.coordinateSystem;"cartesian2d"===i.type||"calendar"===i.type?this._renderOnCartesianAndCalendar(e,a,0,e.getData().count()):function(e){var t=e.dimensions;return"lng"===t[0]&&"lat"===t[1]}(i)&&this._renderOnGeo(i,e,o,a)},incrementalPrepareRender:function(e,t,a){this.group.removeAll()},incrementalRender:function(e,t,a,o){t.coordinateSystem&&this._renderOnCartesianAndCalendar(t,o,e.start,e.end,!0)},_renderOnCartesianAndCalendar:function(e,t,a,o,n){var s,l,u=e.coordinateSystem;if("cartesian2d"===u.type){var d=u.getAxis("x"),c=u.getAxis("y");s=d.getBandWidth(),l=c.getBandWidth()}for(var h=this.group,p=e.getData(),g="itemStyle",f="emphasis.itemStyle",m="label",y="emphasis.label",v=e.getModel(g).getItemStyle(["color"]),x=e.getModel(f).getItemStyle(),_=e.getModel(m),S=e.getModel(y),b=u.type,I="cartesian2d"===b?[p.mapDimension("x"),p.mapDimension("y"),p.mapDimension("value")]:[p.mapDimension("time"),p.mapDimension("value")],w=a;w<o;w++){var M;if("cartesian2d"===b){if(isNaN(p.get(I[2],w)))continue;var L=u.dataToPoint([p.get(I[0],w),p.get(I[1],w)]);M=new i.Rect({shape:{x:L[0]-s/2,y:L[1]-l/2,width:s,height:l},style:{fill:p.getItemVisual(w,"color"),opacity:p.getItemVisual(w,"opacity")}})}else{if(isNaN(p.get(I[1],w)))continue;M=new i.Rect({z2:1,shape:u.dataToRect([p.get(I[0],w)]).contentShape,style:{fill:p.getItemVisual(w,"color"),opacity:p.getItemVisual(w,"opacity")}})}var D=p.getItemModel(w);p.hasItemOption&&(v=D.getModel(g).getItemStyle(["color"]),x=D.getModel(f).getItemStyle(),_=D.getModel(m),S=D.getModel(y));var A=e.getRawValue(w),N="-";A&&null!=A[2]&&(N=A[2]),i.setLabelStyle(v,x,_,S,{labelFetcher:e,labelDataIndex:w,defaultText:N,isRectText:!0}),M.setStyle(v),i.setHoverStyle(M,p.hasItemOption?x:r.extend({},x)),M.incremental=n,n&&(M.useHoverLayer=!0),h.add(M),p.setItemGraphicEl(w,M)}},_renderOnGeo:function(e,t,a,o){var s=a.targetVisuals.inRange,l=a.targetVisuals.outOfRange,u=t.getData(),d=this._hmLayer||this._hmLayer||new n;d.blurSize=t.get("blurSize"),d.pointSize=t.get("pointSize"),d.minOpacity=t.get("minOpacity"),d.maxOpacity=t.get("maxOpacity");var c=e.getViewRect().clone(),h=e.getRoamTransform();c.applyTransform(h);var p=Math.max(c.x,0),g=Math.max(c.y,0),f=Math.min(c.width+c.x,o.getWidth()),m=Math.min(c.height+c.y,o.getHeight()),y=f-p,v=m-g,x=[u.mapDimension("lng"),u.mapDimension("lat"),u.mapDimension("value")],_=u.mapArray(x,(function(t,a,o){var i=e.dataToPoint([t,a]);return i[0]-=p,i[1]-=g,i.push(o),i})),S=a.getExtent(),b="visualMap.continuous"===a.type?function(e,t){var a=e[1]-e[0];return t=[(t[0]-e[0])/a,(t[1]-e[0])/a],function(e){return e>=t[0]&&e<=t[1]}}(S,a.option.range):function(e,t,a){var o=e[1]-e[0],i=(t=r.map(t,(function(t){return{interval:[(t.interval[0]-e[0])/o,(t.interval[1]-e[0])/o]}}))).length,n=0;return function(e){for(var o=n;o<i;o++)if((r=t[o].interval)[0]<=e&&e<=r[1]){n=o;break}if(o===i)for(o=n-1;o>=0;o--){var r;if((r=t[o].interval)[0]<=e&&e<=r[1]){n=o;break}}return o>=0&&o<i&&a[o]}}(S,a.getPieceList(),a.option.selected);d.update(_,y,v,s.color.getNormalizer(),{inRange:s.color.getColorMapper(),outOfRange:l.color.getColorMapper()},b);var I=new i.Image({style:{width:y,height:v,x:p,y:g,image:d.canvas},silent:!0});this.group.add(I)},dispose:function(){}});e.exports=s},99895:(e,t,a)=>{var o=a(51177),i=a(77159),n=a(33051),r=a(41525).createSymbol,s=a(45280),l=a(18554);function u(e,t,a){o.Group.call(this),this.add(this.createLine(e,t,a)),this._updateEffectSymbol(e,t)}var d=u.prototype;d.createLine=function(e,t,a){return new i(e,t,a)},d._updateEffectSymbol=function(e,t){var a=e.getItemModel(t).getModel("effect"),o=a.get("symbolSize"),i=a.get("symbol");n.isArray(o)||(o=[o,o]);var s=a.get("color")||e.getItemVisual(t,"color"),l=this.childAt(1);this._symbolType!==i&&(this.remove(l),(l=r(i,-.5,-.5,1,1,s)).z2=100,l.culling=!0,this.add(l)),l&&(l.setStyle("shadowColor",s),l.setStyle(a.getItemStyle(["color"])),l.attr("scale",o),l.setColor(s),l.attr("scale",o),this._symbolType=i,this._updateEffectAnimation(e,a,t))},d._updateEffectAnimation=function(e,t,a){var o=this.childAt(1);if(o){var i=this,r=e.getItemLayout(a),s=1e3*t.get("period"),l=t.get("loop"),u=t.get("constantSpeed"),d=n.retrieve(t.get("delay"),(function(t){return t/e.count()*s/3})),c="function"==typeof d;if(o.ignore=!0,this.updateAnimationPoints(o,r),u>0&&(s=this.getLineLength(o)/u*1e3),s!==this._period||l!==this._loop){o.stopAnimation();var h=d;c&&(h=d(a)),o.__t>0&&(h=-s*o.__t),o.__t=0;var p=o.animate("",l).when(s,{__t:1}).delay(h).during((function(){i.updateSymbolPosition(o)}));l||p.done((function(){i.remove(o)})),p.start()}this._period=s,this._loop=l}},d.getLineLength=function(e){return s.dist(e.__p1,e.__cp1)+s.dist(e.__cp1,e.__p2)},d.updateAnimationPoints=function(e,t){e.__p1=t[0],e.__p2=t[1],e.__cp1=t[2]||[(t[0][0]+t[1][0])/2,(t[0][1]+t[1][1])/2]},d.updateData=function(e,t,a){this.childAt(0).updateData(e,t,a),this._updateEffectSymbol(e,t)},d.updateSymbolPosition=function(e){var t=e.__p1,a=e.__p2,o=e.__cp1,i=e.__t,n=e.position,r=l.quadraticAt,s=l.quadraticDerivativeAt;n[0]=r(t[0],o[0],a[0],i),n[1]=r(t[1],o[1],a[1],i);var u=s(t[0],o[0],a[0],i),d=s(t[1],o[1],a[1],i);e.rotation=-Math.atan2(d,u)-Math.PI/2,e.ignore=!1},d.updateLayout=function(e,t){this.childAt(0).updateLayout(e,t);var a=e.getItemModel(t).getModel("effect");this._updateEffectAnimation(e,a,t)},n.inherits(u,o.Group);var c=u;e.exports=c},69121:(e,t,a)=>{var o=a(30146),i=a(33051),n=a(99895),r=a(45280);function s(e,t,a){n.call(this,e,t,a),this._lastFrame=0,this._lastFramePercent=0}var l=s.prototype;l.createLine=function(e,t,a){return new o(e,t,a)},l.updateAnimationPoints=function(e,t){this._points=t;for(var a=[0],o=0,i=1;i<t.length;i++){var n=t[i-1],s=t[i];o+=r.dist(n,s),a.push(o)}if(0!==o){for(i=0;i<a.length;i++)a[i]/=o;this._offsets=a,this._length=o}},l.getLineLength=function(e){return this._length},l.updateSymbolPosition=function(e){var t=e.__t,a=this._points,o=this._offsets,i=a.length;if(o){var n=this._lastFrame;if(t<this._lastFramePercent){for(s=Math.min(n+1,i-1);s>=0&&!(o[s]<=t);s--);s=Math.min(s,i-2)}else{for(var s=n;s<i&&!(o[s]>t);s++);s=Math.min(s-1,i-2)}r.lerp(e.position,a[s],a[s+1],(t-o[s])/(o[s+1]-o[s]));var l=a[s+1][0]-a[s][0],u=a[s+1][1]-a[s][1];e.rotation=-Math.atan2(u,l)-Math.PI/2,this._lastFrame=s,this._lastFramePercent=t,e.ignore=!1}},i.inherits(s,n);var u=s;e.exports=u},53036:(e,t,a)=>{var o=a(33051),i=a(41525).createSymbol,n=a(51177).Group,r=a(85669).parsePercent,s=a(66351);function l(e,t){e.eachChild((function(e){e.attr({z:t.z,zlevel:t.zlevel,style:{stroke:"stroke"===t.brushType?t.color:null,fill:"fill"===t.brushType?t.color:null}})}))}function u(e,t){n.call(this);var a=new s(e,t),o=new n;this.add(a),this.add(o),o.beforeUpdate=function(){this.attr(a.getScale())},this.updateData(e,t)}var d=u.prototype;d.stopEffectAnimation=function(){this.childAt(1).removeAll()},d.startEffectAnimation=function(e){for(var t=e.symbolType,a=e.color,o=this.childAt(1),n=0;n<3;n++){var r=i(t,-1,-1,2,2,a);r.attr({style:{strokeNoScale:!0},z2:99,silent:!0,scale:[.5,.5]});var s=-n/3*e.period+e.effectOffset;r.animate("",!0).when(e.period,{scale:[e.rippleScale/2,e.rippleScale/2]}).delay(s).start(),r.animateStyle(!0).when(e.period,{opacity:0}).delay(s).start(),o.add(r)}l(o,e)},d.updateEffectAnimation=function(e){for(var t=this._effectCfg,a=this.childAt(1),o=["symbolType","period","rippleScale"],i=0;i<o.length;i++){var n=o[i];if(t[n]!==e[n])return this.stopEffectAnimation(),void this.startEffectAnimation(e)}l(a,e)},d.highlight=function(){this.trigger("emphasis")},d.downplay=function(){this.trigger("normal")},d.updateData=function(e,t){var a=e.hostModel;this.childAt(0).updateData(e,t);var i=this.childAt(1),n=e.getItemModel(t),s=e.getItemVisual(t,"symbol"),l=function(e){return o.isArray(e)||(e=[+e,+e]),e}(e.getItemVisual(t,"symbolSize")),u=e.getItemVisual(t,"color");i.attr("scale",l),i.traverse((function(e){e.attr({fill:u})}));var d=n.getShallow("symbolOffset");if(d){var c=i.position;c[0]=r(d[0],l[0]),c[1]=r(d[1],l[1])}i.rotation=(n.getShallow("symbolRotate")||0)*Math.PI/180||0;var h={};if(h.showEffectOn=a.get("showEffectOn"),h.rippleScale=n.get("rippleEffect.scale"),h.brushType=n.get("rippleEffect.brushType"),h.period=1e3*n.get("rippleEffect.period"),h.effectOffset=t/e.count(),h.z=n.getShallow("z")||0,h.zlevel=n.getShallow("zlevel")||0,h.symbolType=s,h.color=u,this.off("mouseover").off("mouseout").off("emphasis").off("normal"),"render"===h.showEffectOn)this._effectCfg?this.updateEffectAnimation(h):this.startEffectAnimation(h),this._effectCfg=h;else{this._effectCfg=null,this.stopEffectAnimation();var p=this.childAt(0),g=function(){p.highlight(),"render"!==h.showEffectOn&&this.startEffectAnimation(h)},f=function(){p.downplay(),"render"!==h.showEffectOn&&this.stopEffectAnimation()};this.on("mouseover",g,this).on("mouseout",f,this).on("emphasis",g,this).on("normal",f,this)}this._effectCfg=h},d.fadeOut=function(e){this.off("mouseover").off("mouseout").off("emphasis").off("normal"),e&&e()},o.inherits(u,n);var c=u;e.exports=c},34148:(e,t,a)=>{var o=a(51177),i=a(91754),n=a(33640),r=a(25674),s=o.extendShape({shape:{polyline:!1,curveness:0,segs:[]},buildPath:function(e,t){var a=t.segs,o=t.curveness;if(t.polyline)for(var i=0;i<a.length;){var n=a[i++];if(n>0){e.moveTo(a[i++],a[i++]);for(var r=1;r<n;r++)e.lineTo(a[i++],a[i++])}}else for(i=0;i<a.length;){var s=a[i++],l=a[i++],u=a[i++],d=a[i++];if(e.moveTo(s,l),o>0){var c=(s+u)/2-(l-d)*o,h=(l+d)/2-(u-s)*o;e.quadraticCurveTo(c,h,u,d)}else e.lineTo(u,d)}},findDataIndex:function(e,t){var a=this.shape,o=a.segs,i=a.curveness;if(a.polyline)for(var s=0,l=0;l<o.length;){var u=o[l++];if(u>0)for(var d=o[l++],c=o[l++],h=1;h<u;h++){var p=o[l++],g=o[l++];if(n.containStroke(d,c,p,g))return s}s++}else for(s=0,l=0;l<o.length;){if(d=o[l++],c=o[l++],p=o[l++],g=o[l++],i>0){var f=(d+p)/2-(c-g)*i,m=(c+g)/2-(p-d)*i;if(r.containStroke(d,c,f,m,p,g))return s}else if(n.containStroke(d,c,p,g))return s;s++}return-1}});function l(){this.group=new o.Group}var u=l.prototype;u.isPersistent=function(){return!this._incremental},u.updateData=function(e){this.group.removeAll();var t=new s({rectHover:!0,cursor:"default"});t.setShape({segs:e.getLayout("linesPoints")}),this._setCommon(t,e),this.group.add(t),this._incremental=null},u.incrementalPrepareUpdate=function(e){this.group.removeAll(),this._clearIncremental(),e.count()>5e5?(this._incremental||(this._incremental=new i({silent:!0})),this.group.add(this._incremental)):this._incremental=null},u.incrementalUpdate=function(e,t){var a=new s;a.setShape({segs:t.getLayout("linesPoints")}),this._setCommon(a,t,!!this._incremental),this._incremental?this._incremental.addDisplayable(a,!0):(a.rectHover=!0,a.cursor="default",a.__startIndex=e.start,this.group.add(a))},u.remove=function(){this._clearIncremental(),this._incremental=null,this.group.removeAll()},u._setCommon=function(e,t,a){var o=t.hostModel;e.setShape({polyline:o.get("polyline"),curveness:o.get("lineStyle.curveness")}),e.useStyle(o.getModel("lineStyle").getLineStyle()),e.style.strokeNoScale=!0;var i=t.getVisual("color");i&&e.setStyle("stroke",i),e.setStyle("fill"),a||(e.seriesIndex=o.seriesIndex,e.on("mousemove",(function(t){e.dataIndex=null;var a=e.findDataIndex(t.offsetX,t.offsetY);a>0&&(e.dataIndex=a+e.__startIndex)})))},u._clearIncremental=function(){var e=this._incremental;e&&e.clearDisplaybles()};var d=l;e.exports=d},48066:(e,t,a)=>{var o=a(51177),i=a(41525).createSymbol,n=a(91754),r=o.extendShape({shape:{points:null},symbolProxy:null,buildPath:function(e,t){var a=t.points,o=t.size,i=this.symbolProxy,n=i.shape;if(!((e.getContext?e.getContext():e)&&o[0]<4))for(var r=0;r<a.length;){var s=a[r++],l=a[r++];isNaN(s)||isNaN(l)||(n.x=s-o[0]/2,n.y=l-o[1]/2,n.width=o[0],n.height=o[1],i.buildPath(e,n,!0))}},afterBrush:function(e){var t=this.shape,a=t.points,o=t.size;if(o[0]<4){this.setTransform(e);for(var i=0;i<a.length;){var n=a[i++],r=a[i++];isNaN(n)||isNaN(r)||e.fillRect(n-o[0]/2,r-o[1]/2,o[0],o[1])}this.restoreTransform(e)}},findDataIndex:function(e,t){for(var a=this.shape,o=a.points,i=a.size,n=Math.max(i[0],4),r=Math.max(i[1],4),s=o.length/2-1;s>=0;s--){var l=2*s,u=o[l]-n/2,d=o[l+1]-r/2;if(e>=u&&t>=d&&e<=u+n&&t<=d+r)return s}return-1}});function s(){this.group=new o.Group}var l=s.prototype;l.isPersistent=function(){return!this._incremental},l.updateData=function(e){this.group.removeAll();var t=new r({rectHover:!0,cursor:"default"});t.setShape({points:e.getLayout("symbolPoints")}),this._setCommon(t,e),this.group.add(t),this._incremental=null},l.updateLayout=function(e){if(!this._incremental){var t=e.getLayout("symbolPoints");this.group.eachChild((function(e){if(null!=e.startIndex){var a=2*(e.endIndex-e.startIndex),o=4*e.startIndex*2;t=new Float32Array(t.buffer,o,a)}e.setShape("points",t)}))}},l.incrementalPrepareUpdate=function(e){this.group.removeAll(),this._clearIncremental(),e.count()>2e6?(this._incremental||(this._incremental=new n({silent:!0})),this.group.add(this._incremental)):this._incremental=null},l.incrementalUpdate=function(e,t){var a;this._incremental?(a=new r,this._incremental.addDisplayable(a,!0)):((a=new r({rectHover:!0,cursor:"default",startIndex:e.start,endIndex:e.end})).incremental=!0,this.group.add(a)),a.setShape({points:t.getLayout("symbolPoints")}),this._setCommon(a,t,!!this._incremental)},l._setCommon=function(e,t,a){var o=t.hostModel,n=t.getVisual("symbolSize");e.setShape("size",n instanceof Array?n:[n,n]),e.symbolProxy=i(t.getVisual("symbol"),0,0,0,0),e.setColor=e.symbolProxy.setColor;var r=e.shape.size[0]<4;e.useStyle(o.getModel("itemStyle").getItemStyle(r?["color","shadowBlur","shadowColor"]:["color"]));var s=t.getVisual("color");s&&e.setColor(s),a||(e.seriesIndex=o.seriesIndex,e.on("mousemove",(function(t){e.dataIndex=null;var a=e.findDataIndex(t.offsetX,t.offsetY);a>=0&&(e.dataIndex=a+(e.startIndex||0))})))},l.remove=function(){this._clearIncremental(),this._incremental=null,this.group.removeAll()},l._clearIncremental=function(){var e=this._incremental;e&&e.clearDisplaybles()};var u=s;e.exports=u},77159:(e,t,a)=>{var o=a(33051),i=a(45280),n=a(41525),r=a(93290),s=a(51177),l=a(85669).round,u=["fromSymbol","toSymbol"];function d(e){return"_"+e+"Type"}function c(e,t,a){var i=t.getItemVisual(a,"color"),r=t.getItemVisual(a,e),s=t.getItemVisual(a,e+"Size");if(r&&"none"!==r){o.isArray(s)||(s=[s,s]);var l=n.createSymbol(r,-s[0]/2,-s[1]/2,s[0],s[1],i);return l.name=e,l}}function h(e,t){var a=t[0],o=t[1],i=t[2];e.x1=a[0],e.y1=a[1],e.x2=o[0],e.y2=o[1],e.percent=1,i?(e.cpx1=i[0],e.cpy1=i[1]):(e.cpx1=NaN,e.cpy1=NaN)}function p(e,t,a){s.Group.call(this),this._createLine(e,t,a)}var g=p.prototype;g.beforeUpdate=function(){var e=this,t=e.childOfName("fromSymbol"),a=e.childOfName("toSymbol"),o=e.childOfName("label");if(t||a||!o.ignore){for(var n=1,r=this.parent;r;)r.scale&&(n/=r.scale[0]),r=r.parent;var s=e.childOfName("line");if(this.__dirty||s.__dirty){var l=s.shape.percent,u=s.pointAt(0),d=s.pointAt(l),c=i.sub([],d,u);if(i.normalize(c,c),t){t.attr("position",u);var h=s.tangentAt(0);t.attr("rotation",Math.PI/2-Math.atan2(h[1],h[0])),t.attr("scale",[n*l,n*l])}if(a&&(a.attr("position",d),h=s.tangentAt(1),a.attr("rotation",-Math.PI/2-Math.atan2(h[1],h[0])),a.attr("scale",[n*l,n*l])),!o.ignore){var p,g,f;o.attr("position",d);var m=5*n;if("end"===o.__position)p=[c[0]*m+d[0],c[1]*m+d[1]],g=c[0]>.8?"left":c[0]<-.8?"right":"center",f=c[1]>.8?"top":c[1]<-.8?"bottom":"middle";else if("middle"===o.__position){var y=l/2,v=[(h=s.tangentAt(y))[1],-h[0]],x=s.pointAt(y);v[1]>0&&(v[0]=-v[0],v[1]=-v[1]),p=[x[0]+v[0]*m,x[1]+v[1]*m],g="center",f="bottom";var _=-Math.atan2(h[1],h[0]);d[0]<u[0]&&(_=Math.PI+_),o.attr("rotation",_)}else p=[-c[0]*m+u[0],-c[1]*m+u[1]],g=c[0]>.8?"right":c[0]<-.8?"left":"center",f=c[1]>.8?"bottom":c[1]<-.8?"top":"middle";o.attr({style:{textVerticalAlign:o.__verticalAlign||f,textAlign:o.__textAlign||g},position:p,scale:[n,n]})}}}},g._createLine=function(e,t,a){var i=e.hostModel,n=function(e){var t=new r({name:"line"});return h(t.shape,e),t}(e.getItemLayout(t));n.shape.percent=0,s.initProps(n,{shape:{percent:1}},i,t),this.add(n);var l=new s.Text({name:"label",lineLabelOriginalOpacity:1});this.add(l),o.each(u,(function(a){var o=c(a,e,t);this.add(o),this[d(a)]=e.getItemVisual(t,a)}),this),this._updateCommonStl(e,t,a)},g.updateData=function(e,t,a){var i=e.hostModel,n=this.childOfName("line"),r=e.getItemLayout(t),l={shape:{}};h(l.shape,r),s.updateProps(n,l,i,t),o.each(u,(function(a){var o=e.getItemVisual(t,a),i=d(a);if(this[i]!==o){this.remove(this.childOfName(a));var n=c(a,e,t);this.add(n)}this[i]=o}),this),this._updateCommonStl(e,t,a)},g._updateCommonStl=function(e,t,a){var i=e.hostModel,n=this.childOfName("line"),r=a&&a.lineStyle,d=a&&a.hoverLineStyle,c=a&&a.labelModel,h=a&&a.hoverLabelModel;if(!a||e.hasItemOption){var p=e.getItemModel(t);r=p.getModel("lineStyle").getLineStyle(),d=p.getModel("emphasis.lineStyle").getLineStyle(),c=p.getModel("label"),h=p.getModel("emphasis.label")}var g=e.getItemVisual(t,"color"),f=o.retrieve3(e.getItemVisual(t,"opacity"),r.opacity,1);n.useStyle(o.defaults({strokeNoScale:!0,fill:"none",stroke:g,opacity:f},r)),n.hoverStyle=d,o.each(u,(function(e){var t=this.childOfName(e);t&&(t.setColor(g),t.setStyle({opacity:f}))}),this);var m,y,v=c.getShallow("show"),x=h.getShallow("show"),_=this.childOfName("label");if((v||x)&&(m=g||"#000",null==(y=i.getFormattedLabel(t,"normal",e.dataType)))){var S=i.getRawValue(t);y=null==S?e.getName(t):isFinite(S)?l(S):S}var b=v?y:null,I=x?o.retrieve2(i.getFormattedLabel(t,"emphasis",e.dataType),y):null,w=_.style;null==b&&null==I||(s.setTextStyle(_.style,c,{text:b},{autoColor:m}),_.__textAlign=w.textAlign,_.__verticalAlign=w.textVerticalAlign,_.__position=c.get("position")||"middle"),_.hoverStyle=null!=I?{text:I,textFill:h.getTextColor(!0),fontStyle:h.getShallow("fontStyle"),fontWeight:h.getShallow("fontWeight"),fontSize:h.getShallow("fontSize"),fontFamily:h.getShallow("fontFamily")}:{text:null},_.ignore=!v&&!x,s.setHoverStyle(this)},g.highlight=function(){this.trigger("emphasis")},g.downplay=function(){this.trigger("normal")},g.updateLayout=function(e,t){this.setLinePoints(e.getItemLayout(t))},g.setLinePoints=function(e){var t=this.childOfName("line");h(t.shape,e),t.dirty()},o.inherits(p,s.Group);var f=p;e.exports=f},47145:(e,t,a)=>{var o=a(51177),i=a(77159);function n(e){this._ctor=e||i,this.group=new o.Group}var r=n.prototype;function s(e){var t=e.hostModel;return{lineStyle:t.getModel("lineStyle").getLineStyle(),hoverLineStyle:t.getModel("emphasis.lineStyle").getLineStyle(),labelModel:t.getModel("label"),hoverLabelModel:t.getModel("emphasis.label")}}function l(e){return isNaN(e[0])||isNaN(e[1])}function u(e){return!l(e[0])&&!l(e[1])}r.isPersistent=function(){return!0},r.updateData=function(e){var t=this,a=t.group,o=t._lineData;t._lineData=e,o||a.removeAll();var i=s(e);e.diff(o).add((function(a){!function(e,t,a,o){if(u(t.getItemLayout(a))){var i=new e._ctor(t,a,o);t.setItemGraphicEl(a,i),e.group.add(i)}}(t,e,a,i)})).update((function(a,n){!function(e,t,a,o,i,n){var r=t.getItemGraphicEl(o);u(a.getItemLayout(i))?(r?r.updateData(a,i,n):r=new e._ctor(a,i,n),a.setItemGraphicEl(i,r),e.group.add(r)):e.group.remove(r)}(t,o,e,n,a,i)})).remove((function(e){a.remove(o.getItemGraphicEl(e))})).execute()},r.updateLayout=function(){var e=this._lineData;e&&e.eachItemGraphicEl((function(t,a){t.updateLayout(e,a)}),this)},r.incrementalPrepareUpdate=function(e){this._seriesScope=s(e),this._lineData=null,this.group.removeAll()},r.incrementalUpdate=function(e,t){function a(e){e.isGroup||(e.incremental=e.useHoverLayer=!0)}for(var o=e.start;o<e.end;o++)if(u(t.getItemLayout(o))){var i=new this._ctor(t,o,this._seriesScope);i.traverse(a),this.group.add(i),t.setItemGraphicEl(o,i)}},r.remove=function(){this._clearIncremental(),this._incremental=null,this.group.removeAll()},r._clearIncremental=function(){var e=this._incremental;e&&e.clearDisplaybles()};var d=n;e.exports=d},93290:(e,t,a)=>{var o=a(51177),i=a(45280),n=o.Line.prototype,r=o.BezierCurve.prototype;function s(e){return isNaN(+e.cpx1)||isNaN(+e.cpy1)}var l=o.extendShape({type:"ec-line",style:{stroke:"#000",fill:null},shape:{x1:0,y1:0,x2:0,y2:0,percent:1,cpx1:null,cpy1:null},buildPath:function(e,t){(s(t)?n:r).buildPath(e,t)},pointAt:function(e){return s(this.shape)?n.pointAt.call(this,e):r.pointAt.call(this,e)},tangentAt:function(e){var t=this.shape,a=s(t)?[t.x2-t.x1,t.y2-t.y1]:r.tangentAt.call(this,e);return i.normalize(a,a)}});e.exports=l},30146:(e,t,a)=>{var o=a(51177),i=a(33051);function n(e,t,a){o.Group.call(this),this._createPolyline(e,t,a)}var r=n.prototype;r._createPolyline=function(e,t,a){var i=e.getItemLayout(t),n=new o.Polyline({shape:{points:i}});this.add(n),this._updateCommonStl(e,t,a)},r.updateData=function(e,t,a){var i=e.hostModel,n=this.childAt(0),r={shape:{points:e.getItemLayout(t)}};o.updateProps(n,r,i,t),this._updateCommonStl(e,t,a)},r._updateCommonStl=function(e,t,a){var n=this.childAt(0),r=e.getItemModel(t),s=e.getItemVisual(t,"color"),l=a&&a.lineStyle,u=a&&a.hoverLineStyle;a&&!e.hasItemOption||(l=r.getModel("lineStyle").getLineStyle(),u=r.getModel("emphasis.lineStyle").getLineStyle()),n.useStyle(i.defaults({strokeNoScale:!0,fill:"none",stroke:s},l)),n.hoverStyle=u,o.setHoverStyle(this)},r.updateLayout=function(e,t){this.childAt(0).setShape("points",e.getItemLayout(t))},i.inherits(n,o.Group);var s=n;e.exports=s},66351:(e,t,a)=>{var o=a(33051),i=a(41525).createSymbol,n=a(51177),r=a(85669).parsePercent,s=a(33140).getDefaultLabel;function l(e,t,a){n.Group.call(this),this.updateData(e,t,a)}var u=l.prototype,d=l.getSymbolSize=function(e,t){var a=e.getItemVisual(t,"symbolSize");return a instanceof Array?a.slice():[+a,+a]};function c(e){return[e[0]/2,e[1]/2]}function h(e,t){this.parent.drift(e,t)}u._createSymbol=function(e,t,a,o,n){this.removeAll();var r=t.getItemVisual(a,"color"),s=i(e,-1,-1,2,2,r,n);s.attr({z2:100,culling:!0,scale:c(o)}),s.drift=h,this._symbolType=e,this.add(s)},u.stopSymbolAnimation=function(e){this.childAt(0).stopAnimation(e)},u.getSymbolPath=function(){return this.childAt(0)},u.getScale=function(){return this.childAt(0).scale},u.highlight=function(){this.childAt(0).trigger("emphasis")},u.downplay=function(){this.childAt(0).trigger("normal")},u.setZ=function(e,t){var a=this.childAt(0);a.zlevel=e,a.z=t},u.setDraggable=function(e){var t=this.childAt(0);t.draggable=e,t.cursor=e?"move":"pointer"},u.updateData=function(e,t,a){this.silent=!1;var o=e.getItemVisual(t,"symbol")||"circle",i=e.hostModel,r=d(e,t),s=o!==this._symbolType;if(s){var l=e.getItemVisual(t,"symbolKeepAspect");this._createSymbol(o,e,t,r,l)}else(u=this.childAt(0)).silent=!1,n.updateProps(u,{scale:c(r)},i,t);if(this._updateCommon(e,t,r,a),s){var u=this.childAt(0),h=a&&a.fadeIn,p={scale:u.scale.slice()};h&&(p.style={opacity:u.style.opacity}),u.scale=[0,0],h&&(u.style.opacity=0),n.initProps(u,p,i,t)}this._seriesModel=i};var p=["itemStyle"],g=["emphasis","itemStyle"],f=["label"],m=["emphasis","label"];function y(){!n.isInEmphasis(this)&&x.call(this)}function v(){!n.isInEmphasis(this)&&_.call(this)}function x(){if(!this.incremental&&!this.useHoverLayer){var e=this.__symbolOriginalScale,t=e[1]/e[0];this.animateTo({scale:[Math.max(1.1*e[0],e[0]+3),Math.max(1.1*e[1],e[1]+3*t)]},400,"elasticOut")}}function _(){this.incremental||this.useHoverLayer||this.animateTo({scale:this.__symbolOriginalScale},400,"elasticOut")}u._updateCommon=function(e,t,a,i){var l=this.childAt(0),u=e.hostModel,d=e.getItemVisual(t,"color");"image"!==l.type&&l.useStyle({strokeNoScale:!0});var h=i&&i.itemStyle,S=i&&i.hoverItemStyle,b=i&&i.symbolRotate,I=i&&i.symbolOffset,w=i&&i.labelModel,M=i&&i.hoverLabelModel,L=i&&i.hoverAnimation,D=i&&i.cursorStyle;if(!i||e.hasItemOption){var A=i&&i.itemModel?i.itemModel:e.getItemModel(t);h=A.getModel(p).getItemStyle(["color"]),S=A.getModel(g).getItemStyle(),b=A.getShallow("symbolRotate"),I=A.getShallow("symbolOffset"),w=A.getModel(f),M=A.getModel(m),L=A.getShallow("hoverAnimation"),D=A.getShallow("cursor")}else S=o.extend({},S);var N=l.style;l.attr("rotation",(b||0)*Math.PI/180||0),I&&l.attr("position",[r(I[0],a[0]),r(I[1],a[1])]),D&&l.attr("cursor",D),l.setColor(d,i&&i.symbolInnerColor),l.setStyle(h);var P=e.getItemVisual(t,"opacity");null!=P&&(N.opacity=P);var C=e.getItemVisual(t,"liftZ"),T=l.__z2Origin;null!=C?null==T&&(l.__z2Origin=l.z2,l.z2+=C):null!=T&&(l.z2=T,l.__z2Origin=null);var R=i&&i.useNameLabel;n.setLabelStyle(N,S,w,M,{labelFetcher:u,labelDataIndex:t,defaultText:function(t,a){return R?e.getName(t):s(e,t)},isRectText:!0,autoColor:d}),l.off("mouseover").off("mouseout").off("emphasis").off("normal"),l.hoverStyle=S,n.setHoverStyle(l),l.__symbolOriginalScale=c(a),L&&u.isAnimationEnabled()&&l.on("mouseover",y).on("mouseout",v).on("emphasis",x).on("normal",_)},u.fadeOut=function(e,t){var a=this.childAt(0);this.silent=a.silent=!0,(!t||!t.keepLabel)&&(a.style.text=null),n.updateProps(a,{style:{opacity:0},scale:[0,0]},this._seriesModel,this.dataIndex,e)},o.inherits(l,n.Group);var S=l;e.exports=S},68162:(e,t,a)=>{var o=a(51177),i=a(66351),n=a(33051).isObject;function r(e){this.group=new o.Group,this._symbolCtor=e||i}var s=r.prototype;function l(e,t,a,o){return t&&!isNaN(t[0])&&!isNaN(t[1])&&!(o.isIgnore&&o.isIgnore(a))&&!(o.clipShape&&!o.clipShape.contain(t[0],t[1]))&&"none"!==e.getItemVisual(a,"symbol")}function u(e){return null==e||n(e)||(e={isIgnore:e}),e||{}}function d(e){var t=e.hostModel;return{itemStyle:t.getModel("itemStyle").getItemStyle(["color"]),hoverItemStyle:t.getModel("emphasis.itemStyle").getItemStyle(),symbolRotate:t.get("symbolRotate"),symbolOffset:t.get("symbolOffset"),hoverAnimation:t.get("hoverAnimation"),labelModel:t.getModel("label"),hoverLabelModel:t.getModel("emphasis.label"),cursorStyle:t.get("cursor")}}s.updateData=function(e,t){t=u(t);var a=this.group,i=e.hostModel,n=this._data,r=this._symbolCtor,s=d(e);n||a.removeAll(),e.diff(n).add((function(o){var i=e.getItemLayout(o);if(l(e,i,o,t)){var n=new r(e,o,s);n.attr("position",i),e.setItemGraphicEl(o,n),a.add(n)}})).update((function(u,d){var c=n.getItemGraphicEl(d),h=e.getItemLayout(u);l(e,h,u,t)?(c?(c.updateData(e,u,s),o.updateProps(c,{position:h},i)):(c=new r(e,u)).attr("position",h),a.add(c),e.setItemGraphicEl(u,c)):a.remove(c)})).remove((function(e){var t=n.getItemGraphicEl(e);t&&t.fadeOut((function(){a.remove(t)}))})).execute(),this._data=e},s.isPersistent=function(){return!0},s.updateLayout=function(){var e=this._data;e&&e.eachItemGraphicEl((function(t,a){var o=e.getItemLayout(a);t.attr("position",o)}))},s.incrementalPrepareUpdate=function(e){this._seriesScope=d(e),this._data=null,this.group.removeAll()},s.incrementalUpdate=function(e,t,a){function o(e){e.isGroup||(e.incremental=e.useHoverLayer=!0)}a=u(a);for(var i=e.start;i<e.end;i++){var n=t.getItemLayout(i);if(l(t,n,i,a)){var r=new this._symbolCtor(t,i,this._seriesScope);r.traverse(o),r.attr("position",n),this.group.add(r),t.setItemGraphicEl(i,r)}}},s.remove=function(e){var t=this.group,a=this._data;a&&e?a.eachItemGraphicEl((function(e){e.fadeOut((function(){t.remove(e)}))})):t.removeAll()};var c=r;e.exports=c},19638:(e,t,a)=>{var o=a(33051),i=a(87587),n=a(85446),r=a(63978),s=a(55623),l=a(95899),u=a(40488);e.exports=function(e,t,a,d,c){for(var h=new n(d),p=0;p<e.length;p++)h.addNode(o.retrieve(e[p].id,e[p].name,p),p);var g=[],f=[],m=0;for(p=0;p<t.length;p++){var y=t[p],v=y.source,x=y.target;h.addEdge(v,x,m)&&(f.push(y),g.push(o.retrieve(y.id,v+" > "+x)),m++)}var _,S=a.get("coordinateSystem");if("cartesian2d"===S||"polar"===S)_=u(e,a);else{var b=l.get(S),I=b&&"view"!==b.type&&b.dimensions||[];o.indexOf(I,"value")<0&&I.concat(["value"]);var w=s(e,{coordDimensions:I});(_=new i(w,a)).initData(e)}var M=new i(["value"],a);return M.initData(f,g),c&&c(_,M),r({mainData:_,struct:h,structAttr:"graph",datas:{node:_,edge:M},datasAttr:{node:"data",edge:"edgeData"}}),h.update(),h}},40488:(e,t,a)=>{var o=a(33051),i=a(87587),n=a(55623),r=a(93819).SOURCE_FORMAT_ORIGINAL,s=a(10381).getDimensionTypeByAxis,l=a(32234).getDataItemValue,u=a(95899),d=a(32702).getCoordSysDefineBySeries,c=a(99574),h=a(99936).enableDataStack;e.exports=function(e,t,a){a=a||{},c.isInstance(e)||(e=c.seriesDataToSource(e));var p,g=t.get("coordinateSystem"),f=u.get(g),m=d(t);m&&(p=o.map(m.coordSysDims,(function(e){var t={name:e},a=m.axisMap.get(e);if(a){var o=a.get("type");t.type=s(o)}return t}))),p||(p=f&&(f.getDimensionsInfo?f.getDimensionsInfo():f.dimensions.slice())||["x","y"]);var y,v,x=n(e,{coordDimensions:p,generateCoord:a.generateCoord});m&&o.each(x,(function(e,t){var a=e.coordDim,o=m.categoryAxisMap.get(a);o&&(null==y&&(y=t),e.ordinalMeta=o.getOrdinalMeta()),null!=e.otherDims.itemName&&(v=!0)})),v||null==y||(x[y].otherDims.itemName=0);var _=h(t,x),S=new i(x,t);S.setCalculationInfo(_);var b=null!=y&&function(e){if(e.sourceFormat===r){var t=function(e){for(var t=0;t<e.length&&null==e[t];)t++;return e[t]}(e.data||[]);return null!=t&&!o.isArray(l(t))}}(e)?function(e,t,a,o){return o===y?a:this.defaultDimValueGetter(e,t,a,o)}:null;return S.hasItemOption=!1,S.initData(e,null,b),S}},23263:(e,t,a)=>{var o=a(55623),i=a(87587),n=a(33051),r=n.extend,s=n.isArray;e.exports=function(e,t,a){t=s(t)&&{coordDimensions:t}||r({},t);var n=e.getSource(),l=o(n,t),u=new i(l,e);return u.initData(n,a),u}},95682:(e,t,a)=>{var o=a(32234).makeInner;e.exports=function(){var e=o();return function(t){var a=e(t),o=t.pipelineContext,i=a.large,n=a.progressiveRender,r=a.large=o.large,s=a.progressiveRender=o.progressiveRender;return!!(i^r||n^s)&&"reset"}}},35540:(e,t,a)=>{var o=a(70492);o.registerAction({type:"focusNodeAdjacency",event:"focusNodeAdjacency",update:"series:focusNodeAdjacency"},(function(){})),o.registerAction({type:"unfocusNodeAdjacency",event:"unfocusNodeAdjacency",update:"series:unfocusNodeAdjacency"},(function(){}))},33140:(e,t,a)=>{var o=a(68540).retrieveRawValue;t.getDefaultLabel=function(e,t){var a=e.mapDimension("defaultedLabel",!0),i=a.length;if(1===i)return o(e,t,a[0]);if(i){for(var n=[],r=0;r<a.length;r++){var s=o(e,t,a[r]);n.push(s)}return n.join(" ")}}},68833:(e,t,a)=>{var o=a(33051);function i(e){for(var t=[];e;)(e=e.parentNode)&&t.push(e);return t.reverse()}t.retrieveTargetInfo=function(e,t,a){if(e&&o.indexOf(t,e.type)>=0){var i=a.getData().tree.root,n=e.targetNode;if("string"==typeof n&&(n=i.getNodeById(n)),n&&i.contains(n))return{node:n};var r=e.targetNodeId;if(null!=r&&(n=i.getNodeById(r)))return{node:n}}},t.getPathToRoot=i,t.aboveViewRoot=function(e,t){var a=i(e);return o.indexOf(a,t)>=0},t.wrapTreePathInfo=function(e,t){for(var a=[];e;){var o=e.dataIndex;a.push({name:e.name,dataIndex:o,value:t.getRawValue(o)}),e=e.parentNode}return a.reverse(),a}},4993:(e,t,a)=>{var o=a(23263),i=a(33051),n=a(10381).getDimensionTypeByAxis,r={_baseAxisDim:null,getInitialData:function(e,t){var a,r,s=t.getComponent("xAxis",this.get("xAxisIndex")),l=t.getComponent("yAxis",this.get("yAxisIndex")),u=s.get("type"),d=l.get("type");"category"===u?(e.layout="horizontal",a=s.getOrdinalMeta(),r=!0):"category"===d?(e.layout="vertical",a=l.getOrdinalMeta(),r=!0):e.layout=e.layout||"horizontal";var c=["x","y"],h="horizontal"===e.layout?0:1,p=this._baseAxisDim=c[h],g=c[1-h],f=[s,l],m=f[h].get("type"),y=f[1-h].get("type"),v=e.data;if(v&&r){var x=[];i.each(v,(function(e,t){var a;e.value&&i.isArray(e.value)?(a=e.value.slice(),e.value.unshift(t)):i.isArray(e)?(a=e.slice(),e.unshift(t)):a=e,x.push(a)})),e.data=x}var _=this.defaultValueDimensions;return o(this,{coordDimensions:[{name:p,type:n(m),ordinalMeta:a,otherDims:{tooltip:!1,itemName:0},dimsDef:["base"]},{name:g,type:n(y),dimsDef:_.slice()}],dimensionsCount:_.length+1})},getBaseAxis:function(){var e=this._baseAxisDim;return this.ecModel.getComponent(e+"Axis",this.get(e+"AxisIndex")).axis}};t.seriesModelMixin=r},46295:(e,t,a)=>{var o=a(70492);a(39790),a(81950);var i=a(34586),n=a(21149),r=a(64088);a(84617),o.registerVisual(i("line","circle","line")),o.registerLayout(n("line")),o.registerProcessor(o.PRIORITY.PROCESSOR.STATISTIC,r("line"))},39790:(e,t,a)=>{a(38175).__DEV__;var o=a(40488),i=a(93321).extend({type:"series.line",dependencies:["grid","polar"],getInitialData:function(e,t){return o(this.getSource(),this)},defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,hoverAnimation:!0,clipOverflow:!0,label:{position:"top"},lineStyle:{width:2,type:"solid"},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:"auto",connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0}});e.exports=i},81950:(e,t,a)=>{a(38175).__DEV__;var o=a(33051),i=a(68162),n=a(66351),r=a(21068),s=a(51177),l=a(32234),u=a(30633),d=u.Polyline,c=u.Polygon,h=a(75797),p=a(85669).round,g=a(89385),f=g.prepareDataCoordInfo,m=g.getStackedOnPoint;function y(e,t){if(e.length===t.length){for(var a=0;a<e.length;a++){var o=e[a],i=t[a];if(o[0]!==i[0]||o[1]!==i[1])return}return!0}}function v(e){return"number"==typeof e?e:e?.5:0}function x(e){var t=e.getGlobalExtent();if(e.onBand){var a=e.getBandWidth()/2-1,o=t[1]>t[0]?1:-1;t[0]+=o*a,t[1]-=o*a}return t}function _(e,t,a,o){return"polar"===e.type?function(e,t,a,o){var i=e.getAngleAxis(),n=e.getRadiusAxis().getExtent().slice();n[0]>n[1]&&n.reverse();var r=i.getExtent(),l=Math.PI/180;a&&(n[0]-=.5,n[1]+=.5);var u=new s.Sector({shape:{cx:p(e.cx,1),cy:p(e.cy,1),r0:p(n[0],1),r:p(n[1],1),startAngle:-r[0]*l,endAngle:-r[1]*l,clockwise:i.inverse}});return t&&(u.shape.endAngle=-r[0]*l,s.initProps(u,{shape:{endAngle:-r[1]*l}},o)),u}(e,t,a,o):function(e,t,a,o){var i=x(e.getAxis("x")),n=x(e.getAxis("y")),r=e.getBaseAxis().isHorizontal(),l=Math.min(i[0],i[1]),u=Math.min(n[0],n[1]),d=Math.max(i[0],i[1])-l,c=Math.max(n[0],n[1])-u;if(a)l-=.5,d+=.5,u-=.5,c+=.5;else{var h=o.get("lineStyle.width")||2,p=o.get("clipOverflow")?h/2:Math.max(d,c);r?(u-=p,c+=2*p):(l-=p,d+=2*p)}var g=new s.Rect({shape:{x:l,y:u,width:d,height:c}});return t&&(g.shape[r?"width":"height"]=0,s.initProps(g,{shape:{width:d,height:c}},o)),g}(e,t,a,o)}function S(e,t,a){for(var o=t.getBaseAxis(),i="x"===o.dim||"radius"===o.dim?0:1,n=[],r=0;r<e.length-1;r++){var s=e[r+1],l=e[r];n.push(l);var u=[];switch(a){case"end":u[i]=s[i],u[1-i]=l[1-i],n.push(u);break;case"middle":var d=(l[i]+s[i])/2,c=[];u[i]=c[i]=d,u[1-i]=l[1-i],c[1-i]=s[1-i],n.push(u),n.push(c);break;default:u[i]=l[i],u[1-i]=s[1-i],n.push(u)}}return e[r]&&n.push(e[r]),n}var b=h.extend({type:"line",init:function(){var e=new s.Group,t=new i;this.group.add(t.group),this._symbolDraw=t,this._lineGroup=e},render:function(e,t,a){var i=e.coordinateSystem,r=this.group,l=e.getData(),u=e.getModel("lineStyle"),d=e.getModel("areaStyle"),c=l.mapArray(l.getItemLayout),h="polar"===i.type,p=this._coordSys,g=this._symbolDraw,x=this._polyline,b=this._polygon,I=this._lineGroup,w=e.get("animation"),M=!d.isEmpty(),L=d.get("origin"),D=function(e,t,a){if(!a.valueDim)return[];for(var o=[],i=0,n=t.count();i<n;i++)o.push(m(a,e,t,i));return o}(i,l,f(i,l,L)),A=e.get("showSymbol"),N=A&&!h&&function(e,t,a){var i=e.get("showAllSymbol"),r="auto"===i;if(!i||r){var s=a.getAxesByScale("ordinal")[0];if(s&&(!r||!function(e,t){var a=e.getExtent(),o=Math.abs(a[1]-a[0])/e.scale.count();isNaN(o)&&(o=0);for(var i=t.count(),r=Math.max(1,Math.round(i/5)),s=0;s<i;s+=r)if(1.5*n.getSymbolSize(t,s)[e.isHorizontal()?1:0]>o)return!1;return!0}(s,t))){var l=t.mapDimension(s.dim),u={};return o.each(s.getViewLabels(),(function(e){u[e.tickValue]=1})),function(e){return!u.hasOwnProperty(t.get(l,e))}}}}(e,l,i),P=this._data;P&&P.eachItemGraphicEl((function(e,t){e.__temp&&(r.remove(e),P.setItemGraphicEl(t,null))})),A||g.remove(),r.add(I);var C=!h&&e.get("step");x&&p.type===i.type&&C===this._step?(M&&!b?b=this._newPolygon(c,D,i,w):b&&!M&&(I.remove(b),b=this._polygon=null),I.setClipPath(_(i,!1,!1,e)),A&&g.updateData(l,{isIgnore:N,clipShape:_(i,!1,!0,e)}),l.eachItemGraphicEl((function(e){e.stopAnimation(!0)})),y(this._stackedOnPoints,D)&&y(this._points,c)||(w?this._updateAnimation(l,D,i,a,C,L):(C&&(c=S(c,i,C),D=S(D,i,C)),x.setShape({points:c}),b&&b.setShape({points:c,stackedOnPoints:D})))):(A&&g.updateData(l,{isIgnore:N,clipShape:_(i,!1,!0,e)}),C&&(c=S(c,i,C),D=S(D,i,C)),x=this._newPolyline(c,i,w),M&&(b=this._newPolygon(c,D,i,w)),I.setClipPath(_(i,!0,!1,e)));var T=function(e,t){var a=e.getVisual("visualMeta");if(a&&a.length&&e.count()&&"cartesian2d"===t.type){for(var i,n,r=a.length-1;r>=0;r--){var l=a[r].dimension,u=e.dimensions[l],d=e.getDimensionInfo(u);if("x"===(i=d&&d.coordDim)||"y"===i){n=a[r];break}}if(n){var c=t.getAxis(i),h=o.map(n.stops,(function(e){return{coord:c.toGlobalCoord(c.dataToCoord(e.value)),color:e.color}})),p=h.length,g=n.outerColors.slice();p&&h[0].coord>h[p-1].coord&&(h.reverse(),g.reverse());var f=h[0].coord-10,m=h[p-1].coord+10,y=m-f;if(y<.001)return"transparent";o.each(h,(function(e){e.offset=(e.coord-f)/y})),h.push({offset:p?h[p-1].offset:.5,color:g[1]||"transparent"}),h.unshift({offset:p?h[0].offset:.5,color:g[0]||"transparent"});var v=new s.LinearGradient(0,0,0,0,h,!0);return v[i]=f,v[i+"2"]=m,v}}}(l,i)||l.getVisual("color");x.useStyle(o.defaults(u.getLineStyle(),{fill:"none",stroke:T,lineJoin:"bevel"}));var R=e.get("smooth");if(R=v(e.get("smooth")),x.setShape({smooth:R,smoothMonotone:e.get("smoothMonotone"),connectNulls:e.get("connectNulls")}),b){var E=l.getCalculationInfo("stackedOnSeries"),V=0;b.useStyle(o.defaults(d.getAreaStyle(),{fill:T,opacity:.7,lineJoin:"bevel"})),E&&(V=v(E.get("smooth"))),b.setShape({smooth:R,stackedOnSmooth:V,smoothMonotone:e.get("smoothMonotone"),connectNulls:e.get("connectNulls")})}this._data=l,this._coordSys=i,this._stackedOnPoints=D,this._points=c,this._step=C,this._valueOrigin=L},dispose:function(){},highlight:function(e,t,a,o){var i=e.getData(),r=l.queryDataIndex(i,o);if(!(r instanceof Array)&&null!=r&&r>=0){var s=i.getItemGraphicEl(r);if(!s){var u=i.getItemLayout(r);if(!u)return;(s=new n(i,r)).position=u,s.setZ(e.get("zlevel"),e.get("z")),s.ignore=isNaN(u[0])||isNaN(u[1]),s.__temp=!0,i.setItemGraphicEl(r,s),s.stopSymbolAnimation(!0),this.group.add(s)}s.highlight()}else h.prototype.highlight.call(this,e,t,a,o)},downplay:function(e,t,a,o){var i=e.getData(),n=l.queryDataIndex(i,o);if(null!=n&&n>=0){var r=i.getItemGraphicEl(n);r&&(r.__temp?(i.setItemGraphicEl(n,null),this.group.remove(r)):r.downplay())}else h.prototype.downplay.call(this,e,t,a,o)},_newPolyline:function(e){var t=this._polyline;return t&&this._lineGroup.remove(t),t=new d({shape:{points:e},silent:!0,z2:10}),this._lineGroup.add(t),this._polyline=t,t},_newPolygon:function(e,t){var a=this._polygon;return a&&this._lineGroup.remove(a),a=new c({shape:{points:e,stackedOnPoints:t},silent:!0}),this._lineGroup.add(a),this._polygon=a,a},_updateAnimation:function(e,t,a,o,i,n){var l=this._polyline,u=this._polygon,d=e.hostModel,c=r(this._data,e,this._stackedOnPoints,t,this._coordSys,a,this._valueOrigin,n),h=c.current,p=c.stackedOnCurrent,g=c.next,f=c.stackedOnNext;i&&(h=S(c.current,a,i),p=S(c.stackedOnCurrent,a,i),g=S(c.next,a,i),f=S(c.stackedOnNext,a,i)),l.shape.__points=c.current,l.shape.points=h,s.updateProps(l,{shape:{points:g}},d),u&&(u.setShape({points:h,stackedOnPoints:p}),s.updateProps(u,{shape:{points:g,stackedOnPoints:f}},d));for(var m=[],y=c.status,v=0;v<y.length;v++)if("="===y[v].cmd){var x=e.getItemGraphicEl(y[v].idx1);x&&m.push({el:x,ptIdx:v})}l.animators&&l.animators.length&&l.animators[0].during((function(){for(var e=0;e<m.length;e++)m[e].el.attr("position",l.shape.__points[m[e].ptIdx])}))},remove:function(e){var t=this.group,a=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),a&&a.eachItemGraphicEl((function(e,o){e.__temp&&(t.remove(e),a.setItemGraphicEl(o,null))})),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._data=null}});e.exports=b},89385:(e,t,a)=>{var o=a(99936).isDimensionStacked,i=a(33051).map;t.prepareDataCoordInfo=function(e,t,a){var n,r=e.getBaseAxis(),s=e.getOtherAxis(r),l=function(e,t){var a=0,o=e.scale.getExtent();return"start"===t?a=o[0]:"end"===t?a=o[1]:o[0]>0?a=o[0]:o[1]<0&&(a=o[1]),a}(s,a),u=r.dim,d=s.dim,c=t.mapDimension(d),h=t.mapDimension(u),p="x"===d||"radius"===d?1:0,g=i(e.dimensions,(function(e){return t.mapDimension(e)})),f=t.getCalculationInfo("stackResultDimension");return(n|=o(t,g[0]))&&(g[0]=f),(n|=o(t,g[1]))&&(g[1]=f),{dataDimsForPoint:g,valueStart:l,valueAxisDim:d,baseAxisDim:u,stacked:!!n,valueDim:c,baseDim:h,baseDataOffset:p,stackedOverDimension:t.getCalculationInfo("stackedOverDimension")}},t.getStackedOnPoint=function(e,t,a,o){var i=NaN;e.stacked&&(i=a.get(a.getCalculationInfo("stackedOverDimension"),o)),isNaN(i)&&(i=e.valueStart);var n=e.baseDataOffset,r=[];return r[n]=a.get(e.baseDim,o),r[1-n]=i,t.dataToPoint(r)}},21068:(e,t,a)=>{var o=a(89385),i=o.prepareDataCoordInfo,n=o.getStackedOnPoint;e.exports=function(e,t,a,o,r,s,l,u){for(var d=function(e,t){var a=[];return t.diff(e).add((function(e){a.push({cmd:"+",idx:e})})).update((function(e,t){a.push({cmd:"=",idx:t,idx1:e})})).remove((function(e){a.push({cmd:"-",idx:e})})).execute(),a}(e,t),c=[],h=[],p=[],g=[],f=[],m=[],y=[],v=i(r,t,l),x=i(s,e,u),_=0;_<d.length;_++){var S=d[_],b=!0;switch(S.cmd){case"=":var I=e.getItemLayout(S.idx),w=t.getItemLayout(S.idx1);(isNaN(I[0])||isNaN(I[1]))&&(I=w.slice()),c.push(I),h.push(w),p.push(a[S.idx]),g.push(o[S.idx1]),y.push(t.getRawIndex(S.idx1));break;case"+":var M=S.idx;c.push(r.dataToPoint([t.get(v.dataDimsForPoint[0],M),t.get(v.dataDimsForPoint[1],M)])),h.push(t.getItemLayout(M).slice()),p.push(n(v,r,t,M)),g.push(o[M]),y.push(t.getRawIndex(M));break;case"-":M=S.idx;var L=e.getRawIndex(M);L!==M?(c.push(e.getItemLayout(M)),h.push(s.dataToPoint([e.get(x.dataDimsForPoint[0],M),e.get(x.dataDimsForPoint[1],M)])),p.push(a[M]),g.push(n(x,s,e,M)),y.push(L)):b=!1}b&&(f.push(S),m.push(m.length))}m.sort((function(e,t){return y[e]-y[t]}));var D=[],A=[],N=[],P=[],C=[];for(_=0;_<m.length;_++)M=m[_],D[_]=c[M],A[_]=h[M],N[_]=p[M],P[_]=g[M],C[_]=f[M];return{current:D,next:A,stackedOnCurrent:N,stackedOnNext:P,status:C}}},30633:(e,t,a)=>{var o=a(10712),i=a(45280),n=a(60873),r=i.min,s=i.max,l=i.scaleAndAdd,u=i.copy,d=[],c=[],h=[];function p(e){return isNaN(e[0])||isNaN(e[1])}function g(e,t,a,o,i,n,r,s,l,u,d){return"none"!==u&&u?f.apply(this,arguments):m.apply(this,arguments)}function f(e,t,a,o,i,n,r,s,l,d,g){for(var f=0,m=a,y=0;y<o;y++){var v=t[m];if(m>=i||m<0)break;if(p(v)){if(g){m+=n;continue}break}if(m===a)e[n>0?"moveTo":"lineTo"](v[0],v[1]);else if(l>0){var x=t[f],_="y"===d?1:0,S=(v[_]-x[_])*l;u(c,x),c[_]=x[_]+S,u(h,v),h[_]=v[_]-S,e.bezierCurveTo(c[0],c[1],h[0],h[1],v[0],v[1])}else e.lineTo(v[0],v[1]);f=m,m+=n}return y}function m(e,t,a,o,n,g,f,m,y,v,x){for(var _=0,S=a,b=0;b<o;b++){var I=t[S];if(S>=n||S<0)break;if(p(I)){if(x){S+=g;continue}break}if(S===a)e[g>0?"moveTo":"lineTo"](I[0],I[1]),u(c,I);else if(y>0){var w=S+g,M=t[w];if(x)for(;M&&p(t[w]);)M=t[w+=g];var L=.5,D=t[_];if(!(M=t[w])||p(M))u(h,I);else{var A,N;if(p(M)&&!x&&(M=I),i.sub(d,M,D),"x"===v||"y"===v){var P="x"===v?0:1;A=Math.abs(I[P]-D[P]),N=Math.abs(I[P]-M[P])}else A=i.dist(I,D),N=i.dist(I,M);l(h,I,d,-y*(1-(L=N/(N+A))))}r(c,c,m),s(c,c,f),r(h,h,m),s(h,h,f),e.bezierCurveTo(c[0],c[1],h[0],h[1],I[0],I[1]),l(c,I,d,y*L)}else e.lineTo(I[0],I[1]);_=S,S+=g}return b}function y(e,t){var a=[1/0,1/0],o=[-1/0,-1/0];if(t)for(var i=0;i<e.length;i++){var n=e[i];n[0]<a[0]&&(a[0]=n[0]),n[1]<a[1]&&(a[1]=n[1]),n[0]>o[0]&&(o[0]=n[0]),n[1]>o[1]&&(o[1]=n[1])}return{min:t?a:o,max:t?o:a}}var v=o.extend({type:"ec-polyline",shape:{points:[],smooth:0,smoothConstraint:!0,smoothMonotone:null,connectNulls:!1},style:{fill:null,stroke:"#000"},brush:n(o.prototype.brush),buildPath:function(e,t){var a=t.points,o=0,i=a.length,n=y(a,t.smoothConstraint);if(t.connectNulls){for(;i>0&&p(a[i-1]);i--);for(;o<i&&p(a[o]);o++);}for(;o<i;)o+=g(e,a,o,i,i,1,n.min,n.max,t.smooth,t.smoothMonotone,t.connectNulls)+1}}),x=o.extend({type:"ec-polygon",shape:{points:[],stackedOnPoints:[],smooth:0,stackedOnSmooth:0,smoothConstraint:!0,smoothMonotone:null,connectNulls:!1},brush:n(o.prototype.brush),buildPath:function(e,t){var a=t.points,o=t.stackedOnPoints,i=0,n=a.length,r=t.smoothMonotone,s=y(a,t.smoothConstraint),l=y(o,t.smoothConstraint);if(t.connectNulls){for(;n>0&&p(a[n-1]);n--);for(;i<n&&p(a[i]);i++);}for(;i<n;){var u=g(e,a,i,n,n,1,s.min,s.max,t.smooth,r,t.connectNulls);g(e,o,i+u-1,u,n,-1,l.min,l.max,t.stackedOnSmooth,r,t.connectNulls),i+=u+1,e.closePath()}}});t.Polyline=v,t.Polygon=x},64771:(e,t,a)=>{var o=a(70492);a(40142),a(68192);var i=a(43850),n=a(62503);o.registerLayout(i),o.registerVisual(n)},40142:(e,t,a)=>{a(38175).__DEV__;var o=a(93321),i=a(87587),n=a(33051),r=n.concatArray,s=n.mergeAll,l=n.map,u=a(78988).encodeHTML,d=(a(95899),"undefined"==typeof Uint32Array?Array:Uint32Array),c="undefined"==typeof Float64Array?Array:Float64Array;function h(e){var t=e.data;t&&t[0]&&t[0][0]&&t[0][0].coord&&(e.data=l(t,(function(e){var t={coords:[e[0].coord,e[1].coord]};return e[0].name&&(t.fromName=e[0].name),e[1].name&&(t.toName=e[1].name),s([t,e[0],e[1]])})))}var p=o.extend({type:"series.lines",dependencies:["grid","polar"],visualColorAccessPath:"lineStyle.color",init:function(e){e.data=e.data||[],h(e);var t=this._processFlatCoordsArray(e.data);this._flatCoords=t.flatCoords,this._flatCoordsOffset=t.flatCoordsOffset,t.flatCoords&&(e.data=new Float32Array(t.count)),p.superApply(this,"init",arguments)},mergeOption:function(e){if(e.data=e.data||[],h(e),e.data){var t=this._processFlatCoordsArray(e.data);this._flatCoords=t.flatCoords,this._flatCoordsOffset=t.flatCoordsOffset,t.flatCoords&&(e.data=new Float32Array(t.count))}p.superApply(this,"mergeOption",arguments)},appendData:function(e){var t=this._processFlatCoordsArray(e.data);t.flatCoords&&(this._flatCoords?(this._flatCoords=r(this._flatCoords,t.flatCoords),this._flatCoordsOffset=r(this._flatCoordsOffset,t.flatCoordsOffset)):(this._flatCoords=t.flatCoords,this._flatCoordsOffset=t.flatCoordsOffset),e.data=new Float32Array(t.count)),this.getRawData().appendData(e.data)},_getCoordsFromItemModel:function(e){var t=this.getData().getItemModel(e);return t.option instanceof Array?t.option:t.getShallow("coords")},getLineCoordsCount:function(e){return this._flatCoordsOffset?this._flatCoordsOffset[2*e+1]:this._getCoordsFromItemModel(e).length},getLineCoords:function(e,t){if(this._flatCoordsOffset){for(var a=this._flatCoordsOffset[2*e],o=this._flatCoordsOffset[2*e+1],i=0;i<o;i++)t[i]=t[i]||[],t[i][0]=this._flatCoords[a+2*i],t[i][1]=this._flatCoords[a+2*i+1];return o}var n=this._getCoordsFromItemModel(e);for(i=0;i<n.length;i++)t[i]=t[i]||[],t[i][0]=n[i][0],t[i][1]=n[i][1];return n.length},_processFlatCoordsArray:function(e){var t=0;if(this._flatCoords&&(t=this._flatCoords.length),"number"==typeof e[0]){for(var a=e.length,o=new d(a),i=new c(a),n=0,r=0,s=0,l=0;l<a;){s++;var u=e[l++];o[r++]=n+t,o[r++]=u;for(var h=0;h<u;h++){var p=e[l++],g=e[l++];i[n++]=p,i[n++]=g}}return{flatCoordsOffset:new Uint32Array(o.buffer,0,r),flatCoords:i,count:s}}return{flatCoordsOffset:null,flatCoords:null,count:e.length}},getInitialData:function(e,t){var a=new i(["value"],this);return a.hasItemOption=!1,a.initData(e.data,[],(function(e,t,o,i){if(e instanceof Array)return NaN;a.hasItemOption=!0;var n=e.value;return null!=n?n instanceof Array?n[i]:n:void 0})),a},formatTooltip:function(e){var t=this.getData().getItemModel(e),a=t.get("name");if(a)return a;var o=t.get("fromName"),i=t.get("toName"),n=[];return null!=o&&n.push(o),null!=i&&n.push(i),u(n.join(" > "))},preventIncremental:function(){return!!this.get("effect.show")},getProgressive:function(){var e=this.option.progressive;return null==e?this.option.large?1e4:this.get("progressive"):e},getProgressiveThreshold:function(){var e=this.option.progressiveThreshold;return null==e?this.option.large?2e4:this.get("progressiveThreshold"):e},defaultOption:{coordinateSystem:"geo",zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,xAxisIndex:0,yAxisIndex:0,symbol:["none","none"],symbolSize:[10,10],geoIndex:0,effect:{show:!1,period:4,constantSpeed:0,symbol:"circle",symbolSize:3,loop:!0,trailLength:.2},large:!1,largeThreshold:2e3,polyline:!1,label:{show:!1,position:"end"},lineStyle:{opacity:.5}}}),g=p;e.exports=g},68192:(e,t,a)=>{a(38175).__DEV__;var o=a(70492),i=a(47145),n=a(99895),r=a(77159),s=a(30146),l=a(69121),u=a(34148),d=a(43850),c=o.extendChartView({type:"lines",init:function(){},render:function(e,t,a){var o=e.getData(),i=this._updateLineDraw(o,e),n=e.get("zlevel"),r=e.get("effect.trailLength"),s=a.getZr(),l="svg"===s.painter.getType();l||s.painter.getLayer(n).clear(!0),null==this._lastZlevel||l||s.configLayer(this._lastZlevel,{motionBlur:!1}),this._showEffect(e)&&r&&(l||s.configLayer(n,{motionBlur:!0,lastFrameAlpha:Math.max(Math.min(r/10+.9,1),0)})),i.updateData(o),this._lastZlevel=n,this._finished=!0},incrementalPrepareRender:function(e,t,a){var o=e.getData();this._updateLineDraw(o,e).incrementalPrepareUpdate(o),this._clearLayer(a),this._finished=!1},incrementalRender:function(e,t,a){this._lineDraw.incrementalUpdate(e,t.getData()),this._finished=e.end===t.getData().count()},updateTransform:function(e,t,a){var o=e.getData(),i=e.pipelineContext;if(!this._finished||i.large||i.progressiveRender)return{update:!0};var n=d.reset(e);n.progress&&n.progress({start:0,end:o.count()},o),this._lineDraw.updateLayout(),this._clearLayer(a)},_updateLineDraw:function(e,t){var a=this._lineDraw,o=this._showEffect(t),d=!!t.get("polyline"),c=t.pipelineContext.large;return a&&o===this._hasEffet&&d===this._isPolyline&&c===this._isLargeDraw||(a&&a.remove(),a=this._lineDraw=c?new u:new i(d?o?l:s:o?n:r),this._hasEffet=o,this._isPolyline=d,this._isLargeDraw=c,this.group.removeAll()),this.group.add(a.group),a},_showEffect:function(e){return!!e.get("effect.show")},_clearLayer:function(e){var t=e.getZr();"svg"===t.painter.getType()||null==this._lastZlevel||t.painter.getLayer(this._lastZlevel).clear(!0)},remove:function(e,t){this._lineDraw&&this._lineDraw.remove(),this._lineDraw=null,this._clearLayer(t)},dispose:function(){}});e.exports=c},43850:(e,t,a)=>{var o={seriesType:"lines",plan:a(95682)(),reset:function(e){var t=e.coordinateSystem,a=e.get("polyline"),o=e.pipelineContext.large;return{progress:function(i,n){var r=[];if(o){var s,l=i.end-i.start;if(a){for(var u=0,d=i.start;d<i.end;d++)u+=e.getLineCoordsCount(d);s=new Float32Array(l+2*u)}else s=new Float32Array(4*l);var c=0,h=[];for(d=i.start;d<i.end;d++){var p=e.getLineCoords(d,r);a&&(s[c++]=p);for(var g=0;g<p;g++)h=t.dataToPoint(r[g],!1,h),s[c++]=h[0],s[c++]=h[1]}n.setLayout("linesPoints",s)}else for(d=i.start;d<i.end;d++){var f=n.getItemModel(d),m=(p=e.getLineCoords(d,r),[]);if(a)for(var y=0;y<p;y++)m.push(t.dataToPoint(r[y]));else{m[0]=t.dataToPoint(r[0]),m[1]=t.dataToPoint(r[1]);var v=f.get("lineStyle.curveness");+v&&(m[2]=[(m[0][0]+m[1][0])/2-(m[0][1]-m[1][1])*v,(m[0][1]+m[1][1])/2-(m[1][0]-m[0][0])*v])}n.setItemLayout(d,m)}}}}};e.exports=o},62503:e=>{function t(e){return e instanceof Array||(e=[e,e]),e}var a="lineStyle.opacity".split("."),o={seriesType:"lines",reset:function(e,o,i){var n=t(e.get("symbol")),r=t(e.get("symbolSize")),s=e.getData();return s.setVisual("fromSymbol",n&&n[0]),s.setVisual("toSymbol",n&&n[1]),s.setVisual("fromSymbolSize",r&&r[0]),s.setVisual("toSymbolSize",r&&r[1]),s.setVisual("opacity",e.get(a)),{dataEach:s.hasItemOption?function(e,o){var i=e.getItemModel(o),n=t(i.getShallow("symbol",!0)),r=t(i.getShallow("symbolSize",!0)),s=i.get(a);n[0]&&e.setItemVisual(o,"fromSymbol",n[0]),n[1]&&e.setItemVisual(o,"toSymbol",n[1]),r[0]&&e.setItemVisual(o,"fromSymbolSize",r[0]),r[1]&&e.setItemVisual(o,"toSymbolSize",r[1]),e.setItemVisual(o,"opacity",s)}:null}}};e.exports=o},10064:(e,t,a)=>{var o=a(70492);a(42980),a(5249),a(28401),a(18958);var i=a(34804),n=a(80685),r=a(31293),s=a(87949),l=a(75324);o.registerLayout(i),o.registerVisual(n),o.registerProcessor(o.PRIORITY.PROCESSOR.STATISTIC,r),o.registerPreprocessor(s),l("map",[{type:"mapToggleSelect",event:"mapselectchanged",method:"toggleSelected"},{type:"mapSelect",event:"mapselected",method:"select"},{type:"mapUnSelect",event:"mapunselected",method:"unSelect"}])},42980:(e,t,a)=>{var o=a(33051),i=a(23263),n=a(93321),r=a(78988),s=r.encodeHTML,l=r.addCommas,u=a(1501),d=a(68540).retrieveRawAttr,c=a(11194),h=n.extend({type:"series.map",dependencies:["geo"],layoutMode:"box",needsDrawMap:!1,seriesGroup:[],getInitialData:function(e){for(var t=i(this,["value"]),a=t.mapDimension("value"),n=o.createHashMap(),r=[],s=[],l=0,u=t.count();l<u;l++){var h=t.getName(l);n.set(h,!0),r.push({name:h,value:t.get(a,l),selected:d(t,l,"selected")})}var p=c.load(this.getMapType(),this.option.nameMap);return o.each(p.regions,(function(e){var t=e.name;n.get(t)||(r.push({name:t}),s.push(t))})),this.updateSelectedMap(r),t.appendValues([],s),t},getHostGeoModel:function(){var e=this.option.geoIndex;return null!=e?this.dependentModels.geo[e]:null},getMapType:function(){return(this.getHostGeoModel()||this).option.map},getRawValue:function(e){var t=this.getData();return t.get(t.mapDimension("value"),e)},getRegionModel:function(e){var t=this.getData();return t.getItemModel(t.indexOfName(e))},formatTooltip:function(e){for(var t=this.getData(),a=l(this.getRawValue(e)),o=t.getName(e),i=this.seriesGroup,n=[],r=0;r<i.length;r++){var u=i[r].originalData.indexOfName(o),d=t.mapDimension("value");isNaN(i[r].originalData.get(d,u))||n.push(s(i[r].name))}return n.join(", ")+"<br />"+s(o+" : "+a)},getTooltipPosition:function(e){if(null!=e){var t=this.getData().getName(e),a=this.coordinateSystem,o=a.getRegion(t);return o&&a.dataToPoint(o.center)}},setZoom:function(e){this.option.zoom=e},setCenter:function(e){this.option.center=e},defaultOption:{zlevel:0,z:2,coordinateSystem:"geo",map:"",left:"center",top:"center",aspectScale:.75,showLegendSymbol:!0,dataRangeHoverLink:!0,boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444",areaColor:"#eee"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{areaColor:"rgba(255,215,0,0.8)"}}}});o.mixin(h,u);var p=h;e.exports=p},5249:(e,t,a)=>{var o=a(70492),i=a(33051),n=a(51177),r=a(44121),s="__seriesMapHighDown",l=o.extendChartView({type:"map",render:function(e,t,a,o){if(!o||"mapToggleSelect"!==o.type||o.from!==this.uid){var i=this.group;if(i.removeAll(),!e.getHostGeoModel()){if(o&&"geoRoam"===o.type&&"series"===o.componentType&&o.seriesId===e.id)(n=this._mapDraw)&&i.add(n.group);else if(e.needsDrawMap){var n=this._mapDraw||new r(a,!0);i.add(n.group),n.draw(e,t,a,this,o),this._mapDraw=n}else this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;e.get("showLegendSymbol")&&t.getComponent("legend")&&this._renderSymbols(e,t,a)}}},remove:function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null,this.group.removeAll()},dispose:function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null},_renderSymbols:function(e,t,a){var o=e.originalData,r=this.group;o.each(o.mapDimension("value"),(function(t,a){if(!isNaN(t)){var l=o.getItemLayout(a);if(l&&l.point){var c=l.point,h=l.offset,p=new n.Circle({style:{fill:e.getData().getVisual("color")},shape:{cx:c[0]+9*h,cy:c[1],r:3},silent:!0,z2:8+(h?0:n.Z2_EMPHASIS_LIFT+1)});if(!h){var g=e.mainSeries.getData(),f=o.getName(a),m=g.indexOfName(f),y=o.getItemModel(a),v=y.getModel("label"),x=y.getModel("emphasis.label"),_=g.getItemGraphicEl(m),S=i.retrieve2(e.getFormattedLabel(m,"normal"),f),b=i.retrieve2(e.getFormattedLabel(m,"emphasis"),S),I=_[s],w=Math.random();if(!I){I=_[s]={};var M=i.curry(u,!0),L=i.curry(u,!1);_.on("mouseover",M).on("mouseout",L).on("emphasis",M).on("normal",L)}_.__seriesMapCallKey=w,i.extend(I,{recordVersion:w,circle:p,labelModel:v,hoverLabelModel:x,emphasisText:b,normalText:S}),d(I,!1)}r.add(p)}}}))}});function u(e){var t=this[s];t&&t.recordVersion===this.__seriesMapCallKey&&d(t,e)}function d(e,t){var a=e.circle,o=e.labelModel,i=e.hoverLabelModel,r=e.emphasisText,s=e.normalText;t?(a.style.extendFrom(n.setTextStyle({},i,{text:i.get("show")?r:null},{isRectText:!0,useInsideStyle:!1},!0)),a.__mapOriginalZ2=a.z2,a.z2+=n.Z2_EMPHASIS_LIFT):(n.setTextStyle(a.style,o,{text:o.get("show")?s:null,textPosition:o.getShallow("position")||"bottom"},{isRectText:!0,useInsideStyle:!1}),a.dirty(!1),null!=a.__mapOriginalZ2&&(a.z2=a.__mapOriginalZ2,a.__mapOriginalZ2=null))}e.exports=l},87949:(e,t,a)=>{var o=a(33051);e.exports=function(e){var t=[];o.each(e.series,(function(e){e&&"map"===e.type&&(t.push(e),e.map=e.map||e.mapType,o.defaults(e,e.mapLocation))}))}},31293:(e,t,a)=>{var o=a(33051);e.exports=function(e){var t={};e.eachSeriesByType("map",(function(e){var a=e.getHostGeoModel(),o=a?"o"+a.id:"i"+e.getMapType();(t[o]=t[o]||[]).push(e)})),o.each(t,(function(e,t){for(var a,i,n,r=(a=o.map(e,(function(e){return e.getData()})),i=e[0].get("mapValueCalculation"),n={},o.each(a,(function(e){e.each(e.mapDimension("value"),(function(t,a){var o="ec-"+e.getName(a);n[o]=n[o]||[],isNaN(t)||n[o].push(t)}))})),a[0].map(a[0].mapDimension("value"),(function(e,t){for(var o="ec-"+a[0].getName(t),r=0,s=1/0,l=-1/0,u=n[o].length,d=0;d<u;d++)s=Math.min(s,n[o][d]),l=Math.max(l,n[o][d]),r+=n[o][d];return 0===u?NaN:"min"===i?s:"max"===i?l:"average"===i?r/u:r}))),s=0;s<e.length;s++)e[s].originalData=e[s].getData();for(s=0;s<e.length;s++)e[s].seriesGroup=e,e[s].needsDrawMap=0===s&&!e[s].getHostGeoModel(),e[s].setData(r.cloneShallow()),e[s].mainSeries=e[0]}))}},34804:(e,t,a)=>{var o=a(33051);e.exports=function(e){var t={};e.eachSeriesByType("map",(function(a){var i=a.getMapType();if(!a.getHostGeoModel()&&!t[i]){var n={};o.each(a.seriesGroup,(function(t){var a=t.coordinateSystem,o=t.originalData;t.get("showLegendSymbol")&&e.getComponent("legend")&&o.each(o.mapDimension("value"),(function(e,t){var i=o.getName(t),r=a.getRegion(i);if(r&&!isNaN(e)){var s=n[i]||0,l=a.dataToPoint(r.center);n[i]=s+1,o.setItemLayout(t,{point:l,offset:s})}}))}));var r=a.getData();r.each((function(e){var t=r.getName(e),a=r.getItemLayout(e)||{};a.showLabel=!n[t],r.setItemLayout(e,a)})),t[i]=!0}}))}},80685:e=>{e.exports=function(e){e.eachSeriesByType("map",(function(e){var t=e.get("color"),a=e.getModel("itemStyle"),o=a.get("areaColor"),i=a.get("color")||t[e.seriesIndex%t.length];e.getData().setVisual({areaColor:o,color:i})}))}},28571:(e,t,a)=>{var o=a(70492);a(75781),a(20710),a(6335);var i=a(75608);o.registerVisual(i)},20710:(e,t,a)=>{var o=a(33051),i=o.each,n=o.createHashMap,r=a(93321),s=a(40488),l=r.extend({type:"series.parallel",dependencies:["parallel"],visualColorAccessPath:"lineStyle.color",getInitialData:function(e,t){var a=this.getSource();return function(e,t){if(!e.encodeDefine){var a=t.ecModel.getComponent("parallel",t.get("parallelIndex"));if(a){var o=e.encodeDefine=n();i(a.dimensions,(function(e){var t=+e.replace("dim","");o.set(e,t)}))}}}(a,this),s(a,this)},getRawIndicesByActiveState:function(e){var t=this.coordinateSystem,a=this.getData(),o=[];return t.eachActiveState(a,(function(t,i){e===t&&o.push(a.getRawIndex(i))})),o},defaultOption:{zlevel:0,z:2,coordinateSystem:"parallel",parallelIndex:0,label:{show:!1},inactiveOpacity:.05,activeOpacity:1,lineStyle:{width:1,opacity:.45,type:"solid"},emphasis:{label:{show:!1}},progressive:500,smooth:!1,animationEasing:"linear"}});e.exports=l},6335:(e,t,a)=>{var o=a(51177);function i(e,t,a,o){for(var i,n=[],r=0;r<a.length;r++){var s=a[r],l=e.get(e.mapDimension(s),t);i=l,("category"===o.getAxis(s).type?null==i:null==i||isNaN(i))||n.push(o.dataToPoint(l,s))}return n}function n(e,t,a,n,r){var s=i(e,a,n,r),l=new o.Polyline({shape:{points:s},silent:!0,z2:10});return t.add(l),e.setItemGraphicEl(a,l),l}function r(e){var t=e.get("smooth",!0);return!0===t&&(t=.3),{lineStyle:e.getModel("lineStyle").getLineStyle(),smooth:null!=t?t:.3}}function s(e,t,a,o){var i=o.lineStyle;t.hasItemOption&&(i=t.getItemModel(a).getModel("lineStyle").getLineStyle()),e.useStyle(i);var n=e.style;n.fill=null,n.stroke=t.getItemVisual(a,"color"),n.opacity=t.getItemVisual(a,"opacity"),o.smooth&&(e.shape.smooth=o.smooth)}var l=a(75797).extend({type:"parallel",init:function(){this._dataGroup=new o.Group,this.group.add(this._dataGroup),this._data,this._initialized},render:function(e,t,a,l){var u=this._dataGroup,d=e.getData(),c=this._data,h=e.coordinateSystem,p=h.dimensions,g=r(e);if(d.diff(c).add((function(e){s(n(d,u,e,p,h),d,e,g)})).update((function(t,a){var n=c.getItemGraphicEl(a),r=i(d,t,p,h);d.setItemGraphicEl(t,n);var u=l&&!1===l.animation?null:e;o.updateProps(n,{shape:{points:r}},u,t),s(n,d,t,g)})).remove((function(e){var t=c.getItemGraphicEl(e);u.remove(t)})).execute(),!this._initialized){this._initialized=!0;var f=function(e,t,a){var i=e.model,n=e.getRect(),r=new o.Rect({shape:{x:n.x,y:n.y,width:n.width,height:n.height}}),s="horizontal"===i.get("layout")?"width":"height";return r.setShape(s,0),o.initProps(r,{shape:{width:n.width,height:n.height}},t,(function(){setTimeout((function(){u.removeClipPath()}))})),r}(h,e);u.setClipPath(f)}this._data=d},incrementalPrepareRender:function(e,t,a){this._initialized=!0,this._data=null,this._dataGroup.removeAll()},incrementalRender:function(e,t,a){for(var o=t.getData(),i=t.coordinateSystem,l=i.dimensions,u=r(t),d=e.start;d<e.end;d++){var c=n(o,this._dataGroup,d,l,i);c.incremental=!0,s(c,o,d,u)}},dispose:function(){},remove:function(){this._dataGroup&&this._dataGroup.removeAll(),this._data=null}});e.exports=l},75608:e=>{var t=["lineStyle","normal","opacity"],a={seriesType:"parallel",reset:function(e,a,o){var i=e.getModel("itemStyle"),n=e.getModel("lineStyle"),r=a.get("color"),s=n.get("color")||i.get("color")||r[e.seriesIndex%r.length],l=e.get("inactiveOpacity"),u=e.get("activeOpacity"),d=e.getModel("lineStyle").getLineStyle(),c=e.coordinateSystem,h=e.getData(),p={normal:d.opacity,active:u,inactive:l};return h.setVisual("color",s),{progress:function(e,a){c.eachActiveState(a,(function(e,o){var i=p[e];if("normal"===e&&a.hasItemOption){var n=a.getItemModel(o).get(t,!0);null!=n&&(i=n)}a.setItemVisual(o,"opacity",i)}),e.start,e.end)}}}};e.exports=a},59314:(e,t,a)=>{var o=a(70492),i=a(33051);a(77532),a(77346),a(25874);var n=a(79093).layout,r=a(34586);a(84617),o.registerLayout(i.curry(n,"pictorialBar")),o.registerVisual(r("pictorialBar","roundRect"))},94859:(e,t,a)=>{var o=a(70492),i=a(33051);a(52702),a(42471);var n=a(75324),r=a(69274),s=a(63798),l=a(22528);n("pie",[{type:"pieToggleSelect",event:"pieselectchanged",method:"toggleSelected"},{type:"pieSelect",event:"pieselected",method:"select"},{type:"pieUnSelect",event:"pieunselected",method:"unSelect"}]),o.registerVisual(r("pie")),o.registerLayout(i.curry(s,"pie")),o.registerProcessor(l("pie"))},52702:(e,t,a)=>{var o=a(70492),i=a(23263),n=a(33051),r=a(32234),s=a(85669).getPercentWithPrecision,l=a(1501),u=a(68540).retrieveRawAttr,d=o.extendSeriesModel({type:"series.pie",init:function(e){d.superApply(this,"init",arguments),this.legendDataProvider=function(){return this.getRawData()},this.updateSelectedMap(this._createSelectableList()),this._defaultLabelLine(e)},mergeOption:function(e){d.superCall(this,"mergeOption",e),this.updateSelectedMap(this._createSelectableList())},getInitialData:function(e,t){return i(this,["value"])},_createSelectableList:function(){for(var e=this.getRawData(),t=e.mapDimension("value"),a=[],o=0,i=e.count();o<i;o++)a.push({name:e.getName(o),value:e.get(t,o),selected:u(e,o,"selected")});return a},getDataParams:function(e){var t=this.getData(),a=d.superCall(this,"getDataParams",e),o=[];return t.each(t.mapDimension("value"),(function(e){o.push(e)})),a.percent=s(o,e,t.hostModel.get("percentPrecision")),a.$vars.push("percent"),a},_defaultLabelLine:function(e){r.defaultEmphasis(e,"labelLine",["show"]);var t=e.labelLine,a=e.emphasis.labelLine;t.show=t.show&&e.label.show,a.show=a.show&&e.emphasis.label.show},defaultOption:{zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,selectedOffset:10,hoverOffset:10,avoidLabelOverlap:!0,percentPrecision:2,stillShowZeroSum:!0,label:{rotate:!1,show:!0,position:"outer"},labelLine:{show:!0,length:15,length2:15,smooth:!1,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1},animationType:"expansion",animationEasing:"cubicOut"}});n.mixin(d,l);var c=d;e.exports=c},42471:(e,t,a)=>{var o=a(33051),i=a(51177),n=a(75797);function r(e,t,a,o){var i=t.getData(),n=this.dataIndex,r=i.getName(n),l=t.get("selectedOffset");o.dispatchAction({type:"pieToggleSelect",from:e,name:r,seriesId:t.id}),i.each((function(e){s(i.getItemGraphicEl(e),i.getItemLayout(e),t.isSelected(i.getName(e)),l,a)}))}function s(e,t,a,o,i){var n=(t.startAngle+t.endAngle)/2,r=a?o:0,s=[Math.cos(n)*r,Math.sin(n)*r];i?e.animate().when(200,{position:s}).start("bounceOut"):e.attr("position",s)}function l(e,t){i.Group.call(this);var a=new i.Sector({z2:2}),o=new i.Polyline,n=new i.Text;function r(){o.ignore=o.hoverIgnore,n.ignore=n.hoverIgnore}function s(){o.ignore=o.normalIgnore,n.ignore=n.normalIgnore}this.add(a),this.add(o),this.add(n),this.updateData(e,t,!0),this.on("emphasis",r).on("normal",s).on("mouseover",r).on("mouseout",s)}var u=l.prototype;u.updateData=function(e,t,a){var n=this.childAt(0),r=e.hostModel,l=e.getItemModel(t),u=e.getItemLayout(t),d=o.extend({},u);d.label=null,a?(n.setShape(d),"scale"===r.getShallow("animationType")?(n.shape.r=u.r0,i.initProps(n,{shape:{r:u.r}},r,t)):(n.shape.endAngle=u.startAngle,i.updateProps(n,{shape:{endAngle:u.endAngle}},r,t))):i.updateProps(n,{shape:d},r,t);var c=e.getItemVisual(t,"color");n.useStyle(o.defaults({lineJoin:"bevel",fill:c},l.getModel("itemStyle").getItemStyle())),n.hoverStyle=l.getModel("emphasis.itemStyle").getItemStyle();var h=l.getShallow("cursor");function p(){n.stopAnimation(!0),n.animateTo({shape:{r:u.r+r.get("hoverOffset")}},300,"elasticOut")}function g(){n.stopAnimation(!0),n.animateTo({shape:{r:u.r}},300,"elasticOut")}h&&n.attr("cursor",h),s(this,e.getItemLayout(t),r.isSelected(null,t),r.get("selectedOffset"),r.get("animation")),n.off("mouseover").off("mouseout").off("emphasis").off("normal"),l.get("hoverAnimation")&&r.isAnimationEnabled()&&n.on("mouseover",p).on("mouseout",g).on("emphasis",p).on("normal",g),this._updateLabel(e,t),i.setHoverStyle(this)},u._updateLabel=function(e,t){var a=this.childAt(1),o=this.childAt(2),n=e.hostModel,r=e.getItemModel(t),s=e.getItemLayout(t).label,l=e.getItemVisual(t,"color");i.updateProps(a,{shape:{points:s.linePoints||[[s.x,s.y],[s.x,s.y],[s.x,s.y]]}},n,t),i.updateProps(o,{style:{x:s.x,y:s.y}},n,t),o.attr({rotation:s.rotation,origin:[s.x,s.y],z2:10});var u=r.getModel("label"),d=r.getModel("emphasis.label"),c=r.getModel("labelLine"),h=r.getModel("emphasis.labelLine");l=e.getItemVisual(t,"color"),i.setLabelStyle(o.style,o.hoverStyle={},u,d,{labelFetcher:e.hostModel,labelDataIndex:t,defaultText:e.getName(t),autoColor:l,useInsideStyle:!!s.inside},{textAlign:s.textAlign,textVerticalAlign:s.verticalAlign,opacity:e.getItemVisual(t,"opacity")}),o.ignore=o.normalIgnore=!u.get("show"),o.hoverIgnore=!d.get("show"),a.ignore=a.normalIgnore=!c.get("show"),a.hoverIgnore=!h.get("show"),a.setStyle({stroke:l,opacity:e.getItemVisual(t,"opacity")}),a.setStyle(c.getModel("lineStyle").getLineStyle()),a.hoverStyle=h.getModel("lineStyle").getLineStyle();var p=c.get("smooth");p&&!0===p&&(p=.4),a.setShape({smooth:p})},o.inherits(l,i.Group);var d=n.extend({type:"pie",init:function(){var e=new i.Group;this._sectorGroup=e},render:function(e,t,a,i){if(!i||i.from!==this.uid){var n=e.getData(),s=this._data,u=this.group,d=t.get("animation"),c=!s,h=e.get("animationType"),p=o.curry(r,this.uid,e,d,a),g=e.get("selectedMode");if(n.diff(s).add((function(e){var t=new l(n,e);c&&"scale"!==h&&t.eachChild((function(e){e.stopAnimation(!0)})),g&&t.on("click",p),n.setItemGraphicEl(e,t),u.add(t)})).update((function(e,t){var a=s.getItemGraphicEl(t);a.updateData(n,e),a.off("click"),g&&a.on("click",p),u.add(a),n.setItemGraphicEl(e,a)})).remove((function(e){var t=s.getItemGraphicEl(e);u.remove(t)})).execute(),d&&c&&n.count()>0&&"scale"!==h){var f=n.getItemLayout(0),m=Math.max(a.getWidth(),a.getHeight())/2,y=o.bind(u.removeClipPath,u);u.setClipPath(this._createClipPath(f.cx,f.cy,m,f.startAngle,f.clockwise,y,e))}else u.removeClipPath();this._data=n}},dispose:function(){},_createClipPath:function(e,t,a,o,n,r,s){var l=new i.Sector({shape:{cx:e,cy:t,r0:0,r:a,startAngle:o,endAngle:o,clockwise:n}});return i.initProps(l,{shape:{endAngle:o+(n?1:-1)*Math.PI*2}},s,r),l},containPoint:function(e,t){var a=t.getData().getItemLayout(0);if(a){var o=e[0]-a.cx,i=e[1]-a.cy,n=Math.sqrt(o*o+i*i);return n<=a.r&&n>=a.r0}}});e.exports=d},17659:(e,t,a)=>{var o=a(80423);function i(e,t,a,o,i,n,r){function s(t,a,o,i){for(var n=t;n<a;n++)if(e[n].y+=o,n>t&&n+1<a&&e[n+1].y>e[n].y+e[n].height)return void l(n,o/2);l(a-1,o/2)}function l(t,a){for(var o=t;o>=0&&(e[o].y-=a,!(o>0&&e[o].y>e[o-1].y+e[o-1].height));o--);}function u(e,t,a,o,i,n){for(var r=t?Number.MAX_VALUE:0,s=0,l=e.length;s<l;s++){var u=Math.abs(e[s].y-o),d=e[s].len,c=e[s].len2,h=u<i+d?Math.sqrt((i+d+c)*(i+d+c)-u*u):Math.abs(e[s].x-a);t&&h>=r&&(h=r-10),!t&&h<=r&&(h=r+10),e[s].x=a+h*n,r=h}}e.sort((function(e,t){return e.y-t.y}));for(var d,c=0,h=e.length,p=[],g=[],f=0;f<h;f++)(d=e[f].y-c)<0&&s(f,h,-d),c=e[f].y+e[f].height;for(r-c<0&&l(h-1,c-r),f=0;f<h;f++)e[f].y>=a?g.push(e[f]):p.push(e[f]);u(p,!1,t,a,o,i),u(g,!0,t,a,o,i)}function n(e){return"center"===e.position}e.exports=function(e,t,a,r){var s,l,u=e.getData(),d=[],c=!1;u.each((function(a){var i,n,r,h,p=u.getItemLayout(a),g=u.getItemModel(a),f=g.getModel("label"),m=f.get("position")||g.get("emphasis.label.position"),y=g.getModel("labelLine"),v=y.get("length"),x=y.get("length2"),_=(p.startAngle+p.endAngle)/2,S=Math.cos(_),b=Math.sin(_);s=p.cx,l=p.cy;var I="inside"===m||"inner"===m;if("center"===m)i=p.cx,n=p.cy,h="center";else{var w=(I?(p.r+p.r0)/2*S:p.r*S)+s,M=(I?(p.r+p.r0)/2*b:p.r*b)+l;if(i=w+3*S,n=M+3*b,!I){var L=w+S*(v+t-p.r),D=M+b*(v+t-p.r),A=L+(S<0?-1:1)*x;i=A+(S<0?-5:5),n=D,r=[[w,M],[L,D],[A,D]]}h=I?"center":S>0?"left":"right"}var N=f.getFont(),P=f.get("rotate")?S<0?-_+Math.PI:-_:0,C=e.getFormattedLabel(a,"normal")||u.getName(a),T=o.getBoundingRect(C,N,h,"top");c=!!P,p.label={x:i,y:n,position:m,height:T.height,len:v,len2:x,linePoints:r,textAlign:h,verticalAlign:"middle",rotation:P,inside:I},I||d.push(p.label)})),!c&&e.get("avoidLabelOverlap")&&function(e,t,a,o,r,s){for(var l=[],u=[],d=0;d<e.length;d++)n(e[d])||(e[d].x<t?l.push(e[d]):u.push(e[d]));for(i(u,t,a,o,1,0,s),i(l,t,a,o,-1,0,s),d=0;d<e.length;d++)if(!n(e[d])){var c=e[d].linePoints;if(c){var h=c[1][0]-c[2][0];e[d].x<t?c[2][0]=e[d].x+3:c[2][0]=e[d].x-3,c[1][1]=c[2][1]=e[d].y,c[1][0]=c[2][0]+h}}}(d,s,l,t,0,r)}},63798:(e,t,a)=>{var o=a(85669),i=o.parsePercent,n=o.linearMap,r=a(17659),s=a(33051),l=2*Math.PI,u=Math.PI/180;e.exports=function(e,t,a,o){t.eachSeriesByType(e,(function(e){var t=e.getData(),o=t.mapDimension("value"),d=e.get("center"),c=e.get("radius");s.isArray(c)||(c=[0,c]),s.isArray(d)||(d=[d,d]);var h=a.getWidth(),p=a.getHeight(),g=Math.min(h,p),f=i(d[0],h),m=i(d[1],p),y=i(c[0],g/2),v=i(c[1],g/2),x=-e.get("startAngle")*u,_=e.get("minAngle")*u,S=0;t.each(o,(function(e){!isNaN(e)&&S++}));var b=t.getSum(o),I=Math.PI/(b||S)*2,w=e.get("clockwise"),M=e.get("roseType"),L=e.get("stillShowZeroSum"),D=t.getDataExtent(o);D[0]=0;var A=l,N=0,P=x,C=w?1:-1;if(t.each(o,(function(e,a){var o;if(isNaN(e))t.setItemLayout(a,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:w,cx:f,cy:m,r0:y,r:M?NaN:v});else{(o="area"!==M?0===b&&L?I:e*I:l/S)<_?(o=_,A-=_):N+=e;var i=P+C*o;t.setItemLayout(a,{angle:o,startAngle:P,endAngle:i,clockwise:w,cx:f,cy:m,r0:y,r:M?n(e,D,[y,v]):v}),P=i}})),A<l&&S)if(A<=.001){var T=l/S;t.each(o,(function(e,a){if(!isNaN(e)){var o=t.getItemLayout(a);o.angle=T,o.startAngle=x+C*a*T,o.endAngle=x+C*(a+1)*T}}))}else I=A/N,P=x,t.each(o,(function(e,a){if(!isNaN(e)){var o=t.getItemLayout(a),i=o.angle===_?_:e*I;o.startAngle=P,o.endAngle=P+C*i,P+=C*i}}));r(e,v,h,p)}))}},48927:(e,t,a)=>{var o=a(70492);a(22881),a(57345),a(36158);var i=a(69274),n=a(34586),r=a(34263),s=a(22528),l=a(17144);o.registerVisual(i("radar")),o.registerVisual(n("radar","circle")),o.registerLayout(r),o.registerProcessor(s("radar")),o.registerPreprocessor(l)},57345:(e,t,a)=>{var o=a(93321),i=a(23263),n=a(33051),r=a(78988).encodeHTML,s=o.extend({type:"series.radar",dependencies:["radar"],init:function(e){s.superApply(this,"init",arguments),this.legendDataProvider=function(){return this.getRawData()}},getInitialData:function(e,t){return i(this,{generateCoord:"indicator_",generateCoordCount:1/0})},formatTooltip:function(e){var t=this.getData(),a=this.coordinateSystem.getIndicatorAxes(),o=this.getData().getName(e);return r(""===o?this.name:o)+"<br/>"+n.map(a,(function(a,o){var i=t.get(t.mapDimension(a.dim),e);return r(a.name+" : "+i)})).join("<br />")},defaultOption:{zlevel:0,z:2,coordinateSystem:"radar",legendHoverLink:!0,radarIndex:0,lineStyle:{width:2,type:"solid"},label:{position:"top"},symbol:"emptyCircle",symbolSize:4}}),l=s;e.exports=l},36158:(e,t,a)=>{var o=a(70492),i=a(51177),n=a(33051),r=a(41525),s=o.extendChartView({type:"radar",render:function(e,t,a){var o=e.coordinateSystem,s=this.group,l=e.getData(),u=this._data;function d(e,t){var a=e.getItemVisual(t,"symbol")||"circle",o=e.getItemVisual(t,"color");if("none"!==a){var i=function(e){return n.isArray(e)||(e=[+e,+e]),e}(e.getItemVisual(t,"symbolSize")),s=r.createSymbol(a,-1,-1,2,2,o);return s.attr({style:{strokeNoScale:!0},z2:100,scale:[i[0]/2,i[1]/2]}),s}}function c(t,a,o,n,r,s){o.removeAll();for(var l=0;l<a.length-1;l++){var u=d(n,r);u&&(u.__dimIdx=l,t[l]?(u.attr("position",t[l]),i[s?"initProps":"updateProps"](u,{position:a[l]},e,r)):u.attr("position",a[l]),o.add(u))}}function h(e){return n.map(e,(function(e){return[o.cx,o.cy]}))}l.diff(u).add((function(t){var a=l.getItemLayout(t);if(a){var o=new i.Polygon,n=new i.Polyline,r={shape:{points:a}};o.shape.points=h(a),n.shape.points=h(a),i.initProps(o,r,e,t),i.initProps(n,r,e,t);var s=new i.Group,u=new i.Group;s.add(n),s.add(o),s.add(u),c(n.shape.points,a,u,l,t,!0),l.setItemGraphicEl(t,s)}})).update((function(t,a){var o=u.getItemGraphicEl(a),n=o.childAt(0),r=o.childAt(1),s=o.childAt(2),d={shape:{points:l.getItemLayout(t)}};d.shape.points&&(c(n.shape.points,d.shape.points,s,l,t,!1),i.updateProps(n,d,e),i.updateProps(r,d,e),l.setItemGraphicEl(t,o))})).remove((function(e){s.remove(u.getItemGraphicEl(e))})).execute(),l.eachItemGraphicEl((function(e,t){var a=l.getItemModel(t),o=e.childAt(0),r=e.childAt(1),u=e.childAt(2),d=l.getItemVisual(t,"color");s.add(e),o.useStyle(n.defaults(a.getModel("lineStyle").getLineStyle(),{fill:"none",stroke:d})),o.hoverStyle=a.getModel("emphasis.lineStyle").getLineStyle();var c=a.getModel("areaStyle"),h=a.getModel("emphasis.areaStyle"),p=c.isEmpty()&&c.parentModel.isEmpty(),g=h.isEmpty()&&h.parentModel.isEmpty();g=g&&p,r.ignore=p,r.useStyle(n.defaults(c.getAreaStyle(),{fill:d,opacity:.7})),r.hoverStyle=h.getAreaStyle();var f=a.getModel("itemStyle").getItemStyle(["color"]),m=a.getModel("emphasis.itemStyle").getItemStyle(),y=a.getModel("label"),v=a.getModel("emphasis.label");function x(){r.attr("ignore",g)}function _(){r.attr("ignore",p)}u.eachChild((function(e){e.setStyle(f),e.hoverStyle=n.clone(m),i.setLabelStyle(e.style,e.hoverStyle,y,v,{labelFetcher:l.hostModel,labelDataIndex:t,labelDimIndex:e.__dimIdx,defaultText:l.get(l.dimensions[e.__dimIdx],t),autoColor:d,isRectText:!0})})),e.off("mouseover").off("mouseout").off("normal").off("emphasis"),e.on("emphasis",x).on("mouseover",x).on("normal",_).on("mouseout",_),i.setHoverStyle(e)})),this._data=l},remove:function(){this.group.removeAll(),this._data=null},dispose:function(){}});e.exports=s},17144:(e,t,a)=>{var o=a(33051);e.exports=function(e){var t=e.polar;if(t){o.isArray(t)||(t=[t]);var a=[];o.each(t,(function(t,i){t.indicator?(t.type&&!t.shape&&(t.shape=t.type),e.radar=e.radar||[],o.isArray(e.radar)||(e.radar=[e.radar]),e.radar.push(t)):a.push(t)})),e.polar=a}o.each(e.series,(function(e){e&&"radar"===e.type&&e.polarIndex&&(e.radarIndex=e.polarIndex)}))}},34263:e=>{e.exports=function(e){e.eachSeriesByType("radar",(function(e){var t=e.getData(),a=[],o=e.coordinateSystem;if(o){for(var i=o.getIndicatorAxes(),n=0;n<i.length;n++)t.each(t.mapDimension(i[n].dim),r);t.each((function(e){a[e][0]&&a[e].push(a[e][0].slice()),t.setItemLayout(e,a[e])}))}function r(e,t){a[t]=a[t]||[],a[t][n]=o.dataToPoint(e,n)}}))}},90474:(e,t,a)=>{var o=a(70492);a(55341),a(42978),a(37655);var i=a(55776),n=a(66028);o.registerLayout(i),o.registerVisual(n)},55341:(e,t,a)=>{var o=a(93321),i=a(19638),n=a(78988).encodeHTML,r=o.extend({type:"series.sankey",layoutInfo:null,getInitialData:function(e){var t=e.edges||e.links,a=e.data||e.nodes;if(a&&t)return i(a,t,this,!0).data},setNodePosition:function(e,t){var a=this.option.data[e];a.localX=t[0],a.localY=t[1]},getGraph:function(){return this.getData().graph},getEdgeData:function(){return this.getGraph().edgeData},formatTooltip:function(e,t,a){if("edge"===a){var o=this.getDataParams(e,a),i=o.data,s=i.source+" -- "+i.target;return o.value&&(s+=" : "+o.value),n(s)}return r.superCall(this,"formatTooltip",e,t)},optionUpdated:function(){var e=this.option;!0===e.focusNodeAdjacency&&(e.focusNodeAdjacency="allEdges")},defaultOption:{zlevel:0,z:2,coordinateSystem:"view",layout:null,left:"5%",top:"5%",right:"20%",bottom:"5%",orient:"horizontal",nodeWidth:20,nodeGap:8,draggable:!0,focusNodeAdjacency:!1,layoutIterations:32,label:{show:!0,position:"right",color:"#000",fontSize:12},itemStyle:{borderWidth:1,borderColor:"#333"},lineStyle:{color:"#314656",opacity:.2,curveness:.5},emphasis:{label:{show:!0},lineStyle:{opacity:.6}},animationEasing:"linear",animationDuration:1e3}}),s=r;e.exports=s},42978:(e,t,a)=>{var o=a(51177),i=a(70492),n=a(33051),r=["itemStyle","opacity"],s=["lineStyle","opacity"];function l(e,t){return e.getVisual("opacity")||e.getModel().get(t)}function u(e,t,a){var o=e.getGraphicEl(),i=l(e,t);null!=a&&(null==i&&(i=1),i*=a),o.downplay&&o.downplay(),o.traverse((function(e){"group"!==e.type&&e.setStyle("opacity",i)}))}function d(e,t){var a=l(e,t),o=e.getGraphicEl();o.highlight&&o.highlight(),o.traverse((function(e){"group"!==e.type&&e.setStyle("opacity",a)}))}var c=o.extendShape({shape:{x1:0,y1:0,x2:0,y2:0,cpx1:0,cpy1:0,cpx2:0,cpy2:0,extent:0,orient:""},buildPath:function(e,t){var a=t.extent;"vertical"===t.orient?(e.moveTo(t.x1,t.y1),e.bezierCurveTo(t.cpx1,t.cpy1,t.cpx2,t.cpy2,t.x2,t.y2),e.lineTo(t.x2+a,t.y2),e.bezierCurveTo(t.cpx2+a,t.cpy2,t.cpx1+a,t.cpy1,t.x1+a,t.y1)):(e.moveTo(t.x1,t.y1),e.bezierCurveTo(t.cpx1,t.cpy1,t.cpx2,t.cpy2,t.x2,t.y2),e.lineTo(t.x2,t.y2+a),e.bezierCurveTo(t.cpx2,t.cpy2+a,t.cpx1,t.cpy1+a,t.x1,t.y1+a)),e.closePath()}}),h=i.extendChartView({type:"sankey",_model:null,_focusAdjacencyDisabled:!1,render:function(e,t,a){var i=this,n=e.getGraph(),r=this.group,s=e.layoutInfo,l=s.width,u=s.height,d=e.getData(),h=e.getData("edge"),p=e.get("orient");this._model=e,r.removeAll(),r.attr("position",[s.x,s.y]),n.eachEdge((function(t){var a=new c;a.dataIndex=t.dataIndex,a.seriesIndex=e.seriesIndex,a.dataType="edge";var i,n,s,d,g,f,m,y,v=t.getModel("lineStyle"),x=v.get("curveness"),_=t.node1.getLayout(),S=t.node1.getModel(),b=S.get("localX"),I=S.get("localY"),w=t.node2.getLayout(),M=t.node2.getModel(),L=M.get("localX"),D=M.get("localY"),A=t.getLayout();switch(a.shape.extent=Math.max(1,A.dy),a.shape.orient=p,"vertical"===p?(i=(null!=b?b*l:_.x)+A.sy,n=(null!=I?I*u:_.y)+_.dy,s=(null!=L?L*l:w.x)+A.ty,g=i,f=n*(1-x)+(d=null!=D?D*u:w.y)*x,m=s,y=n*x+d*(1-x)):(i=(null!=b?b*l:_.x)+_.dx,n=(null!=I?I*u:_.y)+A.sy,g=i*(1-x)+(s=null!=L?L*l:w.x)*x,f=n,m=i*x+s*(1-x),y=d=(null!=D?D*u:w.y)+A.ty),a.setShape({x1:i,y1:n,x2:s,y2:d,cpx1:g,cpy1:f,cpx2:m,cpy2:y}),a.setStyle(v.getItemStyle()),a.style.fill){case"source":a.style.fill=t.node1.getVisual("color");break;case"target":a.style.fill=t.node2.getVisual("color")}o.setHoverStyle(a,t.getModel("emphasis.lineStyle").getItemStyle()),r.add(a),h.setItemGraphicEl(t.dataIndex,a)})),n.eachNode((function(t){var a=t.getLayout(),i=t.getModel(),n=i.get("localX"),s=i.get("localY"),c=i.getModel("label"),h=i.getModel("emphasis.label"),p=new o.Rect({shape:{x:null!=n?n*l:a.x,y:null!=s?s*u:a.y,width:a.dx,height:a.dy},style:i.getModel("itemStyle").getItemStyle()}),g=t.getModel("emphasis.itemStyle").getItemStyle();o.setLabelStyle(p.style,g,c,h,{labelFetcher:e,labelDataIndex:t.dataIndex,defaultText:t.id,isRectText:!0}),p.setStyle("fill",t.getVisual("color")),o.setHoverStyle(p,g),r.add(p),d.setItemGraphicEl(t.dataIndex,p),p.dataType="node"})),d.eachItemGraphicEl((function(t,o){var n=d.getItemModel(o);n.get("draggable")&&(t.drift=function(t,n){i._focusAdjacencyDisabled=!0,this.shape.x+=t,this.shape.y+=n,this.dirty(),a.dispatchAction({type:"dragNode",seriesId:e.id,dataIndex:d.getRawIndex(o),localX:this.shape.x/l,localY:this.shape.y/u})},t.ondragend=function(){i._focusAdjacencyDisabled=!1},t.draggable=!0,t.cursor="move"),n.get("focusNodeAdjacency")&&(t.off("mouseover").on("mouseover",(function(){i._focusAdjacencyDisabled||a.dispatchAction({type:"focusNodeAdjacency",seriesId:e.id,dataIndex:t.dataIndex})})),t.off("mouseout").on("mouseout",(function(){i._focusAdjacencyDisabled||a.dispatchAction({type:"unfocusNodeAdjacency",seriesId:e.id})})))})),h.eachItemGraphicEl((function(t,o){h.getItemModel(o).get("focusNodeAdjacency")&&(t.off("mouseover").on("mouseover",(function(){i._focusAdjacencyDisabled||a.dispatchAction({type:"focusNodeAdjacency",seriesId:e.id,edgeDataIndex:t.dataIndex})})),t.off("mouseout").on("mouseout",(function(){i._focusAdjacencyDisabled||a.dispatchAction({type:"unfocusNodeAdjacency",seriesId:e.id})})))})),!this._data&&e.get("animation")&&r.setClipPath(function(e,t,a){var i=new o.Rect({shape:{x:e.x-10,y:e.y-10,width:0,height:e.height+20}});return o.initProps(i,{shape:{width:e.width+20,height:e.height+20}},t,(function(){r.removeClipPath()})),i}(r.getBoundingRect(),e)),this._data=e.getData()},dispose:function(){},focusNodeAdjacency:function(e,t,a,o){var i=this._model.getData(),l=i.graph,c=o.dataIndex,h=i.getItemModel(c),p=o.edgeDataIndex;if(null!=c||null!=p){var g=l.getNodeByIndex(c),f=l.getEdgeByIndex(p);if(l.eachNode((function(e){u(e,r,.1)})),l.eachEdge((function(e){u(e,s,.1)})),g){d(g,r);var m=h.get("focusNodeAdjacency");"outEdges"===m?n.each(g.outEdges,(function(e){e.dataIndex<0||(d(e,s),d(e.node2,r))})):"inEdges"===m?n.each(g.inEdges,(function(e){e.dataIndex<0||(d(e,s),d(e.node1,r))})):"allEdges"===m&&n.each(g.edges,(function(e){e.dataIndex<0||(d(e,s),d(e.node1,r),d(e.node2,r))}))}f&&(d(f,s),d(f.node1,r),d(f.node2,r))}},unfocusNodeAdjacency:function(e,t,a,o){var i=this._model.getGraph();i.eachNode((function(e){u(e,r)})),i.eachEdge((function(e){u(e,s)}))}});e.exports=h},37655:(e,t,a)=>{var o=a(70492);a(35540),o.registerAction({type:"dragNode",event:"dragNode",update:"update"},(function(e,t){t.eachComponent({mainType:"series",subType:"sankey",query:e},(function(t){t.setNodePosition(e.dataIndex,[e.localX,e.localY])}))}))},55776:(e,t,a)=>{var o=a(76172),i=a(33051),n=a(32234).groupData;function r(e,t,a,o,n){i.each(e,(function(e){var i,r,s,l=0,u=e.length;if("vertical"===n){var d;for(e.sort((function(e,t){return e.getLayout().x-t.getLayout().x})),s=0;s<u;s++)(r=l-(i=e[s]).getLayout().x)>0&&(d=i.getLayout().x+r,i.setLayout({x:d},!0)),l=i.getLayout().x+i.getLayout().dx+t;if((r=l-t-o)>0)for(d=i.getLayout().x-r,i.setLayout({x:d},!0),l=d,s=u-2;s>=0;--s)(r=(i=e[s]).getLayout().x+i.getLayout().dx+t-l)>0&&(d=i.getLayout().x-r,i.setLayout({x:d},!0)),l=i.getLayout().x}else{var c;for(e.sort((function(e,t){return e.getLayout().y-t.getLayout().y})),s=0;s<u;s++)(r=l-(i=e[s]).getLayout().y)>0&&(c=i.getLayout().y+r,i.setLayout({y:c},!0)),l=i.getLayout().y+i.getLayout().dy+t;if((r=l-t-a)>0)for(c=i.getLayout().y-r,i.setLayout({y:c},!0),l=c,s=u-2;s>=0;--s)(r=(i=e[s]).getLayout().y+i.getLayout().dy+t-l)>0&&(c=i.getLayout().y-r,i.setLayout({y:c},!0)),l=i.getLayout().y}}))}function s(e,t,a){i.each(e.slice().reverse(),(function(e){i.each(e,(function(e){if(e.outEdges.length){var o=h(e.outEdges,l,a)/h(e.outEdges,c,a);if("vertical"===a){var i=e.getLayout().x+(o-d(e,a))*t;e.setLayout({x:i},!0)}else{var n=e.getLayout().y+(o-d(e,a))*t;e.setLayout({y:n},!0)}}}))}))}function l(e,t){return d(e.node2,t)*e.getValue()}function u(e,t){return d(e.node1,t)*e.getValue()}function d(e,t){return"vertical"===t?e.getLayout().x+e.getLayout().dx/2:e.getLayout().y+e.getLayout().dy/2}function c(e){return e.getValue()}function h(e,t,a){for(var o=0,i=e.length,n=-1;++n<i;){var r=+t.call(e,e[n],a);isNaN(r)||(o+=r)}return o}function p(e,t,a){i.each(e,(function(e){i.each(e,(function(e){if(e.inEdges.length){var o=h(e.inEdges,u,a)/h(e.inEdges,c,a);if("vertical"===a){var i=e.getLayout().x+(o-d(e,a))*t;e.setLayout({x:i},!0)}else{var n=e.getLayout().y+(o-d(e,a))*t;e.setLayout({y:n},!0)}}}))}))}a(38175).__DEV__,e.exports=function(e,t,a){e.eachSeriesByType("sankey",(function(e){var a=e.get("nodeWidth"),l=e.get("nodeGap"),u=function(e,t){return o.getLayoutRect(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}(e,t);e.layoutInfo=u;var d=u.width,g=u.height,f=e.getGraph(),m=f.nodes,y=f.edges;!function(e){i.each(e,(function(e){var t=h(e.outEdges,c),a=h(e.inEdges,c),o=Math.max(t,a);e.setLayout({value:o},!0)}))}(m),function(e,t,a,o,l,u,d,c){(function(e,t,a,o,n,r){for(var s=[],l=[],u=[],d=[],c=0,h=0;h<t.length;h++)s[h]=1;for(h=0;h<e.length;h++)l[h]=e[h].inEdges.length,0===l[h]&&u.push(e[h]);for(;u.length;){for(var p=0;p<u.length;p++){var g=u[p];"vertical"===r?(g.setLayout({y:c},!0),g.setLayout({dy:a},!0)):(g.setLayout({x:c},!0),g.setLayout({dx:a},!0));for(var f=0;f<g.outEdges.length;f++){var m=g.outEdges[f];s[t.indexOf(m)]=0;var y=m.node2;0==--l[e.indexOf(y)]&&d.push(y)}}++c,u=d,d=[]}for(h=0;h<s.length;h++);(function(e,t,a){i.each(e,(function(e){e.outEdges.length||("vertical"===a?e.setLayout({y:t-1},!0):e.setLayout({x:t-1},!0))}))})(e,c,r),function(e,t,a){i.each(e,(function(e){if("vertical"===a){var o=e.getLayout().y*t;e.setLayout({y:o},!0)}else{var i=e.getLayout().x*t;e.setLayout({x:i},!0)}}))}(e,"vertical"===r?(n-a)/(c-1):(o-a)/(c-1),r)})(e,t,a,l,u,c),function(e,t,a,o,l,u,d){var c=function(e,t){var a=[],o="vertical"===t?"y":"x",r=n(e,(function(e){return e.getLayout()[o]}));return r.keys.sort((function(e,t){return e-t})),i.each(r.keys,(function(e){a.push(r.buckets.get(e))})),a}(e,d);(function(e,t,a,o,n,r,s){var l=[];i.each(t,(function(e){var t,a=e.length,u=0;i.each(e,(function(e){u+=e.getLayout().value})),t="vertical"===s?(n-(a-1)*r)/u:(o-(a-1)*r)/u,l.push(t)})),l.sort((function(e,t){return e-t}));var u=l[0];i.each(t,(function(e){i.each(e,(function(e,t){var a=e.getLayout().value*u;"vertical"===s?(e.setLayout({x:t},!0),e.setLayout({dx:a},!0)):(e.setLayout({y:t},!0),e.setLayout({dy:a},!0))}))})),i.each(a,(function(e){var t=+e.getValue()*u;e.setLayout({dy:t},!0)}))})(0,c,t,a,o,l,d),r(c,l,a,o,d);for(var h=1;u>0;u--)s(c,h*=.99,d),r(c,l,a,o,d),p(c,h,d),r(c,l,a,o,d)}(e,t,u,l,o,d,c),function(e,t){i.each(e,(function(e){"vertical"===t?(e.outEdges.sort((function(e,t){return e.node2.getLayout().x-t.node2.getLayout().x})),e.inEdges.sort((function(e,t){return e.node1.getLayout().x-t.node1.getLayout().x}))):(e.outEdges.sort((function(e,t){return e.node2.getLayout().y-t.node2.getLayout().y})),e.inEdges.sort((function(e,t){return e.node1.getLayout().y-t.node1.getLayout().y})))})),i.each(e,(function(e){var t=0,a=0;i.each(e.outEdges,(function(e){e.setLayout({sy:t},!0),t+=e.getLayout().dy})),i.each(e.inEdges,(function(e){e.setLayout({ty:a},!0),a+=e.getLayout().dy}))}))}(e,c)}(m,y,a,l,d,g,0!==i.filter(m,(function(e){return 0===e.getLayout().value})).length?0:e.get("layoutIterations"),e.get("orient"))}))}},66028:(e,t,a)=>{var o=a(59937),i=a(33051);e.exports=function(e,t){e.eachSeriesByType("sankey",(function(e){var t=e.getGraph().nodes;if(t.length){var a=1/0,n=-1/0;i.each(t,(function(e){var t=e.getLayout().value;t<a&&(a=t),t>n&&(n=t)})),i.each(t,(function(t){var i=new o({type:"color",mappingMethod:"linear",dataExtent:[a,n],visual:e.get("color")}).mapValueToVisual(t.getLayout().value);t.setVisual("color",i);var r=t.getModel().get("itemStyle.color");null!=r&&t.setVisual("color",r)}))}}))}},42213:(e,t,a)=>{var o=a(70492);a(517),a(79002);var i=a(34586),n=a(21149);a(84617),o.registerVisual(i("scatter","circle")),o.registerLayout(n("scatter"))},517:(e,t,a)=>{var o=a(40488),i=a(93321).extend({type:"series.scatter",dependencies:["grid","polar","geo","singleAxis","calendar"],getInitialData:function(e,t){return o(this.getSource(),this)},brushSelector:"point",getProgressive:function(){var e=this.option.progressive;return null==e?this.option.large?5e3:this.get("progressive"):e},getProgressiveThreshold:function(){var e=this.option.progressiveThreshold;return null==e?this.option.large?1e4:this.get("progressiveThreshold"):e},defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,symbolSize:10,large:!1,largeThreshold:2e3,itemStyle:{opacity:.8}}});e.exports=i},79002:(e,t,a)=>{var o=a(70492),i=a(68162),n=a(48066),r=a(21149);o.extendChartView({type:"scatter",render:function(e,t,a){var o=e.getData();this._updateSymbolDraw(o,e).updateData(o),this._finished=!0},incrementalPrepareRender:function(e,t,a){var o=e.getData();this._updateSymbolDraw(o,e).incrementalPrepareUpdate(o),this._finished=!1},incrementalRender:function(e,t,a){this._symbolDraw.incrementalUpdate(e,t.getData()),this._finished=e.end===t.getData().count()},updateTransform:function(e,t,a){var o=e.getData();if(this.group.dirty(),!this._finished||o.count()>1e4||!this._symbolDraw.isPersistent())return{update:!0};var i=r().reset(e);i.progress&&i.progress({start:0,end:o.count()},o),this._symbolDraw.updateLayout(o)},_updateSymbolDraw:function(e,t){var a=this._symbolDraw,o=t.pipelineContext.large;return a&&o===this._isLargeDraw||(a&&a.remove(),a=this._symbolDraw=o?new n:new i,this._isLargeDraw=o,this.group.removeAll()),this.group.add(a.group),a},remove:function(e,t){this._symbolDraw&&this._symbolDraw.remove(!0),this._symbolDraw=null},dispose:function(){}})},13594:(e,t,a)=>{var o=a(70492),i=a(33051);a(12906),a(25787),a(74026);var n=a(69274),r=a(23509),s=a(22528);o.registerVisual(i.curry(n,"sunburst")),o.registerLayout(i.curry(r,"sunburst")),o.registerProcessor(i.curry(s,"sunburst"))},54313:(e,t,a)=>{var o=a(33051),i=a(51177),n="none";function r(e,t,a){i.Group.call(this);var o=new i.Sector({z2:2});o.seriesIndex=t.seriesIndex;var n=new i.Text({z2:4,silent:e.getModel("label").get("silent")});function r(){n.ignore=n.hoverIgnore}function s(){n.ignore=n.normalIgnore}this.add(o),this.add(n),this.updateData(!0,e,"normal",t,a),this.on("emphasis",r).on("normal",s).on("mouseover",r).on("mouseout",s)}var s=r.prototype;s.updateData=function(e,t,a,n,r){this.node=t,t.piece=this,n=n||this._seriesModel,r=r||this._ecModel;var s=this.childAt(0);s.dataIndex=t.dataIndex;var l=t.getModel(),u=t.getLayout(),d=o.extend({},u);d.label=null;var c=function(e,t,a){var i=e.getVisual("color"),n=e.getVisual("visualMeta");n&&0!==n.length||(i=null);var r=e.getModel("itemStyle").get("color");if(r)return r;if(i)return i;if(0===e.depth)return a.option.color[0];var s=a.option.color.length;return r=a.option.color[function(e){for(var t=e;t.depth>1;)t=t.parentNode;var a=e.getAncestors()[0];return o.indexOf(a.children,t)}(e)%s],r}(t,0,r);!function(e,t,a){t.getData().setItemVisual(e.dataIndex,"color",a)}(t,n,c);var h,p=l.getModel("itemStyle").getItemStyle();if("normal"===a)h=p;else{var g=l.getModel(a+".itemStyle").getItemStyle();h=o.merge(g,p)}h=o.defaults({lineJoin:"bevel",fill:h.fill||c},h),e?(s.setShape(d),s.shape.r=u.r0,i.updateProps(s,{shape:{r:u.r}},n,t.dataIndex),s.useStyle(h)):"object"==typeof h.fill&&h.fill.type||"object"==typeof s.style.fill&&s.style.fill.type?(i.updateProps(s,{shape:d},n),s.useStyle(h)):i.updateProps(s,{shape:d,style:h},n),this._updateLabel(n,c,a);var f=l.getShallow("cursor");if(f&&s.attr("cursor",f),e){var m=n.getShallow("highlightPolicy");this._initEvents(s,t,n,m)}this._seriesModel=n||this._seriesModel,this._ecModel=r||this._ecModel},s.onEmphasis=function(e){var t=this;this.node.hostTree.root.eachNode((function(a){var o,i,r;a.piece&&(t.node===a?a.piece.updateData(!1,a,"emphasis"):(o=a,i=t.node,(r=e)!==n&&("self"===r?o===i:"ancestor"===r?o===i||o.isAncestorOf(i):o===i||o.isDescendantOf(i))?a.piece.childAt(0).trigger("highlight"):e!==n&&a.piece.childAt(0).trigger("downplay")))}))},s.onNormal=function(){this.node.hostTree.root.eachNode((function(e){e.piece&&e.piece.updateData(!1,e,"normal")}))},s.onHighlight=function(){this.updateData(!1,this.node,"highlight")},s.onDownplay=function(){this.updateData(!1,this.node,"downplay")},s._updateLabel=function(e,t,a){var n=this.node.getModel(),r=n.getModel("label"),s="normal"===a||"emphasis"===a?r:n.getModel(a+".label"),l=n.getModel("emphasis.label"),u=o.retrieve(e.getFormattedLabel(this.node.dataIndex,"normal",null,null,"label"),this.node.name);!1===M("show")&&(u="");var d=this.node.getLayout(),c=s.get("minAngle");null==c&&(c=r.get("minAngle")),c=c/180*Math.PI;var h=d.endAngle-d.startAngle;null!=c&&Math.abs(h)<c&&(u="");var p=this.childAt(1);i.setLabelStyle(p.style,p.hoverStyle||{},r,l,{defaultText:s.getShallow("show")?u:null,autoColor:t,useInsideStyle:!0});var g,f=(d.startAngle+d.endAngle)/2,m=Math.cos(f),y=Math.sin(f),v=M("position"),x=M("distance")||0,_=M("align");"outside"===v?(g=d.r+x,_=f>Math.PI/2?"right":"left"):_&&"center"!==_?"left"===_?(g=d.r0+x,f>Math.PI/2&&(_="right")):"right"===_&&(g=d.r-x,f>Math.PI/2&&(_="left")):(g=(d.r+d.r0)/2,_="center"),p.attr("style",{text:u,textAlign:_,textVerticalAlign:M("verticalAlign")||"middle",opacity:M("opacity")});var S=g*m+d.cx,b=g*y+d.cy;p.attr("position",[S,b]);var I=M("rotate"),w=0;function M(e){var t=s.get(e);return null==t?r.get(e):t}"radial"===I?(w=-f)<-Math.PI/2&&(w+=Math.PI):"tangential"===I?(w=Math.PI/2-f)>Math.PI/2?w-=Math.PI:w<-Math.PI/2&&(w+=Math.PI):"number"==typeof I&&(w=I*Math.PI/180),p.attr("rotation",w)},s._initEvents=function(e,t,a,o){e.off("mouseover").off("mouseout").off("emphasis").off("normal");var i=this,n=function(){i.onEmphasis(o)},r=function(){i.onNormal()};a.isAnimationEnabled()&&e.on("mouseover",n).on("mouseout",r).on("emphasis",n).on("normal",r).on("downplay",(function(){i.onDownplay()})).on("highlight",(function(){i.onHighlight()}))},o.inherits(r,i.Group);var l=r;e.exports=l},12906:(e,t,a)=>{var o=a(33051),i=a(93321),n=a(9327),r=a(68833).wrapTreePathInfo,s=i.extend({type:"series.sunburst",_viewRoot:null,getInitialData:function(e,t){var a={name:e.name,children:e.data};l(a);var o=e.levels||[],i={};return i.levels=o,n.createTree(a,this,i).data},optionUpdated:function(){this.resetViewRoot()},getDataParams:function(e){var t=i.prototype.getDataParams.apply(this,arguments),a=this.getData().tree.getNodeByDataIndex(e);return t.treePathInfo=r(a,this),t},defaultOption:{zlevel:0,z:2,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,percentPrecision:2,stillShowZeroSum:!0,highlightPolicy:"descendant",nodeClick:"rootToNode",renderLabelForZeroData:!1,label:{rotate:"radial",show:!0,opacity:1,align:"center",position:"inside",distance:5,silent:!0,emphasis:{}},itemStyle:{borderWidth:1,borderColor:"white",borderType:"solid",shadowBlur:0,shadowColor:"rgba(0, 0, 0, 0.2)",shadowOffsetX:0,shadowOffsetY:0,opacity:1,emphasis:{},highlight:{opacity:1},downplay:{opacity:.9}},animationType:"expansion",animationDuration:1e3,animationDurationUpdate:500,animationEasing:"cubicOut",data:[],levels:[],sort:"desc"},getViewRoot:function(){return this._viewRoot},resetViewRoot:function(e){e?this._viewRoot=e:e=this._viewRoot;var t=this.getRawData().tree.root;e&&(e===t||t.contains(e))||(this._viewRoot=t)}});function l(e){var t=0;o.each(e.children,(function(e){l(e);var a=e.value;o.isArray(a)&&(a=a[0]),t+=a}));var a=e.value;o.isArray(a)&&(a=a[0]),(null==a||isNaN(a))&&(a=t),a<0&&(a=0),o.isArray(e.value)?e.value[0]=a:e.value=a}e.exports=s},25787:(e,t,a)=>{var o=a(33051),i=a(75797),n=a(54313),r=a(4130),s=i.extend({type:"sunburst",init:function(){},render:function(e,t,a,i){var s=this;this.seriesModel=e,this.api=a,this.ecModel=t;var l=e.getData(),u=l.tree.root,d=e.getViewRoot(),c=this.group,h=e.get("renderLabelForZeroData"),p=[];d.eachNode((function(e){p.push(e)}));var g=this._oldChildren||[];if(function(a,i){function s(e){return e.getId()}function d(o,r){!function(a,o){if(h||!a||a.getValue()||(a=null),a!==u&&o!==u)if(o&&o.piece)a?(o.piece.updateData(!1,a,"normal",e,t),l.setItemGraphicEl(a.dataIndex,o.piece)):(r=o)&&r.piece&&(c.remove(r.piece),r.piece=null);else if(a){var i=new n(a,e,t);c.add(i),l.setItemGraphicEl(a.dataIndex,i)}var r}(null==o?null:a[o],null==r?null:i[r])}0===a.length&&0===i.length||new r(i,a,s,s).add(d).update(d).remove(o.curry(d,null)).execute()}(p,g),function(a,o){if(o.depth>0){s.virtualPiece?s.virtualPiece.updateData(!1,a,"normal",e,t):(s.virtualPiece=new n(a,e,t),c.add(s.virtualPiece)),o.piece._onclickEvent&&o.piece.off("click",o.piece._onclickEvent);var i=function(e){s._rootToNode(o.parentNode)};o.piece._onclickEvent=i,s.virtualPiece.on("click",i)}else s.virtualPiece&&(c.remove(s.virtualPiece),s.virtualPiece=null)}(u,d),i&&i.highlight&&i.highlight.piece){var f=e.getShallow("highlightPolicy");i.highlight.piece.onEmphasis(f)}else if(i&&i.unhighlight){var m=this.virtualPiece;!m&&u.children.length&&(m=u.children[0].piece),m&&m.onNormal()}this._initEvents(),this._oldChildren=p},dispose:function(){},_initEvents:function(){var e=this,t=function(t){var a=!1;e.seriesModel.getViewRoot().eachNode((function(o){if(!a&&o.piece&&o.piece.childAt(0)===t.target){var i=o.getModel().get("nodeClick");if("rootToNode"===i)e._rootToNode(o);else if("link"===i){var n=o.getModel(),r=n.get("link");if(r){var s=n.get("target",!0)||"_blank";window.open(r,s)}}a=!0}}))};this.group._onclickEvent&&this.group.off("click",this.group._onclickEvent),this.group.on("click",t),this.group._onclickEvent=t},_rootToNode:function(e){e!==this.seriesModel.getViewRoot()&&this.api.dispatchAction({type:"sunburstRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:e})},containPoint:function(e,t){var a=t.getData().getItemLayout(0);if(a){var o=e[0]-a.cx,i=e[1]-a.cy,n=Math.sqrt(o*o+i*i);return n<=a.r&&n>=a.r0}}});e.exports=s},74026:(e,t,a)=>{var o=a(70492),i=a(68833),n="sunburstRootToNode";o.registerAction({type:n,update:"updateView"},(function(e,t){t.eachComponent({mainType:"series",subType:"sunburst",query:e},(function(t,a){var o=i.retrieveTargetInfo(e,[n],t);if(o){var r=t.getViewRoot();r&&(e.direction=i.aboveViewRoot(r,o.node)?"rollUp":"drillDown"),t.resetViewRoot(o.node)}}))}));var r="sunburstHighlight";o.registerAction({type:r,update:"updateView"},(function(e,t){t.eachComponent({mainType:"series",subType:"sunburst",query:e},(function(t,a){var o=i.retrieveTargetInfo(e,[r],t);o&&(e.highlight=o.node)}))})),o.registerAction({type:"sunburstUnhighlight",update:"updateView"},(function(e,t){t.eachComponent({mainType:"series",subType:"sunburst",query:e},(function(t,a){e.unhighlight=!0}))}))},23509:(e,t,a)=>{var o=a(85669).parsePercent,i=a(33051),n=(Math.PI,Math.PI/180);function r(e,t){var a=e.children||[];e.children=function(e,t){if("function"==typeof t)return e.sort(t);var a="asc"===t;return e.sort((function(e,t){var o=(e.getValue()-t.getValue())*(a?1:-1);return 0===o?(e.dataIndex-t.dataIndex)*(a?-1:1):o}))}(a,t),a.length&&i.each(e.children,(function(e){r(e,t)}))}e.exports=function(e,t,a,s){t.eachSeriesByType(e,(function(e){var t=e.get("center"),s=e.get("radius");i.isArray(s)||(s=[0,s]),i.isArray(t)||(t=[t,t]);var l=a.getWidth(),u=a.getHeight(),d=Math.min(l,u),c=o(t[0],l),h=o(t[1],u),p=o(s[0],d/2),g=o(s[1],d/2),f=-e.get("startAngle")*n,m=e.get("minAngle")*n,y=e.getData().tree.root,v=e.getViewRoot(),x=v.depth,_=e.get("sort");null!=_&&r(v,_);var S=0;i.each(v.children,(function(e){!isNaN(e.getValue())&&S++}));var b=v.getValue(),I=Math.PI/(b||S)*2,w=v.depth>0,M=v.height-(w?-1:1),L=(g-p)/(M||1),D=e.get("clockwise"),A=e.get("stillShowZeroSum"),N=D?1:-1,P=function(e,t){if(e){var a=t;if(e!==y){var n=e.getValue(),r=0===b&&A?I:n*I;r<m&&(r=m),a=t+N*r;var s=e.depth-x-(w?-1:1),l=p+L*s,u=p+L*(s+1),g=e.getModel();null!=g.get("r0")&&(l=o(g.get("r0"),d/2)),null!=g.get("r")&&(u=o(g.get("r"),d/2)),e.setLayout({angle:r,startAngle:t,endAngle:a,clockwise:D,cx:c,cy:h,r0:l,r:u})}if(e.children&&e.children.length){var f=0;i.each(e.children,(function(e){f+=P(e,t+f)}))}return a-t}};if(w){var C=p,T=p+L,R=2*Math.PI;y.setLayout({angle:R,startAngle:f,endAngle:f+R,clockwise:D,cx:c,cy:h,r0:C,r:T})}P(v,f)}))}},90110:(e,t,a)=>{var o=a(70492);a(84066),a(16140),a(78244);var i=a(21330),n=a(9496),r=a(22528);o.registerLayout(i),o.registerVisual(n),o.registerProcessor(r("themeRiver"))},16140:(e,t,a)=>{var o=a(93321),i=a(55623),n=a(10381).getDimensionTypeByAxis,r=a(87587),s=a(33051),l=a(32234).groupData,u=a(78988).encodeHTML,d=o.extend({type:"series.themeRiver",dependencies:["singleAxis"],nameMap:null,init:function(e){d.superApply(this,"init",arguments),this.legendDataProvider=function(){return this.getRawData()}},fixData:function(e){var t=e.length,a=l(e,(function(e){return e[2]})),o=[];a.buckets.each((function(e,t){o.push({name:t,dataList:e})}));for(var i=o.length,n=-1,r=-1,s=0;s<i;++s){var u=o[s].dataList.length;u>n&&(n=u,r=s)}for(var d=0;d<i;++d)if(d!==r)for(var c=o[d].name,h=0;h<n;++h){for(var p=o[r].dataList[h][0],g=o[d].dataList.length,f=-1,m=0;m<g;++m)if(o[d].dataList[m][0]===p){f=m;break}-1===f&&(e[t]=[],e[t][0]=p,e[t][1]=0,e[t][2]=c,t++)}return e},getInitialData:function(e,t){for(var a=t.queryComponents({mainType:"singleAxis",index:this.get("singleAxisIndex"),id:this.get("singleAxisId")})[0].get("type"),o=s.filter(e.data,(function(e){return void 0!==e[2]})),l=this.fixData(o||[]),u=[],d=this.nameMap=s.createHashMap(),c=0,h=0;h<l.length;++h)u.push(l[h][2]),d.get(l[h][2])||(d.set(l[h][2],c),c++);var p=i(l,{coordDimensions:["single"],dimensionsDefine:[{name:"time",type:n(a)},{name:"value",type:"float"},{name:"name",type:"ordinal"}],encodeDefine:{single:0,value:1,itemName:2}}),g=new r(p,this);return g.initData(l),g},getLayerSeries:function(){for(var e=this.getData(),t=e.count(),a=[],o=0;o<t;++o)a[o]=o;var i=e.mapDimension("single"),n=l(a,(function(t){return e.get("name",t)})),r=[];return n.buckets.each((function(t,a){t.sort((function(t,a){return e.get(i,t)-e.get(i,a)})),r.push({name:a,indices:t})})),r},getAxisTooltipData:function(e,t,a){s.isArray(e)||(e=e?[e]:[]);for(var o,i=this.getData(),n=this.getLayerSeries(),r=[],l=n.length,u=0;u<l;++u){for(var d=Number.MAX_VALUE,c=-1,h=n[u].indices.length,p=0;p<h;++p){var g=i.get(e[0],n[u].indices[p]),f=Math.abs(g-t);f<=d&&(o=g,d=f,c=n[u].indices[p])}r.push(c)}return{dataIndices:r,nestestValue:o}},formatTooltip:function(e){var t=this.getData(),a=t.getName(e),o=t.get(t.mapDimension("value"),e);return(isNaN(o)||null==o)&&(o="-"),u(a+" : "+o)},defaultOption:{zlevel:0,z:2,coordinateSystem:"singleAxis",boundaryGap:["10%","10%"],singleAxisIndex:0,animationEasing:"linear",label:{margin:4,show:!0,position:"left",color:"#000",fontSize:11},emphasis:{label:{show:!0}}}}),c=d;e.exports=c},78244:(e,t,a)=>{var o=a(70492),i=a(30633).Polygon,n=a(51177),r=a(33051),s=r.bind,l=r.extend,u=a(4130),d=o.extendChartView({type:"themeRiver",init:function(){this._layers=[]},render:function(e,t,a){var o=e.getData(),r=this.group,d=e.getLayerSeries(),c=o.getLayout("layoutInfo"),h=c.rect,p=c.boundaryGap;function g(e){return e.name}r.attr("position",[0,h.y+p[0]]);var f=new u(this._layersSeries||[],d,g,g),m={};function y(t,a,s){var u=this._layers;if("remove"!==t){for(var c,h,p,g=[],f=[],y=d[a].indices,v=0;v<y.length;v++){var x=o.getItemLayout(y[v]),_=x.x,S=x.y0,b=x.y;g.push([_,S]),f.push([_,S+b]),c=o.getItemVisual(y[v],"color")}var I=o.getItemLayout(y[0]),w=o.getItemModel(y[v-1]),M=w.getModel("label"),L=M.get("margin");if("add"===t){var D=m[a]=new n.Group;h=new i({shape:{points:g,stackedOnPoints:f,smooth:.4,stackedOnSmooth:.4,smoothConstraint:!1},z2:0}),p=new n.Text({style:{x:I.x-L,y:I.y0+I.y/2}}),D.add(h),D.add(p),r.add(D),h.setClipPath(function(e,t,a){var o=new n.Rect({shape:{x:e.x-10,y:e.y-10,width:0,height:e.height+20}});return n.initProps(o,{shape:{width:e.width+20,height:e.height+20}},t,(function(){h.removeClipPath()})),o}(h.getBoundingRect(),e))}else D=u[s],h=D.childAt(0),p=D.childAt(1),r.add(D),m[a]=D,n.updateProps(h,{shape:{points:g,stackedOnPoints:f}},e),n.updateProps(p,{style:{x:I.x-L,y:I.y0+I.y/2}},e);var A=w.getModel("emphasis.itemStyle"),N=w.getModel("itemStyle");n.setTextStyle(p.style,M,{text:M.get("show")?e.getFormattedLabel(y[v-1],"normal")||o.getName(y[v-1]):null,textVerticalAlign:"middle"}),h.setStyle(l({fill:c},N.getItemStyle(["color"]))),n.setHoverStyle(h,A.getItemStyle())}else r.remove(u[a])}f.add(s(y,this,"add")).update(s(y,this,"update")).remove(s(y,this,"remove")).execute(),this._layersSeries=d,this._layers=m},dispose:function(){}});e.exports=d},21330:(e,t,a)=>{var o=a(33051),i=a(85669);function n(e,t,a){if(e.count())for(var i,n=t.coordinateSystem,r=t.getLayerSeries(),s=e.mapDimension("single"),l=e.mapDimension("value"),u=o.map(r,(function(t){return o.map(t.indices,(function(t){var a=n.dataToPoint(e.get(s,t));return a[1]=e.get(l,t),a}))})),d=function(e){for(var t=e.length,a=e[0].length,o=[],i=[],n=0,r={},s=0;s<a;++s){for(var l=0,u=0;l<t;++l)u+=e[l][s][1];u>n&&(n=u),o.push(u)}for(var d=0;d<a;++d)i[d]=(n-o[d])/2;n=0;for(var c=0;c<a;++c){var h=o[c]+i[c];h>n&&(n=h)}return r.y0=i,r.max=n,r}(u),c=d.y0,h=a/d.max,p=r.length,g=r[0].indices.length,f=0;f<g;++f){i=c[f]*h,e.setItemLayout(r[0].indices[f],{layerIndex:0,x:u[0][f][0],y0:i,y:u[0][f][1]*h});for(var m=1;m<p;++m)i+=u[m-1][f][1]*h,e.setItemLayout(r[m].indices[f],{layerIndex:m,x:u[m][f][0],y0:i,y:u[m][f][1]*h})}}e.exports=function(e,t){e.eachSeriesByType("themeRiver",(function(e){var t=e.getData(),a=e.coordinateSystem,o={},r=a.getRect();o.rect=r;var s=e.get("boundaryGap"),l=a.getAxis();o.boundaryGap=s,"horizontal"===l.orient?(s[0]=i.parsePercent(s[0],r.height),s[1]=i.parsePercent(s[1],r.height),n(t,e,r.height-s[0]-s[1])):(s[0]=i.parsePercent(s[0],r.width),s[1]=i.parsePercent(s[1],r.width),n(t,e,r.width-s[0]-s[1])),t.setLayout("layoutInfo",o)}))}},9496:(e,t,a)=>{var o=a(33051).createHashMap;e.exports=function(e){e.eachSeriesByType("themeRiver",(function(e){var t=e.getData(),a=e.getRawData(),i=e.get("color"),n=o();t.each((function(e){n.set(t.getRawIndex(e),e)})),a.each((function(o){var r=a.getName(o),s=i[(e.nameMap.get(r)-1)%i.length];a.setItemVisual(o,"color",s);var l=n.get(o);null!=l&&t.setItemVisual(l,"color",s)}))}))}},81052:(e,t,a)=>{var o=a(70492);a(97908),a(37732),a(1969);var i=a(34586),n=a(92961);o.registerVisual(i("tree","circle")),o.registerLayout(n)},97908:(e,t,a)=>{var o=a(93321),i=a(9327),n=a(78988).encodeHTML,r=o.extend({type:"series.tree",layoutInfo:null,layoutMode:"box",getInitialData:function(e){var t={name:e.name,children:e.data},a=e.leaves||{},o={};o.leaves=a;var n=i.createTree(t,this,o),r=0;n.eachNode("preorder",(function(e){e.depth>r&&(r=e.depth)}));var s=e.expandAndCollapse&&e.initialTreeDepth>=0?e.initialTreeDepth:r;return n.root.eachNode("preorder",(function(e){var t=e.hostTree.data.getRawDataItem(e.dataIndex);e.isExpand=t&&null!=t.collapsed?!t.collapsed:e.depth<=s})),n.data},getOrient:function(){var e=this.get("orient");return"horizontal"===e?e="LR":"vertical"===e&&(e="TB"),e},setZoom:function(e){this.option.zoom=e},setCenter:function(e){this.option.center=e},formatTooltip:function(e){for(var t=this.getData().tree,a=t.root.children[0],o=t.getNodeByDataIndex(e),i=o.getValue(),r=o.name;o&&o!==a;)r=o.parentNode.name+"."+r,o=o.parentNode;return n(r+(isNaN(i)||null==i?"":" : "+i))},defaultOption:{zlevel:0,z:2,coordinateSystem:"view",left:"12%",top:"12%",right:"12%",bottom:"12%",layout:"orthogonal",roam:!1,nodeScaleRatio:.4,center:null,zoom:1,orient:"LR",symbol:"emptyCircle",symbolSize:7,expandAndCollapse:!0,initialTreeDepth:2,lineStyle:{color:"#ccc",width:1.5,curveness:.5},itemStyle:{color:"lightsteelblue",borderColor:"#c23531",borderWidth:1.5},label:{show:!0,color:"#555"},leaves:{label:{show:!0}},animationEasing:"linear",animationDuration:700,animationDurationUpdate:1e3}});e.exports=r},37732:(e,t,a)=>{var o=a(33051),i=a(51177),n=a(66351),r=a(69387).radialCoordinate,s=a(70492),l=a(3726),u=a(23845),d=a(31194),c=a(9176),h=a(61485).onIrrelevantElement,p=s.extendChartView({type:"tree",init:function(e,t){this._oldTree,this._mainGroup=new i.Group,this._controller=new c(t.getZr()),this._controllerHost={target:this.group},this.group.add(this._mainGroup)},render:function(e,t,a,o){var i=e.getData(),n=e.layoutInfo,r=this._mainGroup,s=e.get("layout");"radial"===s?r.attr("position",[n.x+n.width/2,n.y+n.height/2]):r.attr("position",[n.x,n.y]),this._updateViewCoordSys(e),this._updateController(e,t,a);var l=this._data,u={expandAndCollapse:e.get("expandAndCollapse"),layout:s,orient:e.getOrient(),curvature:e.get("lineStyle.curveness"),symbolRotate:e.get("symbolRotate"),symbolOffset:e.get("symbolOffset"),hoverAnimation:e.get("hoverAnimation"),useNameLabel:!0,fadeIn:!0};i.diff(l).add((function(t){g(i,t)&&m(i,t,null,r,e,u)})).update((function(t,a){var o=l.getItemGraphicEl(a);g(i,t)?m(i,t,o,r,e,u):o&&y(l,a,o,r,e,u)})).remove((function(t){var a=l.getItemGraphicEl(t);a&&y(l,t,a,r,e,u)})).execute(),this._nodeScaleRatio=e.get("nodeScaleRatio"),this._updateNodeAndLinkScale(e),!0===u.expandAndCollapse&&i.eachItemGraphicEl((function(t,o){t.off("click").on("click",(function(){a.dispatchAction({type:"treeExpandAndCollapse",seriesId:e.id,dataIndex:o})}))})),this._data=i},_updateViewCoordSys:function(e){var t=e.getData(),a=[];t.each((function(e){var o=t.getItemLayout(e);!o||isNaN(o.x)||isNaN(o.y)||a.push([+o.x,+o.y])}));var o=[],i=[];l.fromPoints(a,o,i),i[0]-o[0]==0&&(i[0]+=1,o[0]-=1),i[1]-o[1]==0&&(i[1]+=1,o[1]-=1);var n=e.coordinateSystem=new u;n.zoomLimit=e.get("scaleLimit"),n.setBoundingRect(o[0],o[1],i[0]-o[0],i[1]-o[1]),n.setCenter(e.get("center")),n.setZoom(e.get("zoom")),this.group.attr({position:n.position,scale:n.scale}),this._viewCoordSys=n},_updateController:function(e,t,a){var o=this._controller,i=this._controllerHost,n=this.group;o.setPointerChecker((function(t,o,i){var r=n.getBoundingRect();return r.applyTransform(n.transform),r.contain(o,i)&&!h(t,a,e)})),o.enable(e.get("roam")),i.zoomLimit=e.get("scaleLimit"),i.zoom=e.coordinateSystem.getZoom(),o.off("pan").off("zoom").on("pan",(function(t){d.updateViewOnPan(i,t.dx,t.dy),a.dispatchAction({seriesId:e.id,type:"treeRoam",dx:t.dx,dy:t.dy})}),this).on("zoom",(function(t){d.updateViewOnZoom(i,t.scale,t.originX,t.originY),a.dispatchAction({seriesId:e.id,type:"treeRoam",zoom:t.scale,originX:t.originX,originY:t.originY}),this._updateNodeAndLinkScale(e)}),this)},_updateNodeAndLinkScale:function(e){var t=e.getData(),a=this._getNodeGlobalScale(e),o=[a,a];t.eachItemGraphicEl((function(e,t){e.attr("scale",o)}))},_getNodeGlobalScale:function(e){var t=e.coordinateSystem;if("view"!==t.type)return 1;var a=this._nodeScaleRatio,o=t.scale,i=o&&o[0]||1;return((t.getZoom()-1)*a+1)/i},dispose:function(){this._controller&&this._controller.dispose(),this._controllerHost={}},remove:function(){this._mainGroup.removeAll(),this._data=null}});function g(e,t){var a=e.getItemLayout(t);return a&&!isNaN(a.x)&&!isNaN(a.y)&&"none"!==e.getItemVisual(t,"symbol")}function f(e,t,a){return a.itemModel=t,a.itemStyle=t.getModel("itemStyle").getItemStyle(),a.hoverItemStyle=t.getModel("emphasis.itemStyle").getItemStyle(),a.lineStyle=t.getModel("lineStyle").getLineStyle(),a.labelModel=t.getModel("label"),a.hoverLabelModel=t.getModel("emphasis.label"),!1===e.isExpand&&0!==e.children.length?a.symbolInnerColor=a.itemStyle.fill:a.symbolInnerColor="#fff",a}function m(e,t,a,r,s,l){var u=!a,d=e.tree.getNodeByDataIndex(t),c=d.getModel(),h=(l=f(d,c,l),e.tree.root),p=d.parentNode===h?d:d.parentNode||d,g=e.getItemGraphicEl(p.dataIndex),m=p.getLayout(),y=g?{x:g.position[0],y:g.position[1],rawX:g.__radialOldRawX,rawY:g.__radialOldRawY}:m,x=d.getLayout();u?(a=new n(e,t,l)).attr("position",[y.x,y.y]):a.updateData(e,t,l),a.__radialOldRawX=a.__radialRawX,a.__radialOldRawY=a.__radialRawY,a.__radialRawX=x.rawX,a.__radialRawY=x.rawY,r.add(a),e.setItemGraphicEl(t,a),i.updateProps(a,{position:[x.x,x.y]},s);var _=a.getSymbolPath();if("radial"===l.layout){var S,b,I=h.children[0],w=I.getLayout(),M=I.children.length;if(x.x===w.x&&!0===d.isExpand){var L={};L.x=(I.children[0].getLayout().x+I.children[M-1].getLayout().x)/2,L.y=(I.children[0].getLayout().y+I.children[M-1].getLayout().y)/2,(S=Math.atan2(L.y-w.y,L.x-w.x))<0&&(S=2*Math.PI+S),(b=L.x<w.x)&&(S-=Math.PI)}else(S=Math.atan2(x.y-w.y,x.x-w.x))<0&&(S=2*Math.PI+S),0===d.children.length||0!==d.children.length&&!1===d.isExpand?(b=x.x<w.x)&&(S-=Math.PI):(b=x.x>w.x)||(S-=Math.PI);var D=b?"left":"right";_.setStyle({textPosition:D,textRotation:-S,textOrigin:"center",verticalAlign:"middle"})}if(d.parentNode&&d.parentNode!==h){var A=a.__edge;A||(A=a.__edge=new i.BezierCurve({shape:v(l,y,y),style:o.defaults({opacity:0,strokeNoScale:!0},l.lineStyle)})),i.updateProps(A,{shape:v(l,m,x),style:{opacity:1}},s),r.add(A)}}function y(e,t,a,o,n,r){for(var s,l=e.tree.getNodeByDataIndex(t),u=e.tree.root,d=l.getModel(),c=(r=f(l,d,r),l.parentNode===u?l:l.parentNode||l);null==(s=c.getLayout());)c=c.parentNode===u?c:c.parentNode||c;i.updateProps(a,{position:[s.x+1,s.y+1]},n,(function(){o.remove(a),e.setItemGraphicEl(t,null)})),a.fadeOut(null,{keepLabel:!0});var h=a.__edge;h&&i.updateProps(h,{shape:v(r,s,s),style:{opacity:0}},n,(function(){o.remove(h)}))}function v(e,t,a){var o,i,n,s,l,u,d,c,h=e.orient;if("radial"===e.layout){l=t.rawX,d=t.rawY,u=a.rawX,c=a.rawY;var p=r(l,d),g=r(l,d+(c-d)*e.curvature),f=r(u,c+(d-c)*e.curvature),m=r(u,c);return{x1:p.x,y1:p.y,x2:m.x,y2:m.y,cpx1:g.x,cpy1:g.y,cpx2:f.x,cpy2:f.y}}return l=t.x,d=t.y,u=a.x,c=a.y,"LR"!==h&&"RL"!==h||(o=l+(u-l)*e.curvature,i=d,n=u+(l-u)*e.curvature,s=c),"TB"!==h&&"BT"!==h||(o=l,i=d+(c-d)*e.curvature,n=u,s=c+(d-c)*e.curvature),{x1:l,y1:d,x2:u,y2:c,cpx1:o,cpy1:i,cpx2:n,cpy2:s}}e.exports=p},69387:(e,t,a)=>{var o=a(76172);function i(e){var t=e.children;return t.length&&e.isExpand?t[t.length-1]:e.hierNode.thread}function n(e){var t=e.children;return t.length&&e.isExpand?t[0]:e.hierNode.thread}function r(e,t,a){return e.hierNode.ancestor.parentNode===t.parentNode?e.hierNode.ancestor:a}function s(e,t,a){var o=a/(t.hierNode.i-e.hierNode.i);t.hierNode.change-=o,t.hierNode.shift+=a,t.hierNode.modifier+=a,t.hierNode.prelim+=a,e.hierNode.change+=o}function l(e,t){return e.parentNode===t.parentNode?1:2}t.init=function(e){e.hierNode={defaultAncestor:null,ancestor:e,prelim:0,modifier:0,change:0,shift:0,i:0,thread:null};for(var t,a,o=[e];t=o.pop();)if(a=t.children,t.isExpand&&a.length)for(var i=a.length-1;i>=0;i--){var n=a[i];n.hierNode={defaultAncestor:null,ancestor:n,prelim:0,modifier:0,change:0,shift:0,i,thread:null},o.push(n)}},t.firstWalk=function(e,t){var a=e.isExpand?e.children:[],o=e.parentNode.children,l=e.hierNode.i?o[e.hierNode.i-1]:null;if(a.length){!function(e){for(var t=e.children,a=t.length,o=0,i=0;--a>=0;){var n=t[a];n.hierNode.prelim+=o,n.hierNode.modifier+=o,i+=n.hierNode.change,o+=n.hierNode.shift+i}}(e);var u=(a[0].hierNode.prelim+a[a.length-1].hierNode.prelim)/2;l?(e.hierNode.prelim=l.hierNode.prelim+t(e,l),e.hierNode.modifier=e.hierNode.prelim-u):e.hierNode.prelim=u}else l&&(e.hierNode.prelim=l.hierNode.prelim+t(e,l));e.parentNode.hierNode.defaultAncestor=function(e,t,a,o){if(t){for(var l=e,u=e,d=u.parentNode.children[0],c=t,h=l.hierNode.modifier,p=u.hierNode.modifier,g=d.hierNode.modifier,f=c.hierNode.modifier;c=i(c),u=n(u),c&&u;){l=i(l),d=n(d),l.hierNode.ancestor=e;var m=c.hierNode.prelim+f-u.hierNode.prelim-p+o(c,u);m>0&&(s(r(c,e,a),e,m),p+=m,h+=m),f+=c.hierNode.modifier,p+=u.hierNode.modifier,h+=l.hierNode.modifier,g+=d.hierNode.modifier}c&&!i(l)&&(l.hierNode.thread=c,l.hierNode.modifier+=f-h),u&&!n(d)&&(d.hierNode.thread=u,d.hierNode.modifier+=p-g,a=e)}return a}(e,l,e.parentNode.hierNode.defaultAncestor||o[0],t)},t.secondWalk=function(e){var t=e.hierNode.prelim+e.parentNode.hierNode.modifier;e.setLayout({x:t},!0),e.hierNode.modifier+=e.parentNode.hierNode.modifier},t.separation=function(e){return arguments.length?e:l},t.radialCoordinate=function(e,t){var a={};return e-=Math.PI/2,a.x=t*Math.cos(e),a.y=t*Math.sin(e),a},t.getViewRect=function(e,t){return o.getLayoutRect(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}},55128:(e,t)=>{t.eachAfter=function(e,t,a){for(var o,i=[e],n=[];o=i.pop();)if(n.push(o),o.isExpand){var r=o.children;if(r.length)for(var s=0;s<r.length;s++)i.push(r[s])}for(;o=n.pop();)t(o,a)},t.eachBefore=function(e,t){for(var a,o=[e];a=o.pop();)if(t(a),a.isExpand){var i=a.children;if(i.length)for(var n=i.length-1;n>=0;n--)o.push(i[n])}}},1969:(e,t,a)=>{var o=a(70492),i=a(60553).updateCenterAndZoom;o.registerAction({type:"treeExpandAndCollapse",event:"treeExpandAndCollapse",update:"update"},(function(e,t){t.eachComponent({mainType:"series",subType:"tree",query:e},(function(t){var a=e.dataIndex,o=t.getData().tree.getNodeByDataIndex(a);o.isExpand=!o.isExpand}))})),o.registerAction({type:"treeRoam",event:"treeRoam",update:"none"},(function(e,t){t.eachComponent({mainType:"series",subType:"tree",query:e},(function(t){var a=t.coordinateSystem,o=i(a,e);t.setCenter&&t.setCenter(o.center),t.setZoom&&t.setZoom(o.zoom)}))}))},92961:(e,t,a)=>{var o=a(55128),i=o.eachAfter,n=o.eachBefore,r=a(69387),s=r.init,l=r.firstWalk,u=r.secondWalk,d=r.separation,c=r.radialCoordinate,h=r.getViewRect;e.exports=function(e,t){e.eachSeriesByType("tree",(function(e){!function(e,t){var a=h(e,t);e.layoutInfo=a;var o=e.get("layout"),r=0,p=0,g=null;"radial"===o?(r=2*Math.PI,p=Math.min(a.height,a.width)/2,g=d((function(e,t){return(e.parentNode===t.parentNode?1:2)/e.depth}))):(r=a.width,p=a.height,g=d());var f=e.getData().tree.root,m=f.children[0];if(m){s(f),i(m,l,g),f.hierNode.modifier=-m.hierNode.prelim,n(m,u);var y=m,v=m,x=m;n(m,(function(e){var t=e.getLayout().x;t<y.getLayout().x&&(y=e),t>v.getLayout().x&&(v=e),e.depth>x.depth&&(x=e)}));var _=y===v?1:g(y,v)/2,S=_-y.getLayout().x,b=0,I=0,w=0,M=0;if("radial"===o)b=r/(v.getLayout().x+_+S),I=p/(x.depth-1||1),n(m,(function(e){w=(e.getLayout().x+S)*b,M=(e.depth-1)*I;var t=c(w,M);e.setLayout({x:t.x,y:t.y,rawX:w,rawY:M},!0)}));else{var L=e.getOrient();"RL"===L||"LR"===L?(I=p/(v.getLayout().x+_+S),b=r/(x.depth-1||1),n(m,(function(e){M=(e.getLayout().x+S)*I,w="LR"===L?(e.depth-1)*b:r-(e.depth-1)*b,e.setLayout({x:w,y:M},!0)}))):"TB"!==L&&"BT"!==L||(b=r/(v.getLayout().x+_+S),I=p/(x.depth-1||1),n(m,(function(e){w=(e.getLayout().x+S)*b,M="TB"===L?(e.depth-1)*I:p-(e.depth-1)*I,e.setLayout({x:w,y:M},!0)})))}}}(e,t)}))}},17831:(e,t,a)=>{var o=a(70492);a(37670),a(45255),a(93663);var i=a(46188),n=a(29605);o.registerVisual(i),o.registerLayout(n)},2711:(e,t,a)=>{var o=a(51177),i=a(76172),n=a(33051),r=a(68833).wrapTreePathInfo;function s(e){this.group=new o.Group,e.add(this.group)}function l(e,t,a,o,i,n){var r=[[i?e:e-5,t],[e+a,t],[e+a,t+o],[i?e:e-5,t+o]];return!n&&r.splice(2,0,[e+a+5,t+o/2]),!i&&r.push([e,t+o/2]),r}function u(e,t,a){e.eventData={componentType:"series",componentSubType:"treemap",componentIndex:t.componentIndex,seriesIndex:t.componentIndex,seriesName:t.name,seriesType:"treemap",selfType:"breadcrumb",nodeData:{dataIndex:a&&a.dataIndex,name:a&&a.name},treePathInfo:a&&r(a,t)}}s.prototype={constructor:s,render:function(e,t,a,o){var n=e.getModel("breadcrumb"),r=this.group;if(r.removeAll(),n.get("show")&&a){var s=n.getModel("itemStyle"),l=s.getModel("textStyle"),u={pos:{left:n.get("left"),right:n.get("right"),top:n.get("top"),bottom:n.get("bottom")},box:{width:t.getWidth(),height:t.getHeight()},emptyItemWidth:n.get("emptyItemWidth"),totalWidth:0,renderList:[]};this._prepare(a,u,l),this._renderContent(e,u,s,l,o),i.positionElement(r,u.pos,u.box)}},_prepare:function(e,t,a){for(var o=e;o;o=o.parentNode){var i=o.getModel().get("name"),n=a.getTextRect(i),r=Math.max(n.width+16,t.emptyItemWidth);t.totalWidth+=r+8,t.renderList.push({node:o,text:i,width:r})}},_renderContent:function(e,t,a,r,s){for(var d=0,c=t.emptyItemWidth,h=e.get("breadcrumb.height"),p=i.getAvailableSize(t.pos,t.box),g=t.totalWidth,f=t.renderList,m=f.length-1;m>=0;m--){var y=f[m],v=y.node,x=y.width,_=y.text;g>p.width&&(g-=x-c,x=c,_=null);var S=new o.Polygon({shape:{points:l(d,0,x,h,m===f.length-1,0===m)},style:n.defaults(a.getItemStyle(),{lineJoin:"bevel",text:_,textFill:r.getTextColor(),textFont:r.getFont()}),z:10,onclick:n.curry(s,v)});this.group.add(S),u(S,e,v),d+=x+8}},remove:function(){this.group.removeAll()}};var d=s;e.exports=d},37670:(e,t,a)=>{var o=a(33051),i=a(93321),n=a(9327),r=a(4272),s=a(78988),l=s.encodeHTML,u=s.addCommas,d=a(68833).wrapTreePathInfo,c=i.extend({type:"series.treemap",layoutMode:"box",dependencies:["grid","polar"],_viewRoot:null,defaultOption:{progressive:0,hoverLayerThreshold:1/0,left:"center",top:"middle",right:null,bottom:null,width:"80%",height:"80%",sort:!0,clipWindow:"origin",squareRatio:.5*(1+Math.sqrt(5)),leafDepth:null,drillDownIcon:"",zoomToNodeRatio:.1024,roam:!0,nodeClick:"zoomToNode",animation:!0,animationDurationUpdate:900,animationEasing:"quinticInOut",breadcrumb:{show:!0,height:22,left:"center",top:"bottom",emptyItemWidth:25,itemStyle:{color:"rgba(0,0,0,0.7)",borderColor:"rgba(255,255,255,0.7)",borderWidth:1,shadowColor:"rgba(150,150,150,1)",shadowBlur:3,shadowOffsetX:0,shadowOffsetY:0,textStyle:{color:"#fff"}},emphasis:{textStyle:{}}},label:{show:!0,distance:0,padding:5,position:"inside",color:"#fff",ellipsis:!0},upperLabel:{show:!1,position:[0,"50%"],height:20,color:"#fff",ellipsis:!0,verticalAlign:"middle"},itemStyle:{color:null,colorAlpha:null,colorSaturation:null,borderWidth:0,gapWidth:0,borderColor:"#fff",borderColorSaturation:null},emphasis:{upperLabel:{show:!0,position:[0,"50%"],color:"#fff",ellipsis:!0,verticalAlign:"middle"}},visualDimension:0,visualMin:null,visualMax:null,color:[],colorAlpha:null,colorSaturation:null,colorMappingBy:"index",visibleMin:10,childrenVisibleMin:null,levels:[]},getInitialData:function(e,t){var a={name:e.name,children:e.data};h(a);var i=e.levels||[];i=e.levels=function(e,t){var a,i=t.get("color");if(i)return e=e||[],o.each(e,(function(e){var t=new r(e),o=t.get("color");(t.get("itemStyle.color")||o&&"none"!==o)&&(a=!0)})),a||((e[0]||(e[0]={})).color=i.slice()),e}(i,t);var s={};return s.levels=i,n.createTree(a,this,s).data},optionUpdated:function(){this.resetViewRoot()},formatTooltip:function(e){var t=this.getData(),a=this.getRawValue(e),i=o.isArray(a)?u(a[0]):u(a),n=t.getName(e);return l(n+": "+i)},getDataParams:function(e){var t=i.prototype.getDataParams.apply(this,arguments),a=this.getData().tree.getNodeByDataIndex(e);return t.treePathInfo=d(a,this),t},setLayoutInfo:function(e){this.layoutInfo=this.layoutInfo||{},o.extend(this.layoutInfo,e)},mapIdToIndex:function(e){var t=this._idIndexMap;t||(t=this._idIndexMap=o.createHashMap(),this._idIndexMapCount=0);var a=t.get(e);return null==a&&t.set(e,a=this._idIndexMapCount++),a},getViewRoot:function(){return this._viewRoot},resetViewRoot:function(e){e?this._viewRoot=e:e=this._viewRoot;var t=this.getRawData().tree.root;e&&(e===t||t.contains(e))||(this._viewRoot=t)}});function h(e){var t=0;o.each(e.children,(function(e){h(e);var a=e.value;o.isArray(a)&&(a=a[0]),t+=a}));var a=e.value;o.isArray(a)&&(a=a[0]),(null==a||isNaN(a))&&(a=t),a<0&&(a=0),o.isArray(e.value)?e.value[0]=a:e.value=a}e.exports=c},45255:(e,t,a)=>{var o=a(70492),i=a(33051),n=a(51177),r=a(4130),s=a(68833),l=a(2711),u=a(9176),d=a(60479),c=a(32892),h=a(34584),p=a(59066),g=i.bind,f=n.Group,m=n.Rect,y=i.each,v=["label"],x=["emphasis","label"],_=["upperLabel"],S=["emphasis","upperLabel"],b=p([["fill","color"],["stroke","strokeColor"],["lineWidth","strokeWidth"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),I=function(e){var t=b(e);return t.stroke=t.fill=t.lineWidth=null,t},w=o.extendChartView({type:"treemap",init:function(e,t){this._containerGroup,this._storage={nodeGroup:[],background:[],content:[]},this._oldTree,this._breadcrumb,this._controller,this._state="ready"},render:function(e,t,a,o){var n=t.findComponents({mainType:"series",subType:"treemap",query:o});if(!(i.indexOf(n,e)<0)){this.seriesModel=e,this.api=a,this.ecModel=t;var r=s.retrieveTargetInfo(o,["treemapZoomToNode","treemapRootToNode"],e),l=o&&o.type,u=e.layoutInfo,d=!this._oldTree,c=this._storage,h="treemapRootToNode"===l&&r&&c?{rootNodeGroup:c.nodeGroup[r.node.getRawIndex()],direction:o.direction}:null,p=this._giveContainerGroup(u),g=this._doRender(p,e,h);d||l&&"treemapZoomToNode"!==l&&"treemapRootToNode"!==l?g.renderFinally():this._doAnimation(p,g,e,h),this._resetController(a),this._renderBreadcrumb(e,a,r)}},_giveContainerGroup:function(e){var t=this._containerGroup;return t||(t=this._containerGroup=new f,this._initEvents(t),this.group.add(t)),t.attr("position",[e.x,e.y]),t},_doRender:function(e,t,a){var o=t.getData().tree,n=this._oldTree,s={nodeGroup:[],background:[],content:[]},l={nodeGroup:[],background:[],content:[]},u=this._storage,d=[],c=i.curry(M,t,l,u,a,s,d);!function e(t,a,o,n,s){function l(e){return e.getId()}function u(i,r){var l=null!=i?t[i]:null,u=null!=r?a[r]:null,d=c(l,u,o,s);d&&e(l&&l.viewChildren||[],u&&u.viewChildren||[],d,n,s+1)}n?(a=t,y(t,(function(e,t){!e.isRemoved()&&u(t,t)}))):new r(a,t,l,l).add(u).update(u).remove(i.curry(u,null)).execute()}(o.root?[o.root]:[],n&&n.root?[n.root]:[],e,o===n||!n,0);var h=function(e){var t={nodeGroup:[],background:[],content:[]};return e&&y(e,(function(e,a){var o=t[a];y(e,(function(e){e&&(o.push(e),e.__tmWillDelete=1)}))})),t}(u);return this._oldTree=o,this._storage=l,{lastsForAnimation:s,willDeleteEls:h,renderFinally:function(){y(h,(function(e){y(e,(function(e){e.parent&&e.parent.remove(e)}))})),y(d,(function(e){e.invisible=!0,e.dirty()}))}}},_doAnimation:function(e,t,a,o){if(a.get("animation")){var n=a.get("animationDurationUpdate"),r=a.get("animationEasing"),s=h.createWrap();y(t.willDeleteEls,(function(e,t){y(e,(function(e,a){if(!e.invisible){var i,l=e.parent;if(o&&"drillDown"===o.direction)i=l===o.rootNodeGroup?{shape:{x:0,y:0,width:l.__tmNodeWidth,height:l.__tmNodeHeight},style:{opacity:0}}:{style:{opacity:0}};else{var u=0,d=0;l.__tmWillDelete||(u=l.__tmNodeWidth/2,d=l.__tmNodeHeight/2),i="nodeGroup"===t?{position:[u,d],style:{opacity:0}}:{shape:{x:u,y:d,width:0,height:0},style:{opacity:0}}}i&&s.add(e,i,n,r)}}))})),y(this._storage,(function(e,a){y(e,(function(e,o){var l=t.lastsForAnimation[a][o],u={};l&&("nodeGroup"===a?l.old&&(u.position=e.position.slice(),e.attr("position",l.old)):(l.old&&(u.shape=i.extend({},e.shape),e.setShape(l.old)),l.fadein?(e.setStyle("opacity",0),u.style={opacity:1}):1!==e.style.opacity&&(u.style={opacity:1})),s.add(e,u,n,r))}))}),this),this._state="animating",s.done(g((function(){this._state="ready",t.renderFinally()}),this)).start()}},_resetController:function(e){var t=this._controller;t||((t=this._controller=new u(e.getZr())).enable(this.seriesModel.get("roam")),t.on("pan",g(this._onPan,this)),t.on("zoom",g(this._onZoom,this)));var a=new d(0,0,e.getWidth(),e.getHeight());t.setPointerChecker((function(e,t,o){return a.contain(t,o)}))},_clearController:function(){var e=this._controller;e&&(e.dispose(),e=null)},_onPan:function(e){if("animating"!==this._state&&(Math.abs(e.dx)>3||Math.abs(e.dy)>3)){var t=this.seriesModel.getData().tree.root;if(!t)return;var a=t.getLayout();if(!a)return;this.api.dispatchAction({type:"treemapMove",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:a.x+e.dx,y:a.y+e.dy,width:a.width,height:a.height}})}},_onZoom:function(e){var t=e.originX,a=e.originY;if("animating"!==this._state){var o=this.seriesModel.getData().tree.root;if(!o)return;var i=o.getLayout();if(!i)return;var n=new d(i.x,i.y,i.width,i.height),r=this.seriesModel.layoutInfo;t-=r.x,a-=r.y;var s=c.create();c.translate(s,s,[-t,-a]),c.scale(s,s,[e.scale,e.scale]),c.translate(s,s,[t,a]),n.applyTransform(s),this.api.dispatchAction({type:"treemapRender",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:n.x,y:n.y,width:n.width,height:n.height}})}},_initEvents:function(e){e.on("click",(function(e){if("ready"===this._state){var t=this.seriesModel.get("nodeClick",!0);if(t){var a=this.findTarget(e.offsetX,e.offsetY);if(a){var o=a.node;if(o.getLayout().isLeafRoot)this._rootToNode(a);else if("zoomToNode"===t)this._zoomToNode(a);else if("link"===t){var i=o.hostTree.data.getItemModel(o.dataIndex),n=i.get("link",!0),r=i.get("target",!0)||"blank";n&&window.open(n,r)}}}}}),this)},_renderBreadcrumb:function(e,t,a){a||(a=null!=e.get("leafDepth",!0)?{node:e.getViewRoot()}:this.findTarget(t.getWidth()/2,t.getHeight()/2))||(a={node:e.getData().tree.root}),(this._breadcrumb||(this._breadcrumb=new l(this.group))).render(e,t,a.node,g((function(t){"animating"!==this._state&&(s.aboveViewRoot(e.getViewRoot(),t)?this._rootToNode({node:t}):this._zoomToNode({node:t}))}),this))},remove:function(){this._clearController(),this._containerGroup&&this._containerGroup.removeAll(),this._storage={nodeGroup:[],background:[],content:[]},this._state="ready",this._breadcrumb&&this._breadcrumb.remove()},dispose:function(){this._clearController()},_zoomToNode:function(e){this.api.dispatchAction({type:"treemapZoomToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:e.node})},_rootToNode:function(e){this.api.dispatchAction({type:"treemapRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:e.node})},findTarget:function(e,t){var a;return this.seriesModel.getViewRoot().eachNode({attr:"viewChildren",order:"preorder"},(function(o){var i=this._storage.background[o.getRawIndex()];if(i){var n=i.transformCoordToLocal(e,t),r=i.shape;if(!(r.x<=n[0]&&n[0]<=r.x+r.width&&r.y<=n[1]&&n[1]<=r.y+r.height))return!1;a={node:o,offsetX:n[0],offsetY:n[1]}}}),this),a}});function M(e,t,a,o,r,s,l,u,d,c){if(l){var h=l.getLayout();if(h&&h.isInView){var p=h.width,g=h.height,y=h.borderWidth,w=h.invisible,M=l.getRawIndex(),D=u&&u.getRawIndex(),A=l.viewChildren,N=h.upperHeight,P=A&&A.length,C=l.getModel("itemStyle"),T=l.getModel("emphasis.itemStyle"),R=G("nodeGroup",f);if(R){if(d.add(R),R.attr("position",[h.x||0,h.y||0]),R.__tmNodeWidth=p,R.__tmNodeHeight=g,h.isAboveViewRoot)return R;var E=G("background",m,c,1);if(E&&function(t,a,o){a.dataIndex=l.dataIndex,a.seriesIndex=e.seriesIndex,a.setShape({x:0,y:0,width:p,height:g});var i=l.getVisual("borderColor",!0),r=T.get("borderColor");O(a,(function(){var e=I(C);e.fill=i;var t=b(T);if(t.fill=r,o){var s=p-2*y;z(e,t,i,s,N,{x:y,y:0,width:s,height:N})}else e.text=t.text=null;a.setStyle(e),n.setHoverStyle(a,t)})),t.add(a)}(R,E,P&&h.upperHeight),!P){var V=G("content",m,c,2);V&&function(t,a){a.dataIndex=l.dataIndex,a.seriesIndex=e.seriesIndex;var o=Math.max(p-2*y,0),i=Math.max(g-2*y,0);a.culling=!0,a.setShape({x:y,y,width:o,height:i});var r=l.getVisual("color",!0);O(a,(function(){var e=I(C);e.fill=r;var t=b(T);z(e,t,r,o,i),a.setStyle(e),n.setHoverStyle(a,t)})),t.add(a)}(R,V)}return R}}}function O(e,t){w?!e.invisible&&s.push(e):(t(),e.__tmWillVisible||(e.invisible=!1))}function z(t,a,o,r,s,u){var d=l.getModel(),c=i.retrieve(e.getFormattedLabel(l.dataIndex,"normal",null,null,u?"upperLabel":"label"),d.get("name"));if(!u&&h.isLeafRoot){var p=e.get("drillDownIcon",!0);c=p?p+" "+c:c}var g=d.getModel(u?_:v),f=d.getModel(u?S:x),m=g.getShallow("show");n.setLabelStyle(t,a,g,f,{defaultText:m?c:null,autoColor:o,isRectText:!0}),u&&(t.textRect=i.clone(u)),t.truncate=m&&g.get("ellipsis")?{outerWidth:r,outerHeight:s,minChar:2}:null}function G(e,n,s,u){var d=null!=D&&a[e][D],c=r[e];return d?(a[e][D]=null,function(e,t,a){(e[M]={}).old="nodeGroup"===a?t.position.slice():i.extend({},t.shape)}(c,d,e)):w||((d=new n({z:L(s,u)})).__tmDepth=s,d.__tmStorageName=e,function(e,t,a){var i=e[M]={},n=l.parentNode;if(n&&(!o||"drillDown"===o.direction)){var s=0,u=0,d=r.background[n.getRawIndex()];!o&&d&&d.old&&(s=d.old.width,u=d.old.height),i.old="nodeGroup"===a?[0,u]:{x:s,y:u,width:0,height:0}}i.fadein="nodeGroup"!==a}(c,0,e)),t[e][M]=d}}function L(e,t){var a=10*e+t;return(a-1)/a}e.exports=w},93663:(e,t,a)=>{for(var o=a(70492),i=a(68833),n=function(){},r=["treemapZoomToNode","treemapRender","treemapMove"],s=0;s<r.length;s++)o.registerAction({type:r[s],update:"updateView"},n);o.registerAction({type:"treemapRootToNode",update:"updateView"},(function(e,t){t.eachComponent({mainType:"series",subType:"treemap",query:e},(function(t,a){var o=i.retrieveTargetInfo(e,["treemapZoomToNode","treemapRootToNode"],t);if(o){var n=t.getViewRoot();n&&(e.direction=i.aboveViewRoot(n,o.node)?"rollUp":"drillDown"),t.resetViewRoot(o.node)}}))}))},29605:(e,t,a)=>{var o=a(33051),i=a(60479),n=a(85669),r=n.parsePercent,s=n.MAX_SAFE_INTEGER,l=a(76172),u=a(68833),d=Math.max,c=Math.min,h=o.retrieve,p=o.each,g=["itemStyle","borderWidth"],f=["itemStyle","gapWidth"],m=["upperLabel","show"],y=["upperLabel","height"],v={seriesType:"treemap",reset:function(e,t,a,n){var d=a.getWidth(),c=a.getHeight(),f=e.option,m=l.getLayoutRect(e.getBoxLayoutParams(),{width:a.getWidth(),height:a.getHeight()}),y=f.size||[],v=r(h(m.width,y[0]),d),_=r(h(m.height,y[1]),c),S=n&&n.type,w=u.retrieveTargetInfo(n,["treemapZoomToNode","treemapRootToNode"],e),M="treemapRender"===S||"treemapMove"===S?n.rootRect:null,L=e.getViewRoot(),D=u.getPathToRoot(L);if("treemapMove"!==S){var A="treemapZoomToNode"===S?function(e,t,a,o,i){var n,r=(t||{}).node,l=[o,i];if(!r||r===a)return l;for(var u=o*i,d=u*e.option.zoomToNodeRatio;n=r.parentNode;){for(var c=0,h=n.children,p=0,f=h.length;p<f;p++)c+=h[p].getValue();var m=r.getValue();if(0===m)return l;d*=c/m;var y=n.getModel(),v=y.get(g);(d+=4*v*v+(3*v+Math.max(v,I(y)))*Math.pow(d,.5))>s&&(d=s),r=n}d<u&&(d=u);var x=Math.pow(d/u,.5);return[o*x,i*x]}(e,w,L,v,_):M?[M.width,M.height]:[v,_],N=f.sort;N&&"asc"!==N&&"desc"!==N&&(N="desc");var P={squareRatio:f.squareRatio,sort:N,leafDepth:f.leafDepth};L.hostTree.clearLayouts();var C={x:0,y:0,width:A[0],height:A[1],area:A[0]*A[1]};L.setLayout(C),x(L,P,!1,0),C=L.getLayout(),p(D,(function(e,t){var a=(D[t+1]||L).getValue();e.setLayout(o.extend({dataExtent:[a,a],borderWidth:0,upperHeight:0},C))}))}var T=e.getData().tree.root;T.setLayout(function(e,t,a){if(t)return{x:t.x,y:t.y};var o={x:0,y:0};if(!a)return o;var i=a.node,n=i.getLayout();if(!n)return o;for(var r=[n.width/2,n.height/2],s=i;s;){var l=s.getLayout();r[0]+=l.x,r[1]+=l.y,s=s.parentNode}return{x:e.width/2-r[0],y:e.height/2-r[1]}}(m,M,w),!0),e.setLayoutInfo(m),b(T,new i(-m.x,-m.y,d,c),D,L,0)}};function x(e,t,a,i){var n,r;if(!e.isRemoved()){var s=e.getLayout();n=s.width,r=s.height;var l=(b=e.getModel()).get(g),u=b.get(f)/2,h=I(b),m=Math.max(l,h),y=l-u,v=m-u,b=e.getModel();e.setLayout({borderWidth:l,upperHeight:m,upperLabelHeight:h},!0);var w=(n=d(n-2*y,0))*(r=d(r-y-v,0)),M=function(e,t,a,i,n,r){var s=e.children||[],l=i.sort;"asc"!==l&&"desc"!==l&&(l=null);var u=null!=i.leafDepth&&i.leafDepth<=r;if(n&&!u)return e.viewChildren=[];s=o.filter(s,(function(e){return!e.isRemoved()})),function(e,t){t&&e.sort((function(e,a){var o="asc"===t?e.getValue()-a.getValue():a.getValue()-e.getValue();return 0===o?"asc"===t?e.dataIndex-a.dataIndex:a.dataIndex-e.dataIndex:o}))}(s,l);var d=function(e,t,a){for(var o=0,i=0,n=t.length;i<n;i++)o+=t[i].getValue();var r=e.get("visualDimension");if(t&&t.length)if("value"===r&&a)s=[t[t.length-1].getValue(),t[0].getValue()],"asc"===a&&s.reverse();else{var s=[1/0,-1/0];p(t,(function(e){var t=e.getValue(r);t<s[0]&&(s[0]=t),t>s[1]&&(s[1]=t)}))}else s=[NaN,NaN];return{sum:o,dataExtent:s}}(t,s,l);if(0===d.sum)return e.viewChildren=[];if(d.sum=function(e,t,a,o,i){if(!o)return a;for(var n=e.get("visibleMin"),r=i.length,s=r,l=r-1;l>=0;l--){var u=i["asc"===o?r-l-1:l].getValue();u/a*t<n&&(s=l,a-=u)}return"asc"===o?i.splice(0,r-s):i.splice(s,r-s),a}(t,a,d.sum,l,s),0===d.sum)return e.viewChildren=[];for(var c=0,h=s.length;c<h;c++){var g=s[c].getValue()/d.sum*a;s[c].setLayout({area:g})}return u&&(s.length&&e.setLayout({isLeafRoot:!0},!0),s.length=0),e.viewChildren=s,e.setLayout({dataExtent:d.dataExtent},!0),s}(e,b,w,t,a,i);if(M.length){var L={x:y,y:v,width:n,height:r},D=c(n,r),A=1/0,N=[];N.area=0;for(var P=0,C=M.length;P<C;){var T=M[P];N.push(T),N.area+=T.getLayout().area;var R=_(N,D,t.squareRatio);R<=A?(P++,A=R):(N.area-=N.pop().getLayout().area,S(N,D,L,u,!1),D=c(L.width,L.height),N.length=N.area=0,A=1/0)}if(N.length&&S(N,D,L,u,!0),!a){var E=b.get("childrenVisibleMin");null!=E&&w<E&&(a=!0)}for(P=0,C=M.length;P<C;P++)x(M[P],t,a,i+1)}}}function _(e,t,a){for(var o,i=0,n=1/0,r=0,s=e.length;r<s;r++)(o=e[r].getLayout().area)&&(o<n&&(n=o),o>i&&(i=o));var l=e.area*e.area,u=t*t*a;return l?d(u*i/l,l/(u*n)):1/0}function S(e,t,a,o,i){var n=t===a.width?0:1,r=1-n,s=["x","y"],l=["width","height"],u=a[s[n]],h=t?e.area/t:0;(i||h>a[l[r]])&&(h=a[l[r]]);for(var p=0,g=e.length;p<g;p++){var f=e[p],m={},y=h?f.getLayout().area/h:0,v=m[l[r]]=d(h-2*o,0),x=a[s[n]]+a[l[n]]-u,_=p===g-1||x<y?x:y,S=m[l[n]]=d(_-2*o,0);m[s[r]]=a[s[r]]+c(o,v/2),m[s[n]]=u+c(o,S/2),u+=_,f.setLayout(m,!0)}a[s[r]]+=h,a[l[r]]-=h}function b(e,t,a,o,n){var r=e.getLayout(),s=a[n],l=s&&s===e;if(!(s&&!l||n===a.length&&e!==o)){e.setLayout({isInView:!0,invisible:!l&&!t.intersect(r),isAboveViewRoot:l},!0);var u=new i(t.x-r.x,t.y-r.y,t.width,t.height);p(e.viewChildren||[],(function(e){b(e,u,a,o,n+1)}))}}function I(e){return e.get(m)?e.get(y):0}e.exports=v},46188:(e,t,a)=>{var o=a(59937),i=a(21092),n=a(33051),r=n.isArray,s="itemStyle",l={seriesType:"treemap",reset:function(e,t,a,o){var i=e.getData().tree,r=i.root,l=e.getModel(s);r.isRemoved()||u(r,{},n.map(i.levelModels,(function(e){return e?e.get(s):null})),l,e.getViewRoot().getAncestors(),e)}};function u(e,t,a,r,l,c){var p=e.getModel(),g=e.getLayout();if(g&&!g.invisible&&g.isInView){var f,m=e.getModel(s),y=function(e,t,a,o){var i=n.extend({},t);return n.each(["color","colorAlpha","colorSaturation"],(function(n){var r=e.get(n,!0);null==r&&a&&(r=a[n]),null==r&&(r=t[n]),null==r&&(r=o.get(n)),null!=r&&(i[n]=r)})),i}(m,t,a[e.depth],r),v=m.get("borderColor"),x=m.get("borderColorSaturation");null!=x&&(v=function(e,t){return null!=t?i.modifyHSL(t,null,null,e):null}(x,f=d(y))),e.setVisual("borderColor",v);var _=e.viewChildren;if(_&&_.length){var S=function(e,t,a,i,n,r){if(r&&r.length){var s=h(t,"color")||null!=n.color&&"none"!==n.color&&(h(t,"colorAlpha")||h(t,"colorSaturation"));if(s){var l=t.get("visualMin"),u=t.get("visualMax"),d=a.dataExtent.slice();null!=l&&l<d[0]&&(d[0]=l),null!=u&&u>d[1]&&(d[1]=u);var c=t.get("colorMappingBy"),p={type:s.name,dataExtent:d,visual:s.range};"color"!==p.type||"index"!==c&&"id"!==c?p.mappingMethod="linear":(p.mappingMethod="category",p.loop=!0);var g=new o(p);return g.__drColorMappingBy=c,g}}}(0,p,g,0,y,_);n.each(_,(function(e,t){if(e.depth>=l.length||e===l[e.depth]){var o=function(e,t,a,o,i,r){var s=n.extend({},t);if(i){var l=i.type,u="color"===l&&i.__drColorMappingBy,d="index"===u?o:"id"===u?r.mapIdToIndex(a.getId()):a.getValue(e.get("visualDimension"));s[l]=i.mapValueToVisual(d)}return s}(p,y,e,t,S,c);u(e,o,a,r,l,c)}}))}else f=d(y),e.setVisual("color",f)}}function d(e){var t=c(e,"color");if(t){var a=c(e,"colorAlpha"),o=c(e,"colorSaturation");return o&&(t=i.modifyHSL(t,null,null,o)),a&&(t=i.modifyAlpha(t,a)),t}}function c(e,t){var a=e[t];if(null!=a&&"none"!==a)return a}function h(e,t){var a=e.get(t);return r(a)&&a.length?{name:t,range:a}:null}e.exports=l}}]);